form_TUR_effect = {
	if = {
		limit = {
			government = monarchy
		}
		change_tag = TUR
	}
	if = {
		limit = {
			government = republic
		}
		change_tag = TUY
	}
}

form_SWE_effect = {
	scandinavia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	scandinavia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = SWE }
		}
		change_tag = SWE
	}
	RSW = {
		country_event = { id = flavor_swe.4308 days = 5 }
	}
	add_stability_1 = yes
	Effect_set_capital = { target=1 }
}

form_KAL_effect = {
	scandinavia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	scandinavia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	danish_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	danish_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	norwegian_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	norwegian_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	finland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	finland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			primary_culture = danish
		}
		add_accepted_culture = norwegian
		add_accepted_culture = swedish
	}
	if = {
		limit = {
			primary_culture = norwegian
		}
		add_accepted_culture = danish
		add_accepted_culture = swedish
	}
	if = {
		limit = {
			primary_culture = swedish
		}
		add_accepted_culture = danish
		add_accepted_culture = norwegian
	}
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = KAL }
		}
		change_tag = KAL
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = SCA_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_DAN_effect = {
	danish_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	danish_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	norwegian_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	norwegian_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = DAN }
		}
		change_tag = DAN
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = DAN_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				primary_culture = norwegian
				primary_culture = danish
				capital_scope = { region = danish_region }
				capital_scope = { region = norwegian_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = DAN
		ROOT = { add_historical_rival = PREV }
	}
}

form_BYZ_effect = {
	greece_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	greece_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	north_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	south_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	if = {
		limit = {
			NOT = { exists = BYZ }
		}
		change_tag = BYZ
	}
	Effect_set_capital = { target=1402 }
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = BYZ_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_LAT_effect = {
	thrace_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	thrace_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	greece_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	greece_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	north_anatolia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	#south_anatolia_region = { limit = { owned_by = ROOT } } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	#south_anatolia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	add_absolutism = 10
	if = {
		limit = {
			NOT = { exists = LAT }
		}
		change_tag = LAT
	}
	Effect_set_capital = { target=1402 }
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = LAT_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_RUS_effect = {
	north_russia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_russia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	russia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	russia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	east_russia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_russia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	steppes_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	steppes_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	sloboda_ukraine_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	sloboda_ukraine_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	if = {
		limit = {
			NOT = { exists = RUS }
		}
		change_tag = RUS
	}
	set_country_flag = rus_formed
	add_absolutism = 10
	
	#clr_country_flag = great_predator_plan_set
	
	#every_province = {
	#	limit = {
	#		has_province_flag = conquest_expansion_target_MOS
	#	}
	#	clr_province_flag = conquest_expansion_target_MOS
	#	set_province_flag = conquest_expansion_target_MOS
	#}
			
	#set_country_flag = great_predator
			
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = RUS_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				primary_culture = russian
				capital_scope = { region = north_russia_region }
				capital_scope = { region = russia_region }
				capital_scope = { region = east_russia_region }
				tag = LIT
				tag = POL
				tag = PLC
			}
			NOT = { tag = ROOT }
			NOT = { is_subject_of = ROOT }
		}
		add_historical_rival = RUS
		ROOT = { add_historical_rival = PREV }
	}
}

form_TIB_effect = {
	tibet_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	tibet_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TIB }
		}
		change_tag = TIB
	}
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = TIB_ideas_dg }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
			BHU = { vassal_of = ROOT }
		}
		inherit = BHU
	}
	if = {
		limit = {
			MDO = { vassal_of = ROOT }
		}
		inherit = MDO
	}
	if = {
		limit = {
			GUG = { vassal_of = ROOT }
		}
		inherit = GUG
	}
	if = {
		limit = {
			UTS = { vassal_of = ROOT }
		}
		inherit = UTS
	}
	if = {
		limit = {
			LDK = { vassal_of = ROOT }
		}
		inherit = LDK
	}
	if = {
		limit = {
			SKK = { vassal_of = ROOT }
		}
		inherit = SKK
	}
}

form_KOJ_effect = {
	palestine_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	palestine_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = KOJ }
		}
		change_tag = KOJ
	}
	Effect_set_capital = { target=379 }
	add_absolutism = 10
	364 = {
		rename_capital = "Acre"
		change_province_name = "Acre"
	}
	379 = {
		rename_capital = "Jerusalem"
		change_province_name = "Jerusalem"
	}
	1331 = {
		rename_capital = "Val Moyse"
		change_province_name = "Val Moyse"
	}
	2634 = {
		rename_capital = "Ascalon"
		change_province_name = "Ascalon"
	}
	2635 = {
		rename_capital = "Tyr"
		change_province_name = "Tyr"
	}
	2636 = {
		rename_capital = "Adraa"
		change_province_name = "Adraa"
	}
	2575 = {
		rename_capital = "Krak de Montréal"
		change_province_name = "Montréal"
	}
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = KOJ_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_TEU_effect = {
	prussia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	prussia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TEU }
		}
		change_tag = TEU
	}
	Effect_set_capital = { target=1844 }
	add_stability_1 = yes
}

form_LVO_effect = {
	baltic_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	baltic_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = LVO }
		}
		change_tag = LVO
	}
	Effect_set_capital = { target=38 }
	add_stability_1 = yes
}

form_PRU_effect = {
	change_tag = PRU
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = PRU_ideas }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
			NOT = { has_country_modifier = title_5 }
			NOT = { has_country_modifier = title_6 }
		}
		change_title_5 = yes
	}
}

form_LIV_effect = {
	change_tag = LIV
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = LIV_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_NAP_effect = {
	sicily_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	sicily_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	naples_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	naples_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = NAP }
		}
		change_tag = NAP
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = NAP_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_SAR_effect = {
	corsica_sardinia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	corsica_sardinia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			government = monarchy
			OR = {
				has_country_modifier = title_1
				has_country_modifier = title_2
				has_country_modifier = title_3
			}
		}
		change_title_4 = yes
	}
	if = {
		limit = {
			NOT = { exists = SAR }
		}
		change_tag = SAR
	}
	Effect_set_capital = { target=2242 }
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = SAR_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ITA_effect = {
	set_global_flag = iron_crown_relinquished
	east_italy_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	east_italy_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_italy_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_italy_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	central_italy_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	central_italy_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = ITA }
		}
		change_tag = ITA
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ITA_ideas }
		}
		swap_national_ideas_effect = yes
	}
	disable_italian_powers = yes
}

form_CNN_effect = {
	connacht_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	connacht_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = CNN }
		}
		change_tag = CNN
	}
	add_stability_1 = yes
}

form_LEI_effect = {
	leinster_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	leinster_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = LEI }
		}
		change_tag = LEI
	}
	add_stability_1 = yes
}

form_MNS_effect = {
	munster_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	munster_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = MNS }
		}
		change_tag = MNS
	}
	add_stability_1 = yes
}

form_TYR_effect = {
	ulaid_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	ulaid_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TYR }
		}
		change_tag = TYR
	}
	add_stability_1 = yes
}

form_IRE_effect = {
	ireland_region = { hidden_effect = { remove_core = ROOT } add_core = ROOT }
	if = {
		limit = {
			government = monarchy
			NOT = {
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = IRE }
		}
		change_tag = IRE
	}
	if = {
		limit = {
			has_custom_ideas = no
			#NOT = { has_idea_group = irish_ideas }
		}
		swap_national_ideas_effect = yes
	}
	add_absolutism = 10
}

form_GBR_effect = {
	south_england_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_england_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	north_england_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_england_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	scotland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	scotland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	ireland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	ireland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = GBR }
		}
		change_tag = GBR
	}
	Effect_set_capital = { target=236 }
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ENG_ideas }
		}
		swap_national_ideas_effect = yes
	}
	if = {
		limit = {
			exists = SCO
			NOT = {
				tag = SCO
			}
		}
		inherit = SCO
	}
	if = {
		limit = {
			exists = ENG
			NOT = {
				tag = ENG
			}
		}
		inherit = ENG
	}
}

form_SCO_effect = {
	scotland_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	scotland_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = SCO }
		}
		change_tag = SCO
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ENG_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_FRA_effect = {
	france_superregion = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	france_superregion = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = FRA }
		}
		change_tag = FRA
	}
	Effect_set_capital = { target=183 }
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = FRA_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				culture_group = langue_d_oc
				culture_group = langue_d_oil
				capital_scope = { region = east_france_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = FRA
		ROOT = { add_historical_rival = PREV }
	}
}

form_SPA_effect = {
	castille_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	castille_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	leon_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	leon_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	aragon_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	aragon_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	andalucia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	andalucia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			OR = {
				ARA = { is_subject_of = ROOT }
				CAS = { is_subject_of = ROOT }
			}
		}
		add_absolutism = -10
	}
	else_if = {
		limit = {
			NOT = {
				OR = {
					ARA = { is_subject_of = ROOT }
					CAS = { is_subject_of = ROOT }
				}
			}
		}
		add_absolutism = 10
	}
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			ARA = { is_subject_of = ROOT }
		}
		inherit = ARA
		every_owned_province = {
			limit = {
				OR = {
					culture = aragonese
					culture = catalan
					culture_group = basque_group
				}
				OR = {
					is_core = ARA
					is_core = NAV
				}
			}
			add_local_autonomy = 60
			add_province_modifier = { name = fueros duration = -1 }
		}
	}
	else_if = {
		limit = {
			CAS = { is_subject_of = ROOT }
		}
		inherit = CAS
		every_owned_province = {
			limit = {
				OR = {
					culture = castillian
					culture = asturian
				}
				is_core = CAS
			}
			add_local_autonomy = 60
			add_province_modifier = { name = fueros duration = -1 }
		}
	}
	if = {
		limit = {
			NOT = { exists = SPA }
		}
		change_tag = SPA
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = SPA_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			OR = {
				capital_scope = { region = aragon_region }
				capital_scope = { region = castille_region }
				capital_scope = { region = leon_region }
				capital_scope = { region = andalucia_region }
			}
			NOT = { tag = ROOT }
		}
		add_historical_rival = SPA
		ROOT = { add_historical_rival = PREV }
	}
}

form_CAS_effect = {
	castille_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	castille_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	leon_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	leon_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_absolutism = 5
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = CAS }
		}
		change_tag = CAS
	}
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = CAS_ideas }
		}
		swap_national_ideas_effect = yes
	}
	every_country = {
		limit = {
			capital_scope = { region = andalucia_region }
			NOT = { tag = ROOT }
		}
		add_historical_rival = CAS
		ROOT = { add_historical_rival = PREV }
	}
}

form_ARL_effect = {
	provence_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	provence_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	high_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	high_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	add_absolutism = 10
	if = {
		limit = {
			has_global_flag = additional_tags_enabled
			NOT = { exists = ARL }
			NOT = { tag = FRA }
			NOT = { tag = ITA }
			NOT = { tag = LOT }
			NOT = { tag = TOU }
		}
		change_tag = ARL
	}
	Effect_set_capital = { target=201 }
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ARL_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ILL_effect = {
	west_balkan_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	west_balkan_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	central_balkan_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	central_balkan_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	add_absolutism = 10
	if = {
		limit = {
			has_global_flag = additional_tags_enabled
			NOT = { exists = ILL }
			NOT = { tag = BYZ }
			#NOT = { tag = ROOT }
		}
		change_tag = ILL
	}
	balkan_slavic_union_effect = yes
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ILL_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_LOT_effect = {
	high_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	high_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	low_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	low_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	belgii_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	belgii_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = LOT }
		}
		change_tag = LOT
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = LOT_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_BRI_effect = {
	brittany_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	brittany_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = {
			NOT = { exists = BRI }
		}
		change_tag = BRI
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = BRI_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_TOU_effect = {
	toulouse_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	toulouse_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = TOU }
			NOT = { tag = FRA }
		}
		change_tag = TOU
	}
	add_stability_1 = yes
}

form_NAV_effect = {
	toulouse_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	toulouse_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = NAV }
			NOT = { tag = FRA }
		}
		change_tag = NAV
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = BRI_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_OCC_effect = {
	languedoc_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	languedoc_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	provence_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	provence_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	add_absolutism = 10
	if = {
		limit = {
			has_global_flag = additional_tags_enabled
			NOT = { exists = OCC }
			NOT = { tag = FRA }
		}
		change_tag = OCC
	}
	langue_d_oc_union_effect = yes
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = OCC_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ROU_effect = {
	south_carpathia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_carpathia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			WAL = { is_subject_of = ROOT }
		}
		inherit = WAL
	}
	if = {
		limit = {
			MOL = { is_subject_of = ROOT }
		}
		inherit = MOL
	}
	if = {
		limit = {
			NOT = { exists = ROU }
			NOT = { tag = BYZ }
		}
		change_tag = ROU
	}
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = RMN_ideas }
		}
		swap_national_ideas_effect = yes
	}
	add_absolutism = 10
}

form_SER_effect = {
	north_serbia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	north_serbia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	south_serbia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	south_serbia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	1392 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	1392 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	138 = { if = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT } }
	138 = { if = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT } }
	macedonia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	macedonia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = SER }
			NOT = { tag = BYZ }
		}
		change_tag = SER
	}
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = SER_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_KOR_effect = {
	korea_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	korea_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	if = {
		limit = {
			NOT = { exists = KOR }
		}
		change_tag = KOR
	}
	Effect_set_capital = { target=2802 }
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = KOR_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_TUS_effect = {
	tuscany_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = TUS } add_core = TUS }
	tuscany_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = TUS }
	add_prestige = 20
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_4 has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_4 = yes
	}
	change_tag = TUS
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = TUS_ideas }
		}
		swap_national_ideas_effect = yes
	}
	swap_non_generic_missions = yes
}

form_BAV_effect = {
	lower_bavaria_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = BAV } add_core = BAV }
	lower_bavaria_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = BAV }
	upper_bavaria_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = BAV } add_core = BAV }
	upper_bavaria_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = BAV }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	change_tag = BAV
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = BAV_ideas }
		}
		swap_national_ideas_effect = yes
	}
	add_absolutism = 10
	swap_non_generic_missions = yes
}

form_LSA_effect = {
	westphalian_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = LSA } add_core = LSA }
	westphalian_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = LSA }
	eastphalia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = LSA } add_core = LSA }
	eastphalia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = LSA }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	change_tag = LSA
	add_absolutism = 10
}

form_GER_effect = {
	lower_saxon_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = GER } add_core = GER }
	lower_saxon_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = GER }
	upper_saxon_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = GER } add_core = GER }
	upper_saxon_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = GER }
	westphalian_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = GER } add_core = GER }
	westphalian_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = GER }
	upper_rhenish_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = GER } add_core = GER }
	upper_rhenish_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = GER }
	swabia_bavarian_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = GER } add_core = GER }
	swabia_bavarian_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = GER }
	#all_core_province = { limit = { owned_by = ROOT } } add_core = GER }
	add_prestige = 20
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	change_tag = GER
	add_absolutism = 10
	emperor = {
		add_opinion = {
			who = root
			modifier = opinion_left_empire
		}
	}
	leave_the_hre = yes
	emperor = {
		country_event = { id = hre_event.5 }
	}
}

form_SWA_effect = {
	lower_swabia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = SWA } add_core = SWA }
	lower_swabia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = SWA }
	upper_swabia_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = SWA } add_core = SWA }
	upper_swabia_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = SWA }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	change_tag = SWA
	add_absolutism = 10
}

form_POM_effect = {
	vorpommern_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = POM } add_core = POM }
	vorpommern_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = POM }
	hinterpommern_area = { limit = { owned_by = ROOT } hidden_effect = { remove_core = POM } add_core = POM }
	hinterpommern_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = POM }
	add_prestige = 20
	if = {
		limit = {
			government = monarchy
			OR = {
				has_country_modifier = title_1
				has_country_modifier = title_2
			}
		}
		change_title_3 = yes
	}
	change_tag = POM
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = POM_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ARM_effect = {
	armenia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ARM } add_core = ARM }
	armenia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ARM }
	add_prestige = 20
	if = {
		limit = {
			NOT = { exists = ARM }
		}
		change_tag = ARM
	}
	Effect_set_capital = { target=1445 }
	if = {
		limit = { NOT = { has_country_modifier = title_5 } }
		change_title_5 = yes
	}
	add_absolutism = 10
	swap_national_ideas_effect = yes
}

form_HAB_effect = {
	austrian_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = HAB } add_core = HAB }
	austrian_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = HAB }
	add_prestige = 10
	change_tag = HAB
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = HAB_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_ALM_effect = {
	andalucia_region = { limit = { owned_by = ROOT } add_core = ROOT }
	andalucia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	west_maghreb_region = { limit = { owned_by = ROOT } add_core = ROOT }
	west_maghreb_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	toledo_area = { limit = { owned_by = ROOT } add_core = ROOT }
	toledo_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	alentejo_area = { limit = { owned_by = ROOT } add_core = ROOT }
	alentejo_area = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	add_prestige = 10
	if = {
		limit = { has_global_flag = additional_tags_enabled }
		change_tag = ALM
	}
	add_absolutism = 10
	if = {
		limit = { government = monarchy NOT = { has_country_modifier = title_6 } }
		change_title_6 = yes
	}
	set_country_flag = al_andalus_claimed
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = ALM_ideas }
		}
		swap_national_ideas_effect = yes
	}
}

form_SAX_effect = {
	upper_saxon_circle_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = SAX } add_core = SAX }
	upper_saxon_circle_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = SAX }
	add_prestige = 20
	if = {
		limit = { government = monarchy OR = { has_country_modifier = title_1 has_country_modifier = title_2 } }
		change_title_3 = yes
	}
	if = {
		limit = { NOT = { hre_size = 1 } government = monarchy NOT = { has_country_modifier = title_5 has_country_modifier = title_6 } }
		change_title_5 = yes
	}
	change_tag = SAX
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = SAX_ideas }
		}
		swap_national_ideas_effect = yes
	}
	#if = {
	#	limit = {
	#		has_country_flag = wettin_succession
	#	}
		clr_country_flag = wettin_succession
	#}
}

form_NED_effect = {
	belgii_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = NED } add_core = NED }
	belgii_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = NED }
	low_countries_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = NED } add_core = NED }
	low_countries_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = NED }
	if = {
		limit = {
			NOT = {
				has_country_modifier = title_3
				has_country_modifier = title_4
				has_country_modifier = title_5
				has_country_modifier = title_6
			}
		}
		change_title_3 = yes
	}
	add_prestige = 20
	change_tag = NED
	add_absolutism = 10
	if = {
		limit = {
			has_custom_ideas = no
			NOT = { has_idea_group = NED_ideas }
		}
		if = {
			limit = { ai = no }
			swap_national_ideas_effect = yes
		}
		else = {
			remove_all_national_ideas_effect = yes
			if = {
				limit = { adm_tech = 4 }
				add_idea_group = plutocracy_ideas
				if = {
					limit = { adm_tech = 5 NOT = { adm_tech = 6 } }
					add_idea = free_cities
					add_idea = competetive_merchants
				}
				else_if = {
					limit = { adm_tech = 6 NOT = { adm_tech = 7 } }
					add_idea = free_cities
					add_idea = competetive_merchants
					add_idea = resilient_state
					add_idea = tradition_of_payment
				}
				else_if = {
					limit = { adm_tech = 7 NOT = { adm_tech = 8 } }
					add_idea = free_cities
					add_idea = competetive_merchants
					add_idea = resilient_state
					add_idea = tradition_of_payment
					add_idea = pragmatism
					add_idea = free_merchants
				}
				else_if = {
					limit = { adm_tech = 8 }
					add_idea = free_cities
					add_idea = competetive_merchants
					add_idea = resilient_state
					add_idea = tradition_of_payment
					add_idea = pragmatism
					add_idea = free_merchants
					add_idea = popular_support
				}
			}
			if = {
				limit = { adm_tech = 8 }
				add_idea_group = economic_ideas
				if = {
					limit = { adm_tech = 9 NOT = { adm_tech = 10 } }
					add_idea = trade_councils
					add_idea = tax_agency
				}
				else_if = {
					limit = { adm_tech = 10 NOT = { adm_tech = 11 } }
					add_idea = trade_councils
					add_idea = tax_agency
					add_idea = secure_trade_routes
					add_idea = real_economy
				}
				else_if = {
					limit = { adm_tech = 11 NOT = { adm_tech = 12 } }
					add_idea = trade_councils
					add_idea = tax_agency
					add_idea = secure_trade_routes
					add_idea = real_economy
					add_idea = production_rights
					add_idea = national_bank
				}
				else_if = {
					limit = { adm_tech = 12 }
					add_idea = trade_councils
					add_idea = tax_agency
					add_idea = secure_trade_routes
					add_idea = real_economy
					add_idea = production_rights
					add_idea = national_bank
					add_idea = smithian_economics
				}
			}
			if = {
				limit = { adm_tech = 12 }
				add_idea_group = trade_ideas
				if = {
					limit = { adm_tech = 13 NOT = { adm_tech = 14 } }
					add_idea = national_trade_policy
					add_idea = shrewd_commerce_practise
				}
				else_if = {
					limit = { adm_tech = 14 NOT = { adm_tech = 15 } }
					add_idea = national_trade_policy
					add_idea = shrewd_commerce_practise
					add_idea = merchant_adventures
					add_idea = free_trade
				}
				else_if = {
					limit = { adm_tech = 15 NOT = { adm_tech = 16 } }
					add_idea = national_trade_policy
					add_idea = shrewd_commerce_practise
					add_idea = merchant_adventures
					add_idea = free_trade
					add_idea = trade_manipulation
					add_idea = additional_merchants
				}
				else_if = {
					limit = { adm_tech = 16 }
					add_idea = national_trade_policy
					add_idea = shrewd_commerce_practise
					add_idea = merchant_adventures
					add_idea = free_trade
					add_idea = trade_manipulation
					add_idea = additional_merchants
					add_idea = fast_negotiations
				}
			}
			if = {
				limit = { adm_tech = 16 }
				add_idea_group = naval_ideas
				if = {
					limit = { adm_tech = 17 NOT = { adm_tech = 18 } }
					add_idea = improved_shipyards
					add_idea = sheltered_ports
				}
				else_if = {
					limit = { adm_tech = 18 NOT = { adm_tech = 19 } }
					add_idea = improved_shipyards
					add_idea = sheltered_ports
					add_idea = boarding_parties
					add_idea = naval_cadets
				}
				else_if = {
					limit = { adm_tech = 19 NOT = { adm_tech = 20 } }
					add_idea = improved_shipyards
					add_idea = sheltered_ports
					add_idea = boarding_parties
					add_idea = naval_cadets
					add_idea = naval_fighting_instruction
					add_idea = sea_hawks
				}
				else_if = {
					limit = { adm_tech = 20 }
					add_idea = improved_shipyards
					add_idea = sheltered_ports
					add_idea = boarding_parties
					add_idea = naval_cadets
					add_idea = naval_fighting_instruction
					add_idea = sea_hawks
					add_idea = press_gangs
				}
			}
			if = {
				limit = { adm_tech = 20 }
				add_idea_group = bureaucracy_ideas
				if = {
					limit = { adm_tech = 21 NOT = { adm_tech = 22 } }
					add_idea = collaboration
					add_idea = adaptability
				}
				else_if = {
					limit = { adm_tech = 22 NOT = { adm_tech = 23 } }
					add_idea = collaboration
					add_idea = adaptability
					add_idea = citizen_service
					add_idea = corruption_fighting
				}
				else_if = {
					limit = { adm_tech = 23 NOT = { adm_tech = 24 } }
					add_idea = collaboration
					add_idea = adaptability
					add_idea = citizen_service
					add_idea = corruption_fighting
					add_idea = civil_servants
					add_idea = integration
				}
				else_if = {
					limit = { adm_tech = 24 }
					add_idea = collaboration
					add_idea = adaptability
					add_idea = citizen_service
					add_idea = corruption_fighting
					add_idea = civil_servants
					add_idea = integration
					add_idea = centralisation
				}
			}
			if = {
				limit = { adm_tech = 24 }
				add_idea_group = mercantilism_ideas
				if = {
					limit = { adm_tech = 25 NOT = { adm_tech = 26 } }
					add_idea = protectionism
					add_idea = trade_practice_regulations
				}
				else_if = {
					limit = { adm_tech = 26 NOT = { adm_tech = 27 } }
					add_idea = protectionism
					add_idea = trade_practice_regulations
					add_idea = market_day
					add_idea = subsidized_economy
				}
				else_if = {
					limit = { adm_tech = 27 NOT = { adm_tech = 28 } }
					add_idea = protectionism
					add_idea = trade_practice_regulations
					add_idea = market_day
					add_idea = subsidized_economy
					add_idea = controlled_fairs
					add_idea = economic_advisor
				}
				else_if = {
					limit = { adm_tech = 28 }
					add_idea = protectionism
					add_idea = trade_practice_regulations
					add_idea = market_day
					add_idea = subsidized_economy
					add_idea = controlled_fairs
					add_idea = economic_advisor
					add_idea = staple_right
				}
			}
			if = {
				limit = { adm_tech = 28 }
				add_idea_group = quality_ideas
				if = {
					limit = { adm_tech = 29 NOT = { adm_tech = 30 } }
					add_idea = finest_of_horses
					add_idea = war_college_idea
				}
				else_if = {
					limit = { adm_tech = 30 NOT = { adm_tech = 31 } }
					add_idea = finest_of_horses
					add_idea = war_college_idea
					add_idea = victorious_army
					add_idea = massed_battery
				}
				else_if = {
					limit = { adm_tech = 31 NOT = { adm_tech = 32 } }
					add_idea = finest_of_horses
					add_idea = war_college_idea
					add_idea = victorious_army
					add_idea = massed_battery
					add_idea = military_drill
					add_idea = our_walls_will_not_fall
				}
				else_if = {
					limit = { adm_tech = 32 }
					add_idea = finest_of_horses
					add_idea = war_college_idea
					add_idea = victorious_army
					add_idea = massed_battery
					add_idea = military_drill
					add_idea = our_walls_will_not_fall
					add_idea = BMI_a_disciplined_army
				}
			}
			if = {
				limit = { adm_tech = 32 }
				add_idea_group = expansion_ideas
				if = {
					limit = { adm_tech = 33 NOT = { adm_tech = 34 } }
					add_idea = native_scouts
					add_idea = additional_colonists
				}
				else_if = {
					limit = { adm_tech = 34 NOT = { adm_tech = 35 } }
					add_idea = native_scouts
					add_idea = additional_colonists
					add_idea = private_colony_charters
					add_idea = faster_colonists
				}
				else_if = {
					limit = { adm_tech = 35 NOT = { adm_tech = 36 } }
					add_idea = native_scouts
					add_idea = additional_colonists
					add_idea = private_colony_charters
					add_idea = faster_colonists
					add_idea = intrepid_mariners
					add_idea = tough_colonists
				}
				else_if = {
					limit = { adm_tech = 36 }
					add_idea = native_scouts
					add_idea = additional_colonists
					add_idea = private_colony_charters
					add_idea = faster_colonists
					add_idea = intrepid_mariners
					add_idea = tough_colonists
					add_idea = bring_civilization
				}
			}
			if = {
				limit = { adm_tech = 36 }
				add_idea_group = standing_army_ideas
				if = {
					limit = { adm_tech = 37 NOT = { adm_tech = 38 } }
					add_idea = battlefield_commisions
					add_idea = forced_conscription
				}
				else_if = {
					limit = { adm_tech = 38 NOT = { adm_tech = 39 } }
					add_idea = battlefield_commisions
					add_idea = forced_conscription
					add_idea = BMI_military_culture
					add_idea = levy_system
				}
				else_if = {
					limit = { adm_tech = 39 NOT = { adm_tech = 40 } }
					add_idea = battlefield_commisions
					add_idea = forced_conscription
					add_idea = BMI_military_culture
					add_idea = levy_system
					add_idea = nationalistic_enthusiasm
					add_idea = expanded_supply_trains
				}
				else_if = {
					limit = { adm_tech = 40 }
					add_idea = battlefield_commisions
					add_idea = forced_conscription
					add_idea = BMI_military_culture
					add_idea = levy_system
					add_idea = nationalistic_enthusiasm
					add_idea = expanded_supply_trains
					add_idea = national_conscripts
				}
			}
			if = {
				limit = { adm_tech = 40 }
				add_idea_group = engineering_ideas
				if = {
					limit = { adm_tech = 41 NOT = { adm_tech = 42 } }
					add_idea = organised_construction
					add_idea = improved_gunpowder
				}
				else_if = {
					limit = { adm_tech = 42 NOT = { adm_tech = 43 } }
					add_idea = organised_construction
					add_idea = improved_gunpowder
					add_idea = naval_construction
					add_idea = multi_role_artillery
				}
				else_if = {
					limit = { adm_tech = 43 NOT = { adm_tech = 44 } }
					add_idea = organised_construction
					add_idea = improved_gunpowder
					add_idea = naval_construction
					add_idea = multi_role_artillery
					add_idea = pioneer_corps
					add_idea = unified_construction_plans
				}
				else_if = {
					limit = { adm_tech = 44 }
					add_idea = organised_construction
					add_idea = improved_gunpowder
					add_idea = naval_construction
					add_idea = multi_role_artillery
					add_idea = pioneer_corps
					add_idea = unified_construction_plans
					add_idea = new_fortification_techniques
				}
			}
		}
	}
	# country_event = { id = holyromanempire.5 days = 5 } # Netherlands now have to wait for the Treaty of Westphalia
	
	# These flags effectively stop any further dutch revolt event
	clr_global_flag = dutch_rebellion_start
	set_global_flag = dutch_rebellion_end
	
	# Remove the estates general modifiers
	NED = {
		every_owned_province = {
			remove_province_modifier = estates_general_1
			remove_province_modifier = estates_general_2
			remove_province_modifier = estates_general_3
		}
	}
}

form_LOR_effect = {
	prussia_region = { limit = { owned_by = ROOT } hidden_effect = { remove_core = ROOT } add_core = ROOT }
	prussia_region = { limit = { NOT = { owned_by = ROOT } } add_permanent_claim = ROOT }
	if = {
		limit = {
			NOT = { exists = LOR }
		}
		change_tag = LOR
	}
	add_stability_1 = yes
	Effect_set_capital = { target = 189 }
}

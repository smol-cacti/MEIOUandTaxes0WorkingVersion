namespace = dg_pope
#46 of 47 planned events completed

###################
# Papal Elections # 00s and 60s
###################

#01 - Death of the Pope
#02 - Papabile Vetoed
#03 - Deadlocked Conclave
#04 - Habemus Papam! (bought election)
#05 - Habemus Papam! (fair election)
#06 - A new pope (pious) (notifier)
#07 - A new pope (secular) (notifier)
#08 - A new pope (corrupt) (notifier)
#09 - Summer heat prolongs conclave
#10* - Conclave hosted in $CAPITAL_CITY$
#61 - Death of the Pope (papal states)
#62 - Papabile Vetoed
#63 - Deadlocked Conclave
#64* - The [Root.Culture.GetName] Faction in the Curia

################
# Papal Powers # 10s and 20s
################

#11 - A case comes before the papal court (excommunication/scandal)
#12 - A case comes before the papal court (consanguinity)
#13 - The Infidel Threat (crusades)
#14 - A case comes before the papal court (grievances)
#15 - The Heretic Threat (crusades)
#16 - The pope appoints new cardinals (pious)
#17 - The pope appoints new cardinals (secular)
#18 - The pope appoints new cardinals (corrupt)
#19 - Hidden Papal Conclave maintenance event (hidden)
#20 - A Cardinal Sin
#21 - A case comes before the papal court (annulment)
#22 - Victory of Conciliarism (council topic)
#23 - Defeat of Conciliarism (council topic)
#24 - Church Settlement
#25 - $PRIMARY_CULTURE$ Cardinals (non-Catholic)
#26 - Papal Consistory summoned
#27 - Grounds for Excommunication

###################
# Church Councils # 30s and 40s
###################

#31 - Demands for a council
#32 - Church Matters
#33 - Church Reform of Simony
#34 - Church Reform of Indulgence Selling
#35 - Church Reform of Benefices
#36 - Church Reform of Clerical Instruction
#37 - Church Reform of Pluralism
#38 - Church Reform of Nepotism
#41 - Healing the Schism (Regular Councils)
#42 - The Lollard Question

###########################
# The Counter Reformation # 50s
###########################

#51 - The Fate of the Catholic Church (the Vernacular)
#52 - The Fate of the Catholic Church (the Host)
#53 - The Fate of the Catholic Church (Scripture and Tradition)
#54 - The Fate of the Catholic Church (Faith and Good Works)
#55 - The Counter Reformation
#56 - The Catholic Reformation
#57 - The Society of Jesus
#58 - The Chinese Rites Controversy

###################
# Papal Elections # 00s
###################

country_event = { #Death of the Pope
	id = dg_pope.001
	title = dg_pope.001.t
	desc = dg_pope.001.d
	picture = catholic_college_of_cardinals
	
	trigger = {
		is_papal_controller = yes
		has_global_flag = living_pope
		had_global_flag = { flag = living_pope days = 1095 } #Ahistorical, but prevents players from reporting bugs
	}
	
	# Average length of papal reign is a mere 7 years - EU4 monarch lifespans do not model popes well
	# Set to 4 years to offset 3 guaranteed years, to still get an average of 7
	mean_time_to_happen = { years = 4 }
	
	immediate = {
		hidden_effect = {
			every_country = {
				clr_country_flag = bought_curia_influence
				clr_country_flag = papal_indulgence
				clr_country_flag = papal_advisor
				
				if = {
					limit = {
						OR = {
							reverse_has_opinion_modifier = { who = PAP modifier = papal_controller_corrupt }
							reverse_has_opinion_modifier = { who = PAP modifier = papal_controller_secular }
							reverse_has_opinion_modifier = { who = PAP modifier = papal_controller_reformer }
						}
						alliance_with = PAP
						is_papal_controller = no
					}
					add_opinion = { who = PAP modifier = was_papal_controller }
				}
				
				PAP = {
					remove_opinion = { who = PREV modifier = papal_controller_corrupt }
					remove_opinion = { who = PREV modifier = papal_controller_secular }
					remove_opinion = { who = PREV modifier = papal_controller_reformer }
				}
			}
			
			#every_country = {
			#	PAP = {
			#		remove_opinion = { who = PREV modifier = papal_controller_corrupt }
			#		remove_opinion = { who = PREV modifier = papal_controller_secular }
			#		remove_opinion = { who = PREV modifier = papal_controller_reformer }
			#	}
			#}
			every_country = {
				limit = { religion = catholic }
				add_papal_influence = -1
				if = {
					limit = { has_global_modifier_value = { which = papal_influence value = 1 } }
					add_papal_influence = -1
					if = {
						limit = { has_global_modifier_value = { which = papal_influence value = 2 } }
						add_papal_influence = -1
						if = {
							limit = { has_global_modifier_value = { which = papal_influence value = 3 } }
							add_papal_influence = -1
							if = {
								limit = { has_global_modifier_value = { which = papal_influence value = 4 } }
								add_papal_influence = -1
								if = {
									limit = { has_global_modifier_value = { which = papal_influence value = 5 } }
									add_papal_influence = -1
									if = {
										limit = { has_global_modifier_value = { which = papal_influence value = 6 } }
										add_papal_influence = -1
										if = {
											limit = { has_global_modifier_value = { which = papal_influence value = 7 } }
											add_papal_influence = -1
											if = {
												limit = { has_global_modifier_value = { which = papal_influence value = 8 } }
												add_papal_influence = -1
												if = {
													limit = { has_global_modifier_value = { which = papal_influence value = 9 } }
													add_papal_influence = -1
													if = {
														limit = { has_global_modifier_value = { which = papal_influence value = 10 } }
														add_papal_influence = -1
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = popes_controlled value = 3 } }
				every_country = {
					limit = { num_of_cardinals = 1 NOT = { tag = ROOT } }
					set_variable = { which = rival_papabile value = 1 }
					if = {
						limit = { num_of_cardinals = 2 }
						change_variable = { which = rival_papabile value = 1 }
						if = {
							limit = { num_of_cardinals = 3 }
							change_variable = { which = rival_papabile value = 1 }
							if = {
								limit = { num_of_cardinals = 4 }
								change_variable = { which = rival_papabile value = 1 }
								if = {
									limit = { num_of_cardinals = 5 }
									change_variable = { which = rival_papabile value = 1 }
									if = {
										limit = { num_of_cardinals = 6 }
										change_variable = { which = rival_papabile value = 1 }
										if = {
											limit = { num_of_cardinals = 7 }
											change_variable = { which = rival_papabile value = 1 }
										}
									}
								}
							}
						}
					}
					if = {
						limit = { dynasty = ROOT }
						multiply_variable = { which = rival_papabile value = 0.7 }
					}
					if = {
						limit = { alliance_with = ROOT }
						multiply_variable = { which = rival_papabile value = 0.7 }
					}
					if = {
						limit = { is_subject_of = ROOT }
						multiply_variable = { which = rival_papabile value = 0.5 }
					}
					if = {
						limit = { OR = { is_rival = ROOT is_enemy = ROOT } }
						multiply_variable = { which = rival_papabile value = 2 }
					}
				}
				random_country = {
					limit = {
						all_country = {
							OR = {
								NOT = { check_variable = { which = rival_papabile which = PREV } }
								is_variable_equal = { which = rival_papabile which = PREV }
							}
							num_of_cardinals = 1
							NOT = { tag = ROOT }
						}
					}
					set_country_flag = rival_papabile
					set_variable = { which = rival_papabile value = 0 }
				}
				if = {
					limit = { check_variable = { which = popes_controlled value = 6 } }
					random_country = {
						limit = {
							all_country = {
								OR = {
									NOT = { check_variable = { which = rival_papabile which = PREV } }
									is_variable_equal = { which = rival_papabile which = PREV }
								}
								num_of_cardinals = 1
								NOT = { tag = ROOT }
							}
						}
						set_country_flag = rival_papabile
						set_variable = { which = rival_papabile value = 0 }
					}
				}
				if = {
					limit = { check_variable = { which = popes_controlled value = 9 } }
					random_country = {
						limit = {
							all_country = {
								OR = {
									NOT = { check_variable = { which = rival_papabile which = PREV } }
									is_variable_equal = { which = rival_papabile which = PREV }
								}
								num_of_cardinals = 1
								NOT = { tag = ROOT }
							}
						}
						set_country_flag = rival_papabile
						set_variable = { which = rival_papabile value = 0 }
					}
				}
				every_country = { set_variable = { which = rival_papabile value = 0 } }
			}
		}
	}
	
	option = {
		name = dg_pope.001.a #The church calls a conclave
		every_country = {
			limit = { has_country_flag = rival_papabile }
			clr_country_flag = rival_papabile
			country_event = { id = dg_pope.064 }
		}
		#Changes pope's stats to 2/2/2 to simulate the council
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { country_event = { id = dg_pope.061 } }
		}
		if = {
			limit = { tag = PAP }
			if = {
				limit = { NOT = { ADM = 1 } }
				change_adm = 1
			}
			if = {
				limit = { NOT = { ADM = 2 } }
				change_adm = 1
			}
			if = {
				limit = {
					ADM = 3
					NOT = { ADM = 4 }
				}
				change_adm = -1
			}
			if = {
				limit = {
					ADM = 4
					NOT = { ADM = 5 }
				}
				change_adm = -2
			}
			if = {
				limit = {
					ADM = 5
					NOT = { ADM = 6 }
				}
				change_adm = -3
			}
			if = {
				limit = { ADM = 6 }
				change_adm = -4
			}
			if = {
				limit = { NOT = { DIP = 1 } }
				change_dip = 1
			}
			if = {
				limit = { NOT = { DIP = 2 } }
				change_dip = 1
			}
			if = {
				limit = {
					DIP = 3
					NOT = { DIP = 4 }
				}
				change_dip = -1
			}
			if = {
				limit = {
					DIP = 4
					NOT = { DIP = 5 }
				}
				change_dip = -2
			}
			if = {
				limit = {
					DIP = 5
					NOT = { DIP = 6 }
				}
				change_dip = -3
			}
			if = {
				limit = { DIP = 6 }
				change_dip = -4
			}
			if = {
				limit = { NOT = { MIL = 1 } }
				change_mil = 1
			}
			if = {
				limit = { NOT = { MIL = 2 } }
				change_mil = 1
			}
			if = {
				limit = {
					MIL = 3
					NOT = { MIL = 4 }
				}
				change_mil = -1
			}
			if = {
				limit = {
					MIL = 4
					NOT = { MIL = 5 }
				}
				change_mil = -2
			}
			if = {
				limit = {
					MIL = 5
					NOT = { MIL = 6 }
				}
				change_mil = -3
			}
			if = {
				limit = { MIL = 6 }
				change_mil = -4
			}
		}
		hidden_effect = {
			#every_country = {
			#	#limit = { has_country_flag = dispensation_denied }
			#	clr_country_flag = dispensation_denied
			#	clr_country_flag = dispensation_consideration
			#}
			#every_country = {
			#	limit = { has_country_flag = dispensation_consideration }
			#	clr_country_flag = dispensation_consideration
			#}
			#if = {
			#	limit = { tag = PAP }
			#	clr_country_flag = papal_relations
			#	clr_country_flag = papal_court
			#	clr_country_flag = religious_patronage
			#	clr_country_flag = independent_vatican
			#	clr_country_flag = secular_pope
			#	clr_country_flag = reformer_pope
			#	clr_country_flag = corrupt_pope
			#	clr_country_flag = vetoed_candidate
			#	clr_country_flag = deadlocked_conclave
			#	clr_country_flag = summer_heat
			#	clr_country_flag = response_to_synod
			#	clr_country_flag = canonization
			#	clr_country_flag = peasant_success
			#	clr_country_flag = chialism
			#	clr_country_flag = just_war
			#	clr_country_flag = pope_executed
			#	clr_country_flag = concordat_offered
			#	clr_country_flag = papal_gratitude
			#	clr_country_flag = threat_of_schism
			#}
			clr_global_flag = living_pope
			PAP = {
				clr_country_flag = papal_relations
				clr_country_flag = papal_court
				clr_country_flag = religious_patronage
				clr_country_flag = independent_vatican
				clr_country_flag = secular_pope
				clr_country_flag = reformer_pope
				clr_country_flag = corrupt_pope
				clr_country_flag = vetoed_candidate
				clr_country_flag = deadlocked_conclave
				clr_country_flag = summer_heat
				clr_country_flag = response_to_synod
				clr_country_flag = canonization
				clr_country_flag = peasant_success
				clr_country_flag = chialism
				clr_country_flag = just_war
				clr_country_flag = pope_executed
				clr_country_flag = concordat_offered
				clr_country_flag = papal_gratitude
				clr_country_flag = threat_of_schism
			}
			if = {
				limit = {
					PAP = { has_country_flag = papal_conciliarism }
					PAP = { NOT = { has_country_flag = papal_absolutism } }
					PAP = { NOT = { has_country_flag = regular_councils_promised } }
				}
				PAP = { clr_country_flag = papal_conciliarism }
			}
			every_country = {
				clr_country_flag = synod_refused
				clr_country_flag = dispensation_denied
				clr_country_flag = dispensation_consideration
				if = {
					limit = {
						has_country_flag = crusade_denied
						NOT = { has_country_flag = hussite_crusade }
					}
					clr_country_flag = crusade_denied
				}
			}
			#every_country = {
			#	#limit = {
			#	#	has_country_flag = synod_refused
			#	#}
			#	clr_country_flag = synod_refused
			#	clr_country_flag = dispensation_denied
			#	clr_country_flag = dispensation_consideration
			#}
			clr_country_flag = synod_refused
			clr_country_flag = chialism
			clr_country_flag = crusade_denied
		}
		every_country = {
			limit = {
				has_country_flag = crusade_sponsor
				NOT = { has_country_modifier = morale_boost }
			}
			country_event = { id = dg_catholic.047 }
		}
	}
}

country_event = { #Papabile Vetoed
	
	id = dg_pope.002
	title = dg_pope.002.t
	desc = dg_pope.002.d
	picture = catholic_church_council
	
	trigger = {
		is_papal_controller = yes
		NOT = { has_global_flag = living_pope }
		any_known_country = {
			OR = {
				AND = {
					has_country_flag = right_of_exclusion
					is_part_of_hre = no
				}
				AND = {
					HAB = { has_country_flag = right_of_exclusion }
					is_emperor = yes
				}
			}
			religion = catholic
			NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = vetoed_candidate } }
			NOT = { has_country_flag = excommunicated }
			NOT = { tag = ROOT }
			OR = {
				is_rival = ROOT
				is_enemy = ROOT
				num_of_cardinals = 4
				overlord_of = PAP
				war_with = ROOT
				truce_with = ROOT
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 10
		
		modifier = {
			PAP = { has_country_flag = conclave_reform }
			factor = 2
		}
	}
	
	immediate = {
		if = {
			limit = { tag = PAP }
			change_adm = -1
			change_dip = -1
			change_mil = -1
			set_country_flag = vetoed_candidate
		}
	}
	
	option = {
		name = dg_pope.002.a #Our candidate has been vetoed
		random_known_country = {
			limit = {
				has_country_flag = right_of_exclusion
				religion = catholic
				NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = vetoed_candidate } }
				NOT = { has_country_flag = excommunicated }
				NOT = { tag = ROOT }
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					num_of_cardinals = 4
					overlord_of = PAP
				}
			}
			reverse_add_opinion = { who = ROOT modifier = vetoed_candidate }
		}
		add_prestige = -1
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { country_event = { id = dg_pope.062 } }
		}
	}
}

country_event = { #Deadlocked Conclave
	
	id = dg_pope.003
	title = dg_pope.003.t
	desc = dg_pope.003.d
	picture = catholic_church_council
	
	trigger = {
		is_papal_controller = yes
		is_emperor = no
		NOT = { has_global_flag = living_pope }
		NOT = { PAP = { has_country_flag = deadlocked_conclave } }
	}
	
	mean_time_to_happen = {
		
		months = 10
		
		modifier = {
			PAP = { has_country_flag = conclave_reform }
			factor = 2
		}
	}
	
	option = {
		name = dg_pope.003.a #Wait it out
		ai_chance = { factor = 50 }
		if = {
			limit = { tag = PAP }
			change_adm = -1
			change_dip = -1
			change_mil = -1
			hidden_effect = { set_country_flag = deadlocked_conclave }
		}
		else = {
			PAP = { country_event = { id = dg_pope.063 } }
		}
	}
	option = {
		name = dg_pope.003.b #Force them to choose
		ai_chance = { factor = 50 }
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
	}
}

country_event = { #Papal Conclave (Bought election)
	
	id = dg_pope.004
	title = dg_pope.004.t
	desc = dg_pope.004.d
	picture = catholic_habemus_papam
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 500 } }
			}
			custom_tooltip = papal_authority_strong_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 400 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 500 } } }
			}
			custom_tooltip = papal_authority_moderate_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 300 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 400 } } }
			}
			custom_tooltip = papal_authority_weak_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 200 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 300 } } }
			}
			custom_tooltip = papal_authority_nominal_explained
		}
		hidden_effect = {
			#every_country = {
			#	clr_country_flag = vetoed_candidate
			#	clr_country_flag = former_excommunication_target
			#	clr_country_flag = excommunication_rome
			#	clr_country_flag = excommunication_church
			#	clr_country_flag = excommunication_heathen_ally
			#	clr_country_flag = excommunication_papal_states
			#	clr_country_flag = excommunication_unjust_war
			#	clr_country_flag = excommunication_blasphemy
			#}
			PAP = {
				clr_country_flag = conclave_over
				clr_country_flag = last_pope_reformer
				clr_country_flag = last_pope_corrupt
				clr_country_flag = secular_pope
				clr_country_flag = reformer_pope
				clr_country_flag = corrupt_pope
				clr_country_flag = antipope_risen
				clr_country_flag = independent_pope
				set_country_flag = newly_elected_pope
			}
			set_global_flag = living_pope
			every_country = {
				#			limit = { reverse_has_opinion_modifier = { who = PAP modifier = was_papal_controller } }
				clr_country_flag = vetoed_candidate
				clr_country_flag = former_excommunication_target
				clr_country_flag = excommunication_rome
				clr_country_flag = excommunication_church
				clr_country_flag = excommunication_heathen_ally
				clr_country_flag = excommunication_papal_states
				clr_country_flag = excommunication_unjust_war
				clr_country_flag = excommunication_blasphemy
				reverse_remove_opinion = { who = PAP modifier = was_papal_controller }
				remove_opinion = { who = PAP modifier = was_papal_controller }
				PAP = {
					reverse_remove_opinion = { who = PREV modifier = was_papal_controller }
					remove_opinion = { who = PREV modifier = was_papal_controller }
				}
			}
			#every_country = {
			#	limit = { has_opinion_modifier = { who = PAP modifier = was_papal_controller } }
			#	remove_opinion = { who = PAP modifier = was_papal_controller }
			#	PAP = { remove_opinion = { who = PREV modifier = was_papal_controller } }
			#}
			#recalculate relationships with pope
			every_country = {
				limit = { religion = catholic }
				set_variable = { which = papacy_relationship value = 1 }
				if = {
					limit = { num_of_cardinals = 1 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 3 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 5 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 7 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 9 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 11 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 13 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						has_country_flag = catholic_anticlericalism
						NOT = { has_global_flag = counter_reformation }
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { NOT = { has_opinion = { who = PAP value = -50 } } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								is_papal_controller = yes
								has_opinion = { who = PREV value = -50 }
							}
						}
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_opinion = { who = PAP value = 100 } }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							has_opinion = { who = PREV value = 100 }
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { is_papal_controller = yes }
					change_variable = { which = papacy_relationship value = 2 }
				}
				if = {
					limit = { owns = 2530 NOT = { tag = PAP } } # Roma
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { is_rival = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { is_enemy = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { alliance_with = PAP }
					change_variable = { which = papacy_relationship value = 2 }
				}
				if = {
					limit = { war_with = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { truce_with = PAP }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { any_rival_country = { is_papal_controller = yes } }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { any_enemy_country = { is_papal_controller = yes } }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							war_with = PREV
						}
					}
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							truce_with = PREV
						}
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							marriage_with = PREV
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_ally = {
							is_papal_controller = yes
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							vassal_of = PREV
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						overlord = {
							is_papal_controller = yes
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { piety = 0.60 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { piety = 0.20 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { NOT = { piety = -0.20 } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { NOT = { piety = -0.60 } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = introduce_reformation }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = spread_reformation }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = patronato_real }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { has_country_flag = constantine_donation_cf }
					change_variable = { which = papacy_relationship value = 3 }
				}
				if = {
					limit = { has_country_flag = concordat_with_vatican }
					change_variable = { which = papacy_relationship value = 1 }
				}
				#assign a flag to denote relationship
				if = {
					limit = {
						NOT = { check_variable = { which = papacy_relationship value = -2 } }
					}
					set_country_flag = enemy_of_pope
					clr_country_flag = rival_of_pope
					clr_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = -2 }
						NOT = { check_variable = { which = papacy_relationship value = 1 } }
					}
					clr_country_flag = enemy_of_pope
					set_country_flag = rival_of_pope
					clr_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = 1 }
						NOT = { check_variable = { which = papacy_relationship value = 4 } }
					}
					clr_country_flag = enemy_of_pope
					clr_country_flag = rival_of_pope
					clr_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = 4 }
						NOT = { check_variable = { which = papacy_relationship value = 7 } }
					}
					clr_country_flag = enemy_of_pope
					clr_country_flag = rival_of_pope
					set_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = 7 }
					}
					clr_country_flag = rival_of_pope
					clr_country_flag = enemy_of_pope
					clr_country_flag = friend_of_pope
					set_country_flag = ally_of_pope
				}
			}
			#Pope in exile
			if = {
				limit = {
					NOT = { exists = PAP }
					2530 = { NOT = { has_province_modifier = independent_vatican } }
				}
				random_country = {
					limit = {
						is_papal_controller = yes
						NOT = { owns = 2530 } # Roma
						papal_trigger = no
						NOT = { tag = AVI }
					}
					country_event = { id = dg_papacy.002 days = 30 }
				}
			}
		}
		hidden_effect = {
			change_variable = { which = popes_controlled value = 1 }
			every_country = {
				limit = { NOT = { tag = ROOT } }
				if = {
					limit = { check_variable = { which = popes_controlled value = 1 } }
					change_variable = { which = popes_controlled value = -1 }
				}
			}
		}
	}
	
	option = {
		name = dg_pope.004.a #Secular pope
		ai_chance = { factor = 50 }
		reverse_add_opinion = { who = PAP modifier = papal_controller_secular }
		hidden_effect = { PAP = { set_country_flag = secular_pope } }
		#	PAP = { define_ruler = { } }
		every_country = { #Notifies interested countries of this event
			limit = {
				ai = no
				NOT = { tag = ROOT }
				OR = {
					tag = PAP
					AND = {
						religion = catholic
						OR = {
							num_of_cardinals = 1
							has_country_flag = ally_of_pope
							has_country_flag = enemy_of_pope
						}
						has_country_flag = religious_news_trivial
					}
					AND = {
						religion = catholic
						has_country_flag = religious_news_all
					}
				}
			}
			country_event = { id = dg_pope.007 }
		}
		hidden_effect = { #Decides which appointing new cardinals event to fire
			random_list = {
				10 = { set_variable = { which = papal_corruption_check value = 0 } }
				10 = { set_variable = { which = papal_corruption_check value = 1 } }
				10 = { set_variable = { which = papal_corruption_check value = 2 } }
				10 = { set_variable = { which = papal_corruption_check value = 3 } }
				10 = { set_variable = { which = papal_corruption_check value = 4 } }
				10 = { set_variable = { which = papal_corruption_check value = 5 } }
				10 = { set_variable = { which = papal_corruption_check value = 6 } }
				10 = { set_variable = { which = papal_corruption_check value = 7 } }
				10 = { set_variable = { which = papal_corruption_check value = 8 } }
				10 = { set_variable = { which = papal_corruption_check value = 9 } }
			}
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				change_variable = { which = papal_corruption_check value = 3 }
			}
			if = {
				limit = { PAP = { has_country_flag = reformer_pope } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = nepotism_abolished } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = curia_limits_established } }
				change_variable = { which = papal_corruption_check value = -2 }
			}
			if = {
				limit = { PAP = { has_country_flag = internationalized_curia } }
				change_variable = { which = papal_corruption_check value = -1 }
			}
			if = {
				limit = {
					OR = {
						ai = yes
						has_country_flag = religious_news_major
					}
					OR = { #Maximum -Small
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 76 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 47 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 28 }
						}
						NOT = { total_number_of_cardinals = 19 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					country_event = { id = dg_pope.018 days = 30 }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					country_event = { id = dg_pope.017 days = 30 }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					country_event = { id = dg_pope.016 days = 30 }
				}
			}
			if = {
				limit = {
					ai = no
					NOT = { has_country_flag = religious_news_major }
					OR = { #Maximum -Small
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 76 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 47 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 28 }
						}
						NOT = { total_number_of_cardinals = 19 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					PAP = { country_event = { id = dg_pope.018 days = 30 } }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					PAP = { country_event = { id = dg_pope.017 days = 30 } }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					PAP = { country_event = { id = dg_pope.016 days = 30 } }
				}
			}
			set_variable = { which = papal_corruption_check value = 0 }
			if = {
				limit = { PAP = { capital_scope = { north_italy_region_trigger = no } } }
				custom_tooltip = pope_yearns_for_rome
				hidden_effect = { PAP = { change_variable = { which = babylonian_captivity_resentment value = 1 } } }
				PAP = { country_event = { id = dg_papacy.035 days = 60 } } #Decline of the Papal States
			}
			every_country = {
				limit = {
					has_country_flag = was_catholic
					check_variable = { which = sympathy_to_old_religion value = 50 }
					any_owned_province = {
						OR = {
							has_province_flag = catholic_archbishopric
							has_province_flag = catholic_patriarchate
						}
					}
				}
				country_event = { id = dg_pope.025 days = 60 }
			}
		}
	}
	option = {
		name = dg_pope.004.b #Corrupt pope
		ai_chance = { factor = 50 }
		add_prestige = -1
		if = {
			limit = {
				NOT = { tag = PAP }
				exists = PAP
				NOT = { war_with = PAP }
				NOT = { truce_with = PAP }
				NOT = { is_rival = PAP }
				NOT = { is_enemy = PAP }
				NOT = { PAP = { army_size = ROOT } }
				NOT = { PAP = { num_of_cities = ROOT } }
				NOT = { has_country_flag = support_antipope }
				manpower_percentage = 0.40
				NOT = { war_exhaustion = 5 }
			}
			create_guarantee = PAP
		}
		reverse_add_opinion = { who = PAP modifier = papal_controller_corrupt }
		hidden_effect = {
			PAP = {
				set_country_flag = corrupt_pope
				set_country_flag = last_pope_corrupt
			}
		}
		#	PAP = { define_ruler = { } }
		every_country = { #Notifies interested countries of this event
			limit = {
				ai = no
				NOT = { tag = ROOT }
				OR = {
					tag = PAP
					AND = {
						religion = catholic
						OR = {
							num_of_cardinals = 1
							has_country_flag = ally_of_pope
							has_country_flag = enemy_of_pope
						}
						has_country_flag = religious_news_trivial
					}
					AND = {
						religion = catholic
						has_country_flag = religious_news_all
					}
				}
			}
			country_event = { id = dg_pope.008 }
		}
		hidden_effect = { #Decides which appointing new cardinals event to fire
			random_list = {
				10 = { set_variable = { which = papal_corruption_check value = 0 } }
				10 = { set_variable = { which = papal_corruption_check value = 1 } }
				10 = { set_variable = { which = papal_corruption_check value = 2 } }
				10 = { set_variable = { which = papal_corruption_check value = 3 } }
				10 = { set_variable = { which = papal_corruption_check value = 4 } }
				10 = { set_variable = { which = papal_corruption_check value = 5 } }
				10 = { set_variable = { which = papal_corruption_check value = 6 } }
				10 = { set_variable = { which = papal_corruption_check value = 7 } }
				10 = { set_variable = { which = papal_corruption_check value = 8 } }
				10 = { set_variable = { which = papal_corruption_check value = 9 } }
			}
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				change_variable = { which = papal_corruption_check value = 3 }
			}
			if = {
				limit = { PAP = { has_country_flag = reformer_pope } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = nepotism_abolished } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = curia_limits_established } }
				change_variable = { which = papal_corruption_check value = -2 }
			}
			if = {
				limit = { PAP = { has_country_flag = internationalized_curia } }
				change_variable = { which = papal_corruption_check value = -1 }
			}
			if = {
				limit = {
					OR = {
						ai = yes
						has_country_flag = religious_news_major
					}
					OR = { #Maximum -Small
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 76 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 47 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 28 }
						}
						NOT = { total_number_of_cardinals = 19 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					country_event = { id = dg_pope.018 days = 30 }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					country_event = { id = dg_pope.017 days = 30 }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					country_event = { id = dg_pope.016 days = 30 }
				}
			}
			if = {
				limit = {
					ai = no
					NOT = { has_country_flag = religious_news_major }
					OR = { #Maximum -Small
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 76 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 47 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 28 }
						}
						NOT = { total_number_of_cardinals = 19 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					PAP = { country_event = { id = dg_pope.018 days = 30 } }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					PAP = { country_event = { id = dg_pope.017 days = 30 } }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					PAP = { country_event = { id = dg_pope.016 days = 30 } }
				}
			}
			set_variable = { which = papal_corruption_check value = 0 }
			if = {
				limit = { PAP = { capital_scope = { north_italy_region_trigger = no } } }
				PAP = { country_event = { id = dg_papacy.035 days = 60 } } #Decline of the Papal States
			}
			every_country = {
				limit = {
					has_country_flag = was_catholic
					check_variable = { which = sympathy_to_old_religion value = 50 }
					any_owned_province = {
						OR = {
							has_province_flag = catholic_archbishopric
							has_province_flag = catholic_patriarchate
						}
					}
				}
				country_event = { id = dg_pope.025 days = 60 }
			}
		}
	}
}

country_event = { #Papal Conclave (Fair election)
	
	id = dg_pope.005
	title = dg_pope.004.t
	desc = dg_pope.005.d
	picture = catholic_habemus_papam
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 500 } }
			}
			custom_tooltip = papal_authority_strong_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 400 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 500 } } }
			}
			custom_tooltip = papal_authority_moderate_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 300 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 400 } } }
			}
			custom_tooltip = papal_authority_weak_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 200 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 300 } } }
			}
			custom_tooltip = papal_authority_nominal_explained
		}
		hidden_effect = {
			#every_country = {
			#	#limit = { has_country_flag = vetoed_candidate }
			#	clr_country_flag = vetoed_candidate
			#}
			PAP = {
				clr_country_flag = conclave_over
				clr_country_flag = last_pope_reformer
				clr_country_flag = last_pope_corrupt
				clr_country_flag = secular_pope
				clr_country_flag = reformer_pope
				clr_country_flag = corrupt_pope
				clr_country_flag = antipope_risen
				clr_country_flag = independent_pope
				set_country_flag = newly_elected_pope
			}
			set_global_flag = living_pope
			every_country = {
				clr_country_flag = vetoed_candidate
				if = {
					limit = { reverse_has_opinion_modifier = { who = PAP modifier = was_papal_controller } }
					reverse_remove_opinion = { who = PAP modifier = was_papal_controller }
				}
			}
			#Recalculate relationships with the pope
			every_country = {
				limit = { religion = catholic }
				set_variable = { which = papacy_relationship value = 1 }
				if = {
					limit = { num_of_cardinals = 1 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 3 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 5 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 7 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 9 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 11 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { num_of_cardinals = 13 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						has_country_flag = catholic_anticlericalism
						NOT = { has_global_flag = counter_reformation }
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { NOT = { has_opinion = { who = PAP value = -50 } } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								is_papal_controller = yes
								has_opinion = { who = PREV value = -50 }
							}
						}
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_opinion = { who = PAP value = 100 } }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							has_opinion = { who = PREV value = 100 }
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { is_papal_controller = yes }
					change_variable = { which = papacy_relationship value = 2 }
				}
				if = {
					limit = { owns = 2530 NOT = { tag = PAP } } # Roma
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { is_rival = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { is_enemy = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { alliance_with = PAP }
					change_variable = { which = papacy_relationship value = 2 }
				}
				if = {
					limit = { war_with = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { truce_with = PAP }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { any_rival_country = { is_papal_controller = yes } }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { any_enemy_country = { is_papal_controller = yes } }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							war_with = PREV
						}
					}
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							truce_with = PREV
						}
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							marriage_with = PREV
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_ally = {
							is_papal_controller = yes
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							vassal_of = PREV
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						overlord = {
							is_papal_controller = yes
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { piety = 0.60 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { piety = 0.20 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { NOT = { piety = -0.20 } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { NOT = { piety = -0.60 } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = introduce_reformation }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = spread_reformation }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = patronato_real }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { has_country_flag = constantine_donation_cf }
					change_variable = { which = papacy_relationship value = 3 }
				}
				if = {
					limit = { has_country_flag = concordat_with_vatican }
					change_variable = { which = papacy_relationship value = 1 }
				}
				#assign a flag to denote relationship
				if = {
					limit = {
						NOT = { check_variable = { which = papacy_relationship value = -2 } }
					}
					set_country_flag = enemy_of_pope
					clr_country_flag = rival_of_pope
					clr_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = -2 }
						NOT = { check_variable = { which = papacy_relationship value = 1 } }
					}
					clr_country_flag = enemy_of_pope
					set_country_flag = rival_of_pope
					clr_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = 1 }
						NOT = { check_variable = { which = papacy_relationship value = 4 } }
					}
					clr_country_flag = enemy_of_pope
					clr_country_flag = rival_of_pope
					clr_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = 4 }
						NOT = { check_variable = { which = papacy_relationship value = 7 } }
					}
					clr_country_flag = enemy_of_pope
					clr_country_flag = rival_of_pope
					set_country_flag = friend_of_pope
					clr_country_flag = ally_of_pope
				}
				if = {
					limit = {
						check_variable = { which = papacy_relationship value = 7 }
					}
					clr_country_flag = rival_of_pope
					clr_country_flag = enemy_of_pope
					clr_country_flag = friend_of_pope
					set_country_flag = ally_of_pope
				}
			}
		}
		hidden_effect = {
			change_variable = { which = popes_controlled value = 1 }
			every_country = {
				limit = { NOT = { tag = ROOT } }
				if = {
					limit = { check_variable = { which = popes_controlled value = 1 } }
					change_variable = { which = popes_controlled value = -1 }
				}
			}
		}
	}
	
	option = {
		name = dg_pope.005.a #The new pope is a capable man (Secular pope)
		ai_chance = { factor = 50 }
		reverse_add_opinion = { who = PAP modifier = papal_controller_secular }
		hidden_effect = { PAP = { set_country_flag = secular_pope } }
		#	PAP = { define_ruler = { } }
		every_country = { #Notifies interested countries of this event
			limit = {
				ai = no
				NOT = { tag = ROOT }
				OR = {
					tag = PAP
					AND = {
						religion = catholic
						OR = {
							num_of_cardinals = 1
							has_country_flag = ally_of_pope
							has_country_flag = enemy_of_pope
						}
						has_country_flag = religious_news_trivial
					}
					AND = {
						religion = catholic
						has_country_flag = religious_news_all
					}
				}
			}
			country_event = { id = dg_pope.007 }
		}
		hidden_effect = { #Decides which appointing new cardinals event to fire
			random_list = {
				10 = { set_variable = { which = papal_corruption_check value = 0 } }
				10 = { set_variable = { which = papal_corruption_check value = 1 } }
				10 = { set_variable = { which = papal_corruption_check value = 2 } }
				10 = { set_variable = { which = papal_corruption_check value = 3 } }
				10 = { set_variable = { which = papal_corruption_check value = 4 } }
				10 = { set_variable = { which = papal_corruption_check value = 5 } }
				10 = { set_variable = { which = papal_corruption_check value = 6 } }
				10 = { set_variable = { which = papal_corruption_check value = 7 } }
				10 = { set_variable = { which = papal_corruption_check value = 8 } }
				10 = { set_variable = { which = papal_corruption_check value = 9 } }
			}
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				change_variable = { which = papal_corruption_check value = 3 }
			}
			if = {
				limit = { PAP = { has_country_flag = reformer_pope } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = nepotism_abolished } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = curia_limits_established } }
				change_variable = { which = papal_corruption_check value = -2 }
			}
			if = {
				limit = { PAP = { has_country_flag = internationalized_curia } }
				change_variable = { which = papal_corruption_check value = -1 }
			}
			if = {
				limit = {
					OR = {
						ai = yes
						has_country_flag = religious_news_major
					}
					OR = {
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 70 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 45 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 35 }
						}
						NOT = { total_number_of_cardinals = 20 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					country_event = { id = dg_pope.018 days = 30 }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					country_event = { id = dg_pope.017 days = 30 }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					country_event = { id = dg_pope.016 days = 30 }
				}
			}
			if = {
				limit = {
					ai = no
					NOT = { has_country_flag = religious_news_major }
					OR = {
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 70 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 45 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 35 }
						}
						NOT = { total_number_of_cardinals = 20 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					PAP = { country_event = { id = dg_pope.018 days = 30 } }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					PAP = { country_event = { id = dg_pope.017 days = 30 } }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					PAP = { country_event = { id = dg_pope.016 days = 30 } }
				}
			}
			set_variable = { which = papal_corruption_check value = 0 }
			if = {
				limit = { PAP = { capital_scope = { north_italy_region_trigger = no } } }
				custom_tooltip = pope_yearns_for_rome
				hidden_effect = { PAP = { change_variable = { which = babylonian_captivity_resentment value = 1 } } }
				PAP = { country_event = { id = dg_papacy.035 days = 60 } } #Decline of the Papal States
			}
			every_country = {
				limit = {
					has_country_flag = was_catholic
					check_variable = { which = sympathy_to_old_religion value = 50 }
					any_owned_province = {
						OR = {
							has_province_flag = catholic_archbishopric
							has_province_flag = catholic_patriarchate
						}
					}
				}
				country_event = { id = dg_pope.025 days = 60 }
			}
		}
	}
	option = {
		name = dg_pope.005.b #The new pope is a saintly man (Reformer pope)
		ai_chance = { factor = 50 }
		add_prestige = +1
		reverse_add_opinion = { who = PAP modifier = papal_controller_reformer }
		hidden_effect = {
			PAP = {
				set_country_flag = reformer_pope
				set_country_flag = last_pope_reformer
			}
		}
		#	PAP = { define_ruler = { } }
		every_country = { #Notifies interested countries of this event
			limit = {
				ai = no
				NOT = { tag = ROOT }
				OR = {
					tag = PAP
					AND = {
						religion = catholic
						OR = {
							num_of_cardinals = 1
							has_country_flag = ally_of_pope
							has_country_flag = enemy_of_pope
						}
						has_country_flag = religious_news_trivial
					}
					AND = {
						religion = catholic
						has_country_flag = religious_news_all
					}
				}
			}
			country_event = { id = dg_pope.006 }
		}
		hidden_effect = { #Decides which appointing new cardinals event to fire
			random_list = {
				10 = { set_variable = { which = papal_corruption_check value = 0 } }
				10 = { set_variable = { which = papal_corruption_check value = 1 } }
				10 = { set_variable = { which = papal_corruption_check value = 2 } }
				10 = { set_variable = { which = papal_corruption_check value = 3 } }
				10 = { set_variable = { which = papal_corruption_check value = 4 } }
				10 = { set_variable = { which = papal_corruption_check value = 5 } }
				10 = { set_variable = { which = papal_corruption_check value = 6 } }
				10 = { set_variable = { which = papal_corruption_check value = 7 } }
				10 = { set_variable = { which = papal_corruption_check value = 8 } }
				10 = { set_variable = { which = papal_corruption_check value = 9 } }
			}
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				change_variable = { which = papal_corruption_check value = 3 }
			}
			if = {
				limit = { PAP = { has_country_flag = reformer_pope } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = nepotism_abolished } }
				change_variable = { which = papal_corruption_check value = -3 }
			}
			if = {
				limit = { PAP = { has_country_flag = curia_limits_established } }
				change_variable = { which = papal_corruption_check value = -2 }
			}
			if = {
				limit = { PAP = { has_country_flag = internationalized_curia } }
				change_variable = { which = papal_corruption_check value = -1 }
			}
			if = {
				limit = {
					OR = {
						ai = yes
						has_country_flag = religious_news_major
					}
					OR = {
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 70 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 45 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 35 }
						}
						NOT = { total_number_of_cardinals = 20 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					country_event = { id = dg_pope.018 days = 30 }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					country_event = { id = dg_pope.017 days = 30 }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					country_event = { id = dg_pope.016 days = 30 }
				}
			}
			if = {
				limit = {
					ai = no
					NOT = { has_country_flag = religious_news_major }
					OR = {
						AND = {
							is_year = 1500
							NOT = { PAP = { has_country_flag = curia_limits_established } }
							NOT = { total_number_of_cardinals = 70 }
						}
						AND = {
							is_year = 1500
							PAP = { has_country_flag = curia_limits_established }
							NOT = { total_number_of_cardinals = 45 }
						}
						AND = {
							is_year = 1400
							NOT = { total_number_of_cardinals = 35 }
						}
						NOT = { total_number_of_cardinals = 20 }
					}
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 10 } }
					PAP = { country_event = { id = dg_pope.018 days = 30 } }
				}
				if = {
					limit = {
						check_variable = { which = papal_corruption_check value = 5 }
						NOT = { check_variable = { which = papal_corruption_check value = 10 } }
					}
					PAP = { country_event = { id = dg_pope.017 days = 30 } }
				}
				if = {
					limit = { NOT = { check_variable = { which = papal_corruption_check value = 5 } } }
					PAP = { country_event = { id = dg_pope.016 days = 30 } }
				}
			}
			set_variable = { which = papal_corruption_check value = 0 }
			if = {
				limit = { PAP = { capital_scope = { north_italy_region_trigger = no } } }
				custom_tooltip = pope_yearns_for_rome_a_lot
				hidden_effect = { PAP = { change_variable = { which = babylonian_captivity_resentment value = 2 } } }
				PAP = { country_event = { id = dg_papacy.035 days = 60 } } #Decline of the Papal States
			}
			every_country = {
				limit = {
					has_country_flag = was_catholic
					check_variable = { which = sympathy_to_old_religion value = 50 }
					any_owned_province = {
						OR = {
							has_province_flag = catholic_archbishopric
							has_province_flag = catholic_patriarchate
						}
					}
				}
				country_event = { id = dg_pope.025 days = 60 }
			}
		}
	}
}

country_event = { #A new pope (reformer)
	
	id = dg_pope.006
	title = dg_pope.006.t
	desc = dg_pope.006.d
	picture = catholic_habemus_papam
	
	is_triggered_only = yes #By dg_pope.004/5
	
	immediate = {
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 500 } }
			}
			custom_tooltip = papal_authority_strong_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 400 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 500 } } }
			}
			custom_tooltip = papal_authority_moderate_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 300 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 400 } } }
			}
			custom_tooltip = papal_authority_weak_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 200 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 300 } } }
			}
			custom_tooltip = papal_authority_nominal_explained
		}
	}
	
	option = {
		name = dg_pope.006.a
		trigger = { NOT = { has_country_flag = humanism } }
		if = {
			limit = {
				OR = {
					has_country_flag = ally_of_pope
					has_country_flag = friend_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_good }
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = enemy_of_pope
					has_country_flag = rival_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_bad }
			}
		}
	}
	option = {
		name = dg_pope.006.b
		trigger = { has_country_flag = humanism }
		if = {
			limit = {
				OR = {
					has_country_flag = ally_of_pope
					has_country_flag = friend_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_good }
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = enemy_of_pope
					has_country_flag = rival_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_bad }
			}
		}
	}
}

country_event = { #A new pope (secular)
	
	id = dg_pope.007
	title = dg_pope.006.t
	desc = dg_pope.007.d
	picture = catholic_habemus_papam
	
	is_triggered_only = yes #By dg_pope.004/5
	
	immediate = {
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 500 } }
			}
			custom_tooltip = papal_authority_strong_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 400 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 500 } } }
			}
			custom_tooltip = papal_authority_moderate_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 300 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 400 } } }
			}
			custom_tooltip = papal_authority_weak_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 200 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 300 } } }
			}
			custom_tooltip = papal_authority_nominal_explained
		}
	}
	
	option = {
		name = dg_pope.007.a
		trigger = { NOT = { has_country_flag = humanism } }
		if = {
			limit = {
				OR = {
					has_country_flag = ally_of_pope
					has_country_flag = friend_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_good }
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = enemy_of_pope
					has_country_flag = rival_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_bad }
			}
		}
	}
	option = {
		name = dg_pope.007.b
		trigger = { has_country_flag = humanism }
		if = {
			limit = {
				OR = {
					has_country_flag = ally_of_pope
					has_country_flag = friend_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_good }
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = enemy_of_pope
					has_country_flag = rival_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_bad }
			}
		}
	}
}

country_event = { #A new pope (corrupt)
	
	id = dg_pope.008
	title = dg_pope.006.t
	desc = dg_pope.008.d
	picture = catholic_habemus_papam
	
	is_triggered_only = yes #By dg_pope.004/5
	
	immediate = {
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 500 } }
			}
			custom_tooltip = papal_authority_strong_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 400 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 500 } } }
			}
			custom_tooltip = papal_authority_moderate_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 300 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 400 } } }
			}
			custom_tooltip = papal_authority_weak_explained
		}
		if = {
			limit = {
				OR = {
					tag = PAP
					is_papal_controller = yes
					has_country_flag = religious_news_all
				}
				PAP = { check_variable = { which = papal_authority value = 200 } }
				PAP = { NOT = { check_variable = { which = papal_authority value = 300 } } }
			}
			custom_tooltip = papal_authority_nominal_explained
		}
	}
	
	option = {
		name = dg_pope.008.a
		trigger = { NOT = { has_country_flag = humanism } }
		if = {
			limit = {
				OR = {
					has_country_flag = ally_of_pope
					has_country_flag = friend_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_good }
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = enemy_of_pope
					has_country_flag = rival_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_bad }
			}
		}
	}
	option = {
		name = dg_pope.008.a
		trigger = { has_country_flag = humanism }
		if = {
			limit = {
				OR = {
					has_country_flag = ally_of_pope
					has_country_flag = friend_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_good }
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = enemy_of_pope
					has_country_flag = rival_of_pope
				}
			}
			random_known_country = {
				limit = { is_papal_controller = yes }
				reverse_add_opinion = { who = ROOT modifier = papal_election_bad }
			}
		}
	}
}

country_event = { #Summer heat prolongs conclave
	
	id = dg_pope.009
	title = dg_pope.009.t
	desc = dg_pope.009.d
	picture = catholic_church_council
	
	trigger = {
		is_papal_controller = yes
		NOT = { has_global_flag = living_pope }
		is_month = 7
		NOT = { is_month = 9 }
		PAP = { NOT = { has_country_flag = summer_heat } }
		PAP = { capital_scope = { north_italy_region_trigger = yes } }
	}
	
	mean_time_to_happen = { months = 10 }
	
	immediate = { hidden_effect = { PAP = { set_country_flag = summer_heat } } }
	
	option = {
		name = dg_pope.009.a #We can wait a few more months for a pope
	}
	option = {
		name = dg_pope.009.b #Force the cardinals back to work
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		hidden_effect = { PAP = { clr_country_flag = summer_heat } }
	}
}

#10** - Conclave hosted in $CAPITAL_CITY$

country_event = { #61 - Death of the Pope
	
	id = dg_pope.061
	title = dg_pope.001.t
	desc = dg_pope.001.d
	picture = catholic_college_of_cardinals
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { tag = PAP }
			#Changes pope's stats to 2/2/2 to simulate the council
			if = {
				limit = { NOT = { ADM = 2 } }
				change_adm = 1
			}
			if = {
				limit = {
					ADM = 3
					NOT = { ADM = 4 }
				}
				change_adm = -1
			}
			if = {
				limit = {
					ADM = 4
					NOT = { ADM = 5 }
				}
				change_adm = -2
			}
			if = {
				limit = {
					ADM = 5
					NOT = { ADM = 6 }
				}
				change_adm = -3
			}
			if = {
				limit = { ADM = 6 }
				change_adm = -4
			}
			if = {
				limit = { NOT = { DIP = 2 } }
				change_dip = 1
			}
			if = {
				limit = {
					DIP = 3
					NOT = { DIP = 4 }
				}
				change_dip = -1
			}
			if = {
				limit = {
					DIP = 4
					NOT = { DIP = 5 }
				}
				change_dip = -2
			}
			if = {
				limit = {
					DIP = 5
					NOT = { DIP = 6 }
				}
				change_dip = -3
			}
			if = {
				limit = { DIP = 6 }
				change_dip = -4
			}
			if = {
				limit = { NOT = { MIL = 2 } }
				change_mil = 1
			}
			if = {
				limit = {
					MIL = 3
					NOT = { MIL = 4 }
				}
				change_mil = -1
			}
			if = {
				limit = {
					MIL = 4
					NOT = { MIL = 5 }
				}
				change_mil = -2
			}
			if = {
				limit = {
					MIL = 5
					NOT = { MIL = 6 }
				}
				change_mil = -3
			}
			if = {
				limit = { MIL = 6 }
				change_mil = -4
			}
		}
	}
	
	option = {
		name = dg_pope.001.a #The church calls a conclave
	}
}

country_event = { #Papabile Vetoed
	
	id = dg_pope.062
	title = dg_pope.002.t
	desc = dg_pope.002.d
	picture = catholic_church_council
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { tag = PAP }
			change_adm = -1
			change_dip = -1
			change_mil = -1
			set_country_flag = vetoed_candidate
		}
	}
	
	option = {
		name = dg_pope.002.a #Our candidate has been vetoed
		add_prestige = -1
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
	}
}

country_event = { #Deadlocked Conclave
	
	id = dg_pope.063
	title = dg_pope.003.t
	desc = dg_pope.003.d
	picture = catholic_church_council
	
	is_triggered_only = yes
	
	option = {
		name = dg_pope.003.a #Wait it out
		if = {
			limit = { tag = PAP }
			change_adm = -1
			change_dip = -1
			change_mil = -1
			hidden_effect = { set_country_flag = deadlocked_conclave }
		}
	}
}


################
# Papal Powers # 10s
################

country_event = { #A case comes before the papal court (excommunication/scandal)
	
	id = dg_pope.011
	title = dg_pope.011.t
	desc = dg_pope.011.d
	picture = catholic_church_trial
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			# calculation of factors affecting appearance of guilt (+) or innocence (-)
			
			PAP = { set_variable = { which = papal_judgement value = -3 } } #Default is innocence
			if = {
				limit = { PAP = { has_country_modifier = jubilee_year } } #Forgiveness of sins during jubilees
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { has_country_flag = dispensation_granted } }
				PAP = { change_variable = { which = papal_judgement value = -10 } }
			}
			#Relationship to the pope
			if = {
				limit = {
					FROM = { is_papal_controller = yes }
					PAP = { has_country_flag = secular_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -4 } }
			}
			if = {
				limit = {
					FROM = { is_papal_controller = yes }
					PAP = { has_country_flag = corrupt_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -6 } }
			}
			if = {
				limit = {
					FROM = { is_papal_controller = yes }
					PAP = { has_country_flag = reformer_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -2 } }
			}
			if = {
				limit = { FROM = { num_of_cardinals = 1 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = ally_of_pope }
					PAP = { has_country_flag = secular_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -2 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = friend_of_pope }
					PAP = { has_country_flag = secular_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = rival_of_pope }
					PAP = { has_country_flag = secular_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = enemy_of_pope }
					PAP = { has_country_flag = secular_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = 2 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = ally_of_pope }
					PAP = { has_country_flag = corrupt_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -3 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = friend_of_pope }
					PAP = { has_country_flag = corrupt_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -2 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = rival_of_pope }
					PAP = { has_country_flag = corrupt_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = 2 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = enemy_of_pope }
					PAP = { has_country_flag = corrupt_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = 3 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = ally_of_pope }
					PAP = { has_country_flag = reformer_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = enemy_of_pope }
					PAP = { has_country_flag = reformer_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = enemy_of_pope }
					PAP = { has_country_flag = reformer_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = { war_with = PAP }
				}
				PAP = { change_variable = { which = papal_judgement value = 5 } }
			}
			if = {
				limit = {
					FROM = { truce_with = PAP }
				}
				PAP = { change_variable = { which = papal_judgement value = 3 } }
			}
			if = {
				limit = {
					FROM = { alliance_with = PAP }
				}
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { overlord_of = PAP }
				}
				PAP = { change_variable = { which = papal_judgement value = -3 } }
			}
			#How long you have been excommunicated
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 3000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 6000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 9000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 12000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 15000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 18000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 21000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 24000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 27000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { had_country_flag = { flag = excommunicated days = 30000 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			#National factors
			if = {
				limit = { FROM = { any_owned_province = { religion = catholic NOT = { is_core = owner } } } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = {
						num_of_owned_provinces_with = {
							religion = catholic
							NOT = { is_core = owner }
							value = 3
						}
					}
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = {
						num_of_owned_provinces_with = {
							religion = catholic
							NOT = { is_core = owner }
							value = 5
						}
					}
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = {
						num_of_owned_provinces_with = {
							religion = catholic
							NOT = { is_core = owner }
							value = 7
						}
					}
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = {
						num_of_owned_provinces_with = {
							religion = catholic
							NOT = { is_core = owner }
							value = 9
						}
					}
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = {
					FROM = {
						num_of_owned_provinces_with = {
							religion = catholic
							NOT = { is_core = owner }
							value = 11
						}
					}
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { is_at_war = yes } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { NOT = { piety = -0.20 } } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { NOT = { piety = -0.60 } } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { piety = 0.20 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { piety = 0.60 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { patriarch_authority = 0.60 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { patriarch_authority = 0.80 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { NOT = { patriarch_authority = 0.40 } } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { NOT = { patriarch_authority = 0.20 } } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { any_ally = { NOT = { religion_group = christian } } } }
				PAP = { change_variable = { which = papal_judgement value = 2 } }
			}
			if = {
				limit = { FROM = { any_ally = { NOT = { religion = catholic } } } }
				PAP = { change_variable = { which = papal_judgement value = 2 } }
			}
			if = {
				limit = { FROM = { has_country_flag = catholic_pragmatic_sanction } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { check_variable = { which = inquisition value = 2 } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { any_owned_province = { is_core = PAP } }
					FROM = { NOT = { tag = PAP } }
				}
				PAP = { change_variable = { which = papal_judgement value = 3 } }
			}
			#Personal factors
			if = {
				limit = { FROM = { NOT = { DIP = 2 } } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { NOT = { DIP = 3 } } }
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { FROM = { DIP = 5 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { DIP = 6 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { advisor = theologian } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { theologian = 3 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { advisor = inquisitor } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { FROM = { inquisitor = 3 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			#Power of the Pope
			if = {
				limit = { PAP = { NOT = { check_variable = { which = papal_authority value = 250 } } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { PAP = { NOT = { check_variable = { which = papal_authority value = 350 } } } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { NOT = { has_country_flag = excommunication_sponsoring_schism } }
					exists = AVI
					AVI = { papal_trigger = yes }
				}
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			#Specific offenses
			if = {
				limit = {
					FROM = { has_country_flag = unfair_excommunication }
					PAP = { has_country_flag = reformer_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -2 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = unfair_excommunication }
					PAP = { has_country_flag = secular_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = royal_scandal }
					FROM = { NOT = { has_country_flag = excommunicated } }
					PAP = { has_country_flag = reformer_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -3 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = excommunication_heathen_ally }
					FROM = {
						any_ally = {
							NOT = { religion_group = christian }
							NOT = { culture_group = FROM }
							NOT = { vassal_of = FROM }
							NOT = { overlord_of = FROM }
						}
					}
				}
				PAP = { change_variable = { which = papal_judgement value = 5 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = excommunication_heathen_ally }
					FROM = { NOT = { any_ally = { NOT = { religion_group = christian } } } }
				}
				PAP = { change_variable = { which = papal_judgement value = -3 } }
			}
			if = {
				limit = { FROM = { owns = 2530 } } # Roma
				PAP = { change_variable = { which = papal_judgement value = 2 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = excommunication_secular_Rome }
					FROM = { owns = 2530 } # Roma
				}
				PAP = { change_variable = { which = papal_judgement value = 5 } }
			}
			if = {
				limit = { FROM = { has_country_flag = excommunication_reformation } }
				PAP = { change_variable = { which = papal_judgement value = -3 } }
			}
			if = {
				limit = {
					FROM = {
						has_country_flag = excommunication_rome
						NOT = { any_owned_province = { is_core = PAP } }
						NOT = { war_with = PAP }
						NOT = { truce_with = PAP }
					}
				}
				PAP = { change_variable = { which = papal_judgement value = -3 } }
			}
			if = {
				limit = {
					FROM = {
						has_country_flag = excommunication_sponsoring_schism
						exists = AVI
						AVI = { papal_trigger = yes }
					}
				}
				PAP = { change_variable = { which = papal_judgement value = 3 } }
			}
			if = {
				limit = { FROM = { has_country_flag = excommunication_sponsoring_schism } }
				PAP = { change_variable = { which = papal_judgement value = 2 } }
			}
			if = {
				limit = { FROM = { check_variable = { which = dispensation_consideration value = 5 } } }
				PAP = { change_variable = { which = papal_judgement value = -10 } }
			}
			else_if = {
				limit = { FROM = { check_variable = { which = dispensation_consideration value = 4 } } }
				PAP = { change_variable = { which = papal_judgement value = -8 } }
			}
			else_if = {
				limit = { FROM = { check_variable = { which = dispensation_consideration value = 3 } } }
				PAP = { change_variable = { which = papal_judgement value = -6 } }
			}
			else_if = {
				limit = { FROM = { check_variable = { which = dispensation_consideration value = 2 } } }
				PAP = { change_variable = { which = papal_judgement value = -4 } }
			}
			else_if = {
				limit = { FROM = { check_variable = { which = dispensation_consideration value = 1 } } }
				PAP = { change_variable = { which = papal_judgement value = -2 } }
			}
			#Bribes
			if = {
				limit = {
					FROM = { has_country_flag = dispensation_bribe }
					PAP = { has_country_flag = corrupt_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -2 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = dispensation_bribe }
					PAP = { has_country_flag = secular_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = {
					FROM = { has_country_flag = dispensation_bribe }
					PAP = { has_country_flag = reformer_pope }
				}
				PAP = { change_variable = { which = papal_judgement value = 1 } }
			}
			if = {
				limit = { check_variable = { which = dispensation_bribe value = 50 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { check_variable = { which = dispensation_bribe value = 100 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			if = {
				limit = { check_variable = { which = dispensation_bribe value = 200 } }
				PAP = { change_variable = { which = papal_judgement value = -1 } }
			}
			
			# calculation of pope's attitude towards the accused
			PAP = {
				if = {
					limit = { check_variable = { which = papal_judgement value = 6 } }
					set_country_flag = judgement_certain_guilt
				}
				else_if = {
					limit = { check_variable = { which = papal_judgement value = 4 } }
					set_country_flag = judgement_guilt
				}
				else_if = {
					limit = { check_variable = { which = papal_judgement value = 2 } }
					set_country_flag = judgement_uncertain_guilt
				}
				else_if = {
					limit = { check_variable = { which = papal_judgement value = -2 } }
					set_country_flag = judgement_uncertain
				}
				else_if = {
					limit = { check_variable = { which = papal_judgement value = -4 } }
					set_country_flag = judgement_uncertain_innocence
				}
				else_if = {
					limit = { check_variable = { which = papal_judgement value = -6 } }
					set_country_flag = judgement_innocence
				}
				else = {
					set_country_flag = judgement_certain_innocence
				}
			}
			# cleanup
			PAP = { set_variable = { which = papal_judgement value = 0 } }
		}
	}
	
	option = {
		name = dg_pope.011.a #Stay removed from the situation
		trigger = { NOT = { tag = PAP } }
		ai_chance = {
			factor = 40
			modifier = {
				is_rival = FROM
				factor = 0.7
			}
			modifier = {
				is_enemy = FROM
				factor = 0.7
			}
			modifier = {
				is_threat = FROM
				factor = 0.7
			}
			modifier = {
				marriage_with = FROM
				factor = 0.5
			}
			modifier = {
				alliance_with = FROM
				factor = 0.3
			}
			modifier = {
				overlord_of = FROM
				factor = 0.5
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 0.3
			}
			modifier = {
				war_with = FROM
				factor = 0.3
			}
			modifier = {
				any_owned_province = { controlled_by = FROM }
				factor = 0.3
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 1 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 25 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 50 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 100 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 200 }
				factor = 0.7
			}
		}
		if = {
			limit = { check_variable = { which = dispensation_bribe value = 200 } }
			PAP = { add_treasury = 200 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 180 } }
			PAP = { add_treasury = 180 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 160 } }
			PAP = { add_treasury = 160 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 140 } }
			PAP = { add_treasury = 140 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 120 } }
			PAP = { add_treasury = 120 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 100 } }
			PAP = { add_treasury = 100 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 80 } }
			PAP = { add_treasury = 80 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 60 } }
			PAP = { add_treasury = 60 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 50 } }
			PAP = { add_treasury = 50 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 40 } }
			PAP = { add_treasury = 40 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 30 } }
			PAP = { add_treasury = 30 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 25 } }
			PAP = { add_treasury = 25 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 20 } }
			PAP = { add_treasury = 20 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 16 } }
			PAP = { add_treasury = 16 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 12 } }
			PAP = { add_treasury = 12 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 8 } }
			PAP = { add_treasury = 8 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 5 } }
			PAP = { add_treasury = 5 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 3 } }
			PAP = { add_treasury = 3 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 2 } }
			PAP = { add_treasury = 2 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 1 } }
			PAP = { add_treasury = 1 }
		}
		add_prestige = 1
		if = {
			limit = { PAP = { has_country_flag = judgement_certain_guilt } }
			FROM = {
				random_list = {
					80 = { country_event = { id = dg_catholic.065 days = 90 } } #Dispensation denied
					20 = { country_event = { id = dg_catholic.064 days = 90 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = { PAP = { has_country_flag = judgement_guilt } }
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.065 days = 90 } } #Dispensation denied
					40 = { country_event = { id = dg_catholic.064 days = 90 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = { PAP = { has_country_flag = judgement_uncertain_guilt } }
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.065 days = 90 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 90 } } #Dispensation considered
					10 = { country_event = { id = dg_catholic.063 days = 90 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = { PAP = { has_country_flag = judgement_uncertain } }
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.065 days = 90 } } #Dispensation denied
					60 = { country_event = { id = dg_catholic.064 days = 90 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 90 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = { PAP = { has_country_flag = judgement_uncertain_innocence } }
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.065 days = 90 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 90 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 90 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = { PAP = { has_country_flag = judgement_innocence } }
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.064 days = 90 } } #Dispensation considered
					60 = { country_event = { id = dg_catholic.063 days = 90 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = { PAP = { has_country_flag = judgement_certain_innocence } }
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.064 days = 90 } } #Dispensation considered
					80 = { country_event = { id = dg_catholic.063 days = 90 } } #Dispensation granted
				}
			}
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = judgement_certain_innocence
				clr_country_flag = judgement_innocence
				clr_country_flag = judgement_uncertain_innocence
				clr_country_flag = judgement_uncertain
				clr_country_flag = judgement_uncertain_guilt
				clr_country_flag = judgement_guilt
				clr_country_flag = judgement_certain_guilt
			}
			set_variable = { which = dispensation_bribe value = 0 }
		}
	}
	option = {
		name = dg_pope.011.b #Write a missive encouraging leniency
		trigger = { NOT = { tag = PAP } }
		ai_chance = {
			factor = 10
			modifier = {
				is_rival = FROM
				factor = 0.7
			}
			modifier = {
				is_enemy = FROM
				factor = 0.7
			}
			modifier = {
				is_threat = FROM
				factor = 0.7
			}
			modifier = {
				marriage_with = FROM
				factor = 2
			}
			modifier = {
				alliance_with = FROM
				factor = 3
			}
			modifier = {
				overlord_of = FROM
				factor = 2
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 3
			}
			modifier = {
				war_with = FROM
				factor = 0
			}
			modifier = {
				any_owned_province = { controlled_by = FROM }
				factor = 0
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 1 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 25 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 50 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 100 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 200 }
				factor = 1.4
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		if = {
			limit = { check_variable = { which = dispensation_bribe value = 200 } }
			add_treasury = 100
			PAP = { add_treasury = 100 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 180 } }
			add_treasury = 90
			PAP = { add_treasury = 90 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 160 } }
			add_treasury = 80
			PAP = { add_treasury = 80 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 140 } }
			add_treasury = 70
			PAP = { add_treasury = 70 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 120 } }
			add_treasury = 60
			PAP = { add_treasury = 60 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 100 } }
			add_treasury = 50
			PAP = { add_treasury = 50 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 80 } }
			add_treasury = 40
			PAP = { add_treasury = 40 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 60 } }
			add_treasury = 30
			PAP = { add_treasury = 30 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 50 } }
			add_treasury = 20
			PAP = { add_treasury = 20 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 40 } }
			add_treasury = 10
			PAP = { add_treasury = 10 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 30 } }
			add_treasury = 15
			PAP = { add_treasury = 15 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 25 } }
			add_treasury = 12.5
			PAP = { add_treasury = 12.5 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 20 } }
			add_treasury = 10
			PAP = { add_treasury = 10 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 16 } }
			add_treasury = 8
			PAP = { add_treasury = 8 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 12 } }
			add_treasury = 6
			PAP = { add_treasury = 6 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 8 } }
			add_treasury = 4
			PAP = { add_treasury = 4 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 5 } }
			add_treasury = 2.5
			PAP = { add_treasury = 2.5 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 3 } }
			add_treasury = 1.5
			PAP = { add_treasury = 1.5 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 2 } }
			add_treasury = 1
			PAP = { add_treasury = 1 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 1 } }
			add_treasury = 0.5
			PAP = { add_treasury = 0.5 }
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					70 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					30 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					60 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					30 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					50 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					70 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					90 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					50 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					70 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					90 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					40 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					10 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					30 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					60 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					80 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = judgement_certain_innocence
				clr_country_flag = judgement_innocence
				clr_country_flag = judgement_uncertain_innocence
				clr_country_flag = judgement_uncertain
				clr_country_flag = judgement_uncertain_guilt
				clr_country_flag = judgement_guilt
				clr_country_flag = judgement_certain_guilt
			}
			set_variable = { which = dispensation_bribe value = 0 }
		}
	}
	option = {
		name = dg_pope.011.c #Apply pressure on the pope to forgive
		trigger = {
			NOT = { tag = PAP }
			OR = {
				FROM = { is_subject_of = ROOT }
				is_subject_of = FROM
				alliance_with = FROM
				marriage_with = FROM
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				is_rival = FROM
				factor = 0.7
			}
			modifier = {
				is_enemy = FROM
				factor = 0.7
			}
			modifier = {
				is_threat = FROM
				factor = 0.7
			}
			modifier = {
				marriage_with = FROM
				factor = 2
			}
			modifier = {
				alliance_with = FROM
				factor = 3
			}
			modifier = {
				overlord_of = FROM
				factor = 2
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 3
			}
			modifier = {
				war_with = FROM
				factor = 0
			}
			modifier = {
				any_owned_province = { controlled_by = FROM }
				factor = 0
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 1 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 25 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 50 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 100 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 200 }
				factor = 1.4
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		if = {
			limit = { check_variable = { which = dispensation_bribe value = 200 } }
			add_treasury = 200
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 180 } }
			add_treasury = 180
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 160 } }
			add_treasury = 160
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 140 } }
			add_treasury = 140
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 120 } }
			add_treasury = 120
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 100 } }
			add_treasury = 100
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 80 } }
			add_treasury = 80
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 60 } }
			add_treasury = 60
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 50 } }
			add_treasury = 50
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 40 } }
			add_treasury = 40
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 30 } }
			add_treasury = 30
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 25 } }
			add_treasury = 25
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 20 } }
			add_treasury = 20
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 16 } }
			add_treasury = 16
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 12 } }
			add_treasury = 12
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 8 } }
			add_treasury = 8
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 5 } }
			add_treasury = 5
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 3 } }
			add_treasury = 3
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 2 } }
			add_treasury = 2
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 1 } }
			add_treasury = 1
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = reformer_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					40 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = reformer_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					10 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = reformer_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					30 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = reformer_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = reformer_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					60 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = reformer_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					80 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = reformer_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = corrupt_pope } #60% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					30 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = corrupt_pope } #60% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					50 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = corrupt_pope } #60% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					70 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = corrupt_pope } #60% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					80 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = corrupt_pope } #60% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = corrupt_pope } #60% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = corrupt_pope } #60% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = secular_pope } #40% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					10 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = secular_pope } #40% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					30 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = secular_pope } #40% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					50 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = secular_pope } #40% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					60 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = secular_pope } #40% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					80 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = secular_pope } #40% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = secular_pope } #40% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = judgement_certain_innocence
				clr_country_flag = judgement_innocence
				clr_country_flag = judgement_uncertain_innocence
				clr_country_flag = judgement_uncertain
				clr_country_flag = judgement_uncertain_guilt
				clr_country_flag = judgement_guilt
				clr_country_flag = judgement_certain_guilt
			}
			set_variable = { which = dispensation_bribe value = 0 }
		}
	}
	option = {
		name = dg_pope.011.e #Write a missive encouraging stringency
		trigger = { NOT = { tag = PAP } }
		ai_chance = {
			factor = 10
			modifier = {
				is_rival = FROM
				factor = 1.4
			}
			modifier = {
				is_enemy = FROM
				factor = 1.4
			}
			modifier = {
				is_threat = FROM
				factor = 1.4
			}
			modifier = {
				marriage_with = FROM
				factor = 0.5
			}
			modifier = {
				alliance_with = FROM
				factor = 0.3
			}
			modifier = {
				overlord_of = FROM
				factor = 0.5
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 0.3
			}
			modifier = {
				war_with = FROM
				factor = 3
			}
			modifier = {
				any_owned_province = { controlled_by = FROM }
				factor = 3
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		if = {
			limit = { check_variable = { which = dispensation_bribe value = 200 } }
			PAP = { add_treasury = 200 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 180 } }
			PAP = { add_treasury = 180 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 160 } }
			PAP = { add_treasury = 160 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 140 } }
			PAP = { add_treasury = 140 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 120 } }
			PAP = { add_treasury = 120 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 100 } }
			PAP = { add_treasury = 100 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 80 } }
			PAP = { add_treasury = 80 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 60 } }
			PAP = { add_treasury = 60 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 50 } }
			PAP = { add_treasury = 50 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 40 } }
			PAP = { add_treasury = 40 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 30 } }
			PAP = { add_treasury = 30 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 25 } }
			PAP = { add_treasury = 25 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 20 } }
			PAP = { add_treasury = 20 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 16 } }
			PAP = { add_treasury = 16 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 12 } }
			PAP = { add_treasury = 12 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 8 } }
			PAP = { add_treasury = 8 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 5 } }
			PAP = { add_treasury = 5 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 3 } }
			PAP = { add_treasury = 3 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 2 } }
			PAP = { add_treasury = 2 }
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 1 } }
			PAP = { add_treasury = 1 }
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					90 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					10 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					80 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					20 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					60 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					10 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					30 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					50 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = reformer_pope } #10% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					70 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					90 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					10 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					70 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					30 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					20 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					30 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = corrupt_pope } #30% influence on decision
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					80 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					20 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					40 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					10 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.065 days = 60 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = secular_pope } #20% influence on decision
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.064 days = 60 } } #Dispensation considered
					60 = { country_event = { id = dg_catholic.063 days = 60 } } #Dispensation granted
				}
			}
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = judgement_certain_innocence
				clr_country_flag = judgement_innocence
				clr_country_flag = judgement_uncertain_innocence
				clr_country_flag = judgement_uncertain
				clr_country_flag = judgement_uncertain_guilt
				clr_country_flag = judgement_guilt
				clr_country_flag = judgement_certain_guilt
			}
			set_variable = { which = dispensation_bribe value = 0 }
		}
	}
	option = {
		name = dg_pope.011.f #Apply pressure on the pope to convict
		trigger = {
			NOT = { tag = PAP }
			OR = {
				is_rival = FROM
				is_enemy = FROM
				is_threat = FROM
				war_with = FROM
				truce_with = FROM
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				is_rival = FROM
				factor = 1.4
			}
			modifier = {
				is_enemy = FROM
				factor = 1.4
			}
			modifier = {
				FROM = { is_threat = ROOT }
				factor = 1.4
			}
			modifier = {
				is_threat = FROM
				factor = 1.4
			}
			modifier = {
				marriage_with = FROM
				factor = 0.5
			}
			modifier = {
				alliance_with = FROM
				factor = 0.3
			}
			modifier = {
				overlord_of = FROM
				factor = 0.5
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 0.3
			}
			modifier = {
				war_with = FROM
				factor = 3
			}
			modifier = {
				any_owned_province = { controlled_by = FROM }
				factor = 3
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = corrupt_pope }
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = corrupt_pope }
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = corrupt_pope }
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = corrupt_pope }
			}
			FROM = {
				random_list = {
					80 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					20 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = corrupt_pope }
			}
			FROM = {
				random_list = {
					70 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					30 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = corrupt_pope }
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = corrupt_pope }
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = secular_pope }
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = secular_pope }
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = secular_pope }
			}
			FROM = {
				random_list = {
					80 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					20 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = secular_pope }
			}
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					40 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = secular_pope }
			}
			FROM = {
				random_list = {
					50 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = secular_pope }
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = secular_pope }
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_guilt }
				PAP = { has_country_flag = reformer_pope }
			}
			FROM = {
				random_list = {
					100 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_guilt }
				PAP = { has_country_flag = reformer_pope }
			}
			FROM = {
				random_list = {
					80 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					20 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_guilt }
				PAP = { has_country_flag = reformer_pope }
			}
			FROM = {
				random_list = {
					60 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					40 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain }
				PAP = { has_country_flag = reformer_pope }
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					60 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_uncertain_innocence }
				PAP = { has_country_flag = reformer_pope }
			}
			FROM = {
				random_list = {
					30 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					20 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_innocence }
				PAP = { has_country_flag = reformer_pope }
			}
			FROM = {
				random_list = {
					10 = { country_event = { id = dg_catholic.065 days = 30 } } #Dispensation denied
					50 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					40 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		if = {
			limit = {
				PAP = { has_country_flag = judgement_certain_innocence }
				PAP = { has_country_flag = reformer_pope }
			}
			FROM = {
				random_list = {
					40 = { country_event = { id = dg_catholic.064 days = 30 } } #Dispensation considered
					60 = { country_event = { id = dg_catholic.063 days = 30 } } #Dispensation granted
				}
			}
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = judgement_certain_innocence
				clr_country_flag = judgement_innocence
				clr_country_flag = judgement_uncertain_innocence
				clr_country_flag = judgement_uncertain
				clr_country_flag = judgement_uncertain_guilt
				clr_country_flag = judgement_guilt
				clr_country_flag = judgement_certain_guilt
			}
			set_variable = { which = dispensation_bribe value = 0 }
		}
	}
	option = {
		name = dg_pope.011.g #Grant dispensation
		ai_chance = {
			factor = 70
			modifier = {
				is_rival = FROM
				factor = 0.7
			}
			modifier = {
				is_enemy = FROM
				factor = 0.7
			}
			modifier = {
				is_threat = FROM
				factor = 0.7
			}
			modifier = {
				marriage_with = FROM
				factor = 2
			}
			modifier = {
				alliance_with = FROM
				factor = 3
			}
			modifier = {
				overlord_of = FROM
				factor = 2
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 3
			}
			modifier = {
				war_with = FROM
				factor = 0
			}
			modifier = {
				any_owned_province = { controlled_by = FROM }
				factor = 0
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 1 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 25 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 50 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 100 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dispensation_bribe value = 200 }
				factor = 1.4
			}
		}
		trigger = { tag = PAP }
		FROM = { country_event = { id = dg_catholic.063 days = 30 } }
		if = {
			limit = { check_variable = { which = dispensation_bribe value = 200 } }
			add_treasury = 200
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 180 } }
			add_treasury = 180
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 160 } }
			add_treasury = 160
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 140 } }
			add_treasury = 140
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 120 } }
			add_treasury = 120
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 100 } }
			add_treasury = 100
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 80 } }
			add_treasury = 80
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 60 } }
			add_treasury = 60
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 50 } }
			add_treasury = 50
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 40 } }
			add_treasury = 40
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 30 } }
			add_treasury = 30
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 25 } }
			add_treasury = 25
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 20 } }
			add_treasury = 20
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 16 } }
			add_treasury = 16
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 12 } }
			add_treasury = 12
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 8 } }
			add_treasury = 8
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 5 } }
			add_treasury = 5
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 3 } }
			add_treasury = 3
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 2 } }
			add_treasury = 2
		}
		else_if = {
			limit = { check_variable = { which = dispensation_bribe value = 1 } }
			add_treasury = 1
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = judgement_certain_innocence
				clr_country_flag = judgement_innocence
				clr_country_flag = judgement_uncertain_innocence
				clr_country_flag = judgement_uncertain
				clr_country_flag = judgement_uncertain_guilt
				clr_country_flag = judgement_guilt
				clr_country_flag = judgement_certain_guilt
			}
			set_variable = { which = dispensation_bribe value = 0 }
		}
	}
	option = {
		name = dg_pope.011.h #Refuse dispensation
		ai_chance = {
			factor = 30
			modifier = {
				is_rival = FROM
				factor = 1.4
			}
			modifier = {
				is_enemy = FROM
				factor = 1.4
			}
			modifier = {
				FROM = { is_threat = ROOT }
				factor = 1.4
			}
			modifier = {
				is_threat = FROM
				factor = 1.4
			}
			modifier = {
				marriage_with = FROM
				factor = 0.5
			}
			modifier = {
				alliance_with = FROM
				factor = 0.3
			}
			modifier = {
				overlord_of = FROM
				factor = 0.5
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 0.3
			}
			modifier = {
				war_with = FROM
				factor = 3
			}
			modifier = {
				any_owned_province = { controlled_by = FROM }
				factor = 3
			}
		}
		trigger = { tag = PAP }
		FROM = { country_event = { id = dg_catholic.065 days = 30 } }
		hidden_effect = {
			PAP = {
				clr_country_flag = judgement_certain_innocence
				clr_country_flag = judgement_innocence
				clr_country_flag = judgement_uncertain_innocence
				clr_country_flag = judgement_uncertain
				clr_country_flag = judgement_uncertain_guilt
				clr_country_flag = judgement_guilt
				clr_country_flag = judgement_certain_guilt
			}
			set_variable = { which = dispensation_bribe value = 0 }
		}
	}
}

country_event = { #A case comes before the Papal Court (consanguinity)
	
	id = dg_pope.012
	title = dg_pope.012.t
	desc = dg_pope.012.d
	picture = catholic_church_trial
	
	trigger = {
		PAP = { has_country_flag = consanguinity }
		PAP = { NOT = { has_country_flag = consanguinity_issues } }
		is_papal_controller = yes
		has_global_flag = living_pope
		OR = {
			ai = yes
			has_country_flag = religious_news_trivial
			has_country_flag = marriage_on_hold
			has_country_flag = engagement_on_hold
			AND = {
				has_country_flag = religious_news_major
				any_known_country = {
					OR = {
						has_country_flag = marriage_on_hold
						has_country_flag = engagement_on_hold
					}
					OR = {
						alliance_with = ROOT
						is_rival = ROOT
						is_enemy = ROOT
						truce_with = ROOT
						war_with = ROOT
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 3
		
		modifier = {
			has_country_flag = marriage_on_hold
			factor = 0.5
		}
		modifier = {
			has_country_flag = engagement_on_hold
			factor = 0.5
		}
	}
	
	immediate = { hidden_effect = { PAP = { set_country_flag = consanguinity_issues } } }
	
	option = {
		name = dg_pope.012.a #Grant permission for the wedding
		ai_chance = { factor = 80 }
		if = {
			limit = { has_country_flag = marriage_on_hold }
			country_event = { id = dg_catholic.078 }
		}
		random_known_country = {
			limit = {
				has_country_flag = engagement_on_hold
				NOT = { tag = ROOT }
			}
			add_opinion = { who = ROOT modifier = papacy_good }
		}
		random_known_country = {
			limit = {
				has_country_flag = marriage_on_hold
				NOT = { tag = ROOT }
			}
			add_opinion = { who = ROOT modifier = papacy_good }
			country_event = { id = dg_catholic.078 days = 30 }
		}
	}
	option = {
		name = dg_pope.012.b #Forbid this impure union
		ai_chance = {
			factor = 20
			modifier = {
				any_known_country = {
					has_country_flag = marriage_on_hold
					has_country_flag = rival_of_pope
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_country_flag = marriage_on_hold
					has_country_flag = enemy_of_pope
				}
				factor = 2
			}
			modifier = {
				any_known_country = {
					has_country_flag = engagement_on_hold
					has_country_flag = friend_of_pope
				}
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = engagement_on_hold
					has_country_flag = ally_of_pope
				}
				factor = 0.5
			}
			modifier = {
				any_known_country = {
					has_country_flag = marriage_on_hold
					war_with = ROOT
				}
				factor = 2
			}
			modifier = {
				any_known_country = {
					has_country_flag = engagement_on_hold
					war_with = ROOT
				}
				factor = 2
			}
			modifier = {
				any_known_country = {
					has_country_flag = marriage_on_hold
					truce_with = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_country_flag = engagement_on_hold
					truce_with = ROOT
				}
				factor = 1.4
			}
			modifier = {
				has_country_flag = marriage_on_hold
				factor = 0
			}
			modifier = {
				has_country_flag = engagement_on_hold
				factor = 0
			}
			modifier = {
				any_ally = {
					has_country_flag = marriage_on_hold
				}
				factor = 0.7
			}
			modifier = {
				any_ally = {
					has_country_flag = engagement_on_hold
				}
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = marriage_on_hold
					marriage_with = ROOT
				}
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = engagement_on_hold
					marriage_with = ROOT
				}
				factor = 0.7
			}
			modifier = {
				overlord = {
					has_country_flag = marriage_on_hold
				}
				factor = 0.5
			}
			modifier = {
				overlord = {
					has_country_flag = engagement_on_hold
				}
				factor = 0.5
			}
		}
		if = {
			limit = { has_country_flag = marriage_on_hold }
			hidden_effect = { clr_country_flag = marriage_on_hold }
			country_event = { id = dg_catholic.079 }
		}
		random_known_country = {
			limit = {
				has_country_flag = marriage_on_hold
				NOT = { tag = ROOT }
			}
			hidden_effect = { clr_country_flag = marriage_on_hold }
			add_opinion = { who = ROOT modifier = papacy_bad }
			country_event = { id = dg_catholic.079 days = 30 }
		}
		random_known_country = {
			limit = { has_country_flag = engagement_on_hold }
			hidden_effect = { clr_country_flag = engagement_on_hold }
			add_opinion = { who = ROOT modifier = papacy_bad }
		}
	}
}

country_event = { #The Infidel Threat
	
	id = dg_pope.013
	title = dg_pope.013.t
	desc = dg_pope.013.d
	picture = catholic_burning_church
	
	is_triggered_only = yes #by dg_catholic.041 (A Cry for Help)
	
	option = {
		name = dg_pope.013.a #Call a crusade
		trigger = {
			OR = {
				ai = yes
				papal_influence = 5
				tag = PAP
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				MIL = 4
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_sponsor
					NOT = { religion = catholic }
				}
				factor = 0.5
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_sponsor
					has_country_flag = humanism
				}
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_sponsor
					has_country_flag = conciliarism_supported
				}
				factor = 0.7
			}
			modifier = {
				any_neighbor_country = { has_country_flag = crusade_sponsor }
				factor = 2
			}
			modifier = {
				PAP = { any_neighbor_country = { has_country_flag = crusade_sponsor } }
				factor = 2
			}
			modifier = {
				any_neighbor_country = { has_country_flag = crusade_target }
				factor = 2
			}
			modifier = {
				PAP = { any_neighbor_country = { has_country_flag = crusade_target } }
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = crusade_demand
				set_country_flag = crusade_called
				set_country_flag = crusader
			}
			set_country_flag = crusader
		}
		random_known_country = {
			limit = { has_country_flag = crusade_target }
			add_casus_belli = { type = cb_insult target = ROOT months = 12 }
		}
		random_known_country = {
			limit = { has_country_flag = crusade_sponsor }
			hidden_effect = { clr_country_flag = crusade_promised }
			country_event = { id = dg_catholic.044 }
		}
	}
	option = {
		name = dg_pope.013.b #Other matters demand our attention
		ai_chance = {
			factor = 50
			modifier = {
				any_known_country = {
					has_country_flag = crusade_sponsor
					has_country_flag = crusade_promised
					religion = catholic
				}
				factor = 0.1
			}
			modifier = {
				PAP = { has_country_flag = crusade_sponsor }
				factor = 0
			}
			modifier = {
				has_country_flag = crusade_sponsor
				factor = 0
			}
		}
		random_known_country = {
			limit = { has_country_flag = crusade_sponsor }
			hidden_effect = {
				clr_country_flag = crusade_promised
				clr_country_flag = crusade_sponsor
				set_country_flag = crusade_denied
			}
			country_event = { id = dg_catholic.045 }
		}
		hidden_effect = {
			PAP = { clr_country_flag = crusade_demand }
			random_known_country = {
				limit = { has_country_flag = crusade_target }
				clr_country_flag = crusade_target
			}
		}
	}
}

country_event = { #A case comes before the papal court (grievance)
	
	id = dg_pope.014
	title = dg_pope.014.t
	desc = dg_pope.014.d
	picture = catholic_trial
	
	is_triggered_only = yes
	
	option = {
		name = dg_pope.014.a #Try to find a compromise acceptable to both sides
		ai_chance = {
			factor = 60
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 1 } }
				factor = 0.8
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 2 } }
				factor = 0.8
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 5 } }
				factor = 0.8
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 10 } }
				factor = 0.8
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 25 } }
				factor = 0.8
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 50 } }
				factor = 0.8
			}
			modifier = {
				PAP = { NOT = { has_country_flag = reformer_pope } }
				FROM = {
					OR = {
						has_country_flag = friend_of_pope
						has_country_flag = rival_of_pope
					}
				}
				factor = 0.7
			}
			modifier = {
				PAP = { NOT = { has_country_flag = reformer_pope } }
				FROM = {
					OR = {
						has_country_flag = ally_of_pope
						has_country_flag = enemy_of_pope
					}
				}
				factor = 0.5
			}
		}
		FROM = {
			hidden_effect = { set_variable = { which = arbitration_bribe value = 0 } }
			random_neighbor_country = {
				limit = { has_country_flag = aggrieved_party }
				hidden_effect = { set_country_flag = grievance_compromise }
				country_event = { id = dg_catholic.029 days = 90 }
				add_opinion = { who = ROOT modifier = papacy_good }
			}
			hidden_effect = {
				set_country_flag = aggrieved_party
				set_country_flag = grievance_compromise
			}
			country_event = { id = dg_catholic.029 days = 90 }
			add_opinion = { who = ROOT modifier = papacy_good }
		}
	}
	option = {
		name = dg_pope.014.b #Rule in favor of the plaintiff
		trigger = { NOT = { has_country_flag = aggrieved_party } }
		ai_chance = {
			factor = 20
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 1 } }
				factor = 1.2
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 2 } }
				factor = 1.2
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 5 } }
				factor = 1.2
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 10 } }
				factor = 1.2
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 25 } }
				factor = 1.2
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 50 } }
				factor = 1.2
			}
			modifier = {
				FROM = { has_country_flag = enemy_of_pope }
				factor = 0
			}
			modifier = {
				FROM = { has_country_flag = rival_of_pope }
				factor = 0.5
			}
			modifier = {
				FROM = { any_neighbor_country = { has_country_flag = aggrieved_party has_country_flag = ally_of_pope } }
				factor = 0
			}
			modifier = {
				FROM = { any_neighbor_country = { has_country_flag = aggrieved_party has_country_flag = friend_of_pope } }
				factor = 0.5
			}
		}
		#Influencing the pope
		if = {
			limit = {
				OR = {
					FROM = { has_country_flag = enemy_of_pope }
					FROM = {
						any_neighbor_country = {
							has_country_flag = aggrieved_party
							has_country_flag = ally_of_pope
						}
					}
				}
			}
			if = {
				limit = { NOT = { tag = PAP } }
				add_papal_influence = -10
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						FROM = { has_country_flag = enemy_of_pope }
						FROM = {
							any_neighbor_country = {
								has_country_flag = aggrieved_party
								has_country_flag = ally_of_pope
							}
						}
					}
				}
				OR = {
					FROM = { has_country_flag = rival_of_pope }
					FROM = {
						any_neighbor_country = {
							has_country_flag = aggrieved_party
							has_country_flag = friend_of_pope
						}
					}
				}
			}
			if = {
				limit = { NOT = { tag = PAP } }
				add_papal_influence = -5
			}
		}
		#Bribe
		if = {
			limit = {
				FROM = { check_variable = { which = arbitration_bribe value = 50 } }
			}
			add_treasury = 25
			PAP = { add_treasury = 25 }
		}
		else_if = {
			limit = {
				FROM = { check_variable = { which = arbitration_bribe value = 25 } }
			}
			add_treasury = 10
			PAP = { add_treasury = 10 }
		}
		else_if = {
			limit = {
				FROM = { check_variable = { which = arbitration_bribe value = 10 } }
			}
			add_treasury = 5
			PAP = { add_treasury = 5 }
		}
		else_if = {
			limit = {
				FROM = { check_variable = { which = arbitration_bribe value = 5 } }
			}
			add_treasury = 2.5
			PAP = { add_treasury = 2.5 }
		}
		else_if = {
			limit = {
				FROM = { check_variable = { which = arbitration_bribe value = 2 } }
			}
			add_treasury = 1
			PAP = { add_treasury = 1 }
		}
		else_if = {
			limit = {
				FROM = { check_variable = { which = arbitration_bribe value = 1 } }
			}
			add_treasury = 0.5
			PAP = { add_treasury = 0.5 }
		}
		FROM = {
			hidden_effect = { set_variable = { which = arbitration_bribe value = 0 } }
			random_neighbor_country = {
				limit = { has_country_flag = aggrieved_party }
				add_opinion = { who = ROOT modifier = papacy_bad }
			}
			country_event = { id = dg_catholic.027 days = 60 }
			add_opinion = { who = ROOT modifier = papacy_great }
		}
	}
	option = {
		name = dg_pope.014.c #Rule against the plaintiff
		ai_chance = {
			factor = 20
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 1 } }
				PAP = { has_country_flag = corrupt_pope }
				factor = 0.7
			}
			modifier = {
				FROM = { check_variable = { which = arbitration_bribe value = 1 } }
				PAP = { has_country_flag = reformer_pope }
				factor = 2
			}
			modifier = {
				has_country_flag = aggrieved_party
				factor = 10
			}
			modifier = {
				FROM = { has_country_flag = ally_of_pope }
				factor = 0
			}
			modifier = {
				FROM = { has_country_flag = friend_of_pope }
				factor = 0.5
			}
			modifier = {
				FROM = { any_neighbor_country = { has_country_flag = aggrieved_party has_country_flag = enemy_of_pope } }
				factor = 0
			}
			modifier = {
				FROM = { any_neighbor_country = { has_country_flag = aggrieved_party has_country_flag = rival_of_pope } }
				factor = 0.5
			}
		}
		if = {
			limit = {
				OR = {
					FROM = { has_country_flag = ally_of_pope }
					FROM = {
						any_neighbor_country = {
							has_country_flag = aggrieved_party
							has_country_flag = enemy_of_pope
						}
					}
				}
			}
			if = {
				limit = { NOT = { tag = PAP } }
				add_papal_influence = -10
			}
		}
		if = {
			limit = {
				NOT = {
					OR = {
						FROM = { has_country_flag = ally_of_pope }
						FROM = {
							any_neighbor_country = {
								has_country_flag = aggrieved_party
								has_country_flag = enemy_of_pope
							}
						}
					}
				}
				OR = {
					FROM = { has_country_flag = friend_of_pope }
					FROM = {
						any_neighbor_country = {
							has_country_flag = aggrieved_party
							has_country_flag = rival_of_pope
						}
					}
				}
			}
			if = {
				limit = { NOT = { tag = PAP } }
				add_papal_influence = -5
			}
		}
		FROM = {
			hidden_effect = { set_variable = { which = arbitration_bribe value = 0 } }
			random_neighbor_country = {
				limit = { has_country_flag = aggrieved_party }
				add_opinion = { who = ROOT modifier = papacy_great }
			}
			country_event = { id = dg_catholic.028 days = 60 }
			add_opinion = { who = ROOT modifier = papacy_bad }
		}
	}
}

country_event = { #The Heretic Threat
	
	id = dg_pope.015
	title = dg_pope.015.t
	desc = dg_pope.015.d
	picture = catholic_burning_church
	
	trigger = {
		is_papal_controller = yes
		NOT = { is_religion_enabled = protestant }
		PAP = { check_variable = { which = papal_authority value = 200 } }
		has_global_flag = living_pope
		any_known_country = {
			OR = {
				has_country_flag = was_catholic
				has_country_flag = internal_crusade
			}
			OR = {
				religion = hussite
				religion = gnostic
				religion = protestant
				religion = reformed
				AND = {
					has_country_flag = internal_crusade
					religion = catholic
				}
			}
			NOT = { check_variable = { which = crusades_fought value = 3 } }
		}
		NOT = { PAP = { has_country_flag = crusade_called } } #Only one crusade at a time
		NOT = { PAP = { has_country_flag = crusade_demand } } #Only one crusade at a time
	}
	
	mean_time_to_happen = { months = 25 }
	
	immediate = {
		hidden_effect = {
			random_known_country = {
				limit = {
					OR = {
						has_country_flag = was_catholic
						has_country_flag = internal_crusade
					}
					OR = {
						religion = hussite
						religion = gnostic
						religion = protestant
						religion = reformed
						AND = {
							has_country_flag = internal_crusade
							religion = catholic
						}
					}
					NOT = { check_variable = { which = crusades_fought value = 3 } }
				}
				set_country_flag = heretic_crusade_target
			}
		}
	}
	
	option = {
		name = dg_pope.015.a #Call a crusade
		ai_chance = { factor = 80 }
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		hidden_effect = {
			PAP = {
				clr_country_flag = crusade_demand
				set_country_flag = crusade_called
				set_country_flag = crusader
			}
			set_country_flag = crusader
		}
		random_known_country = {
			limit = {
				has_country_flag = heretic_crusade_target
				religion = catholic
			}
			hidden_effect = {
				clr_country_flag = heretic_crusade_target
				set_country_flag = crusade_sponsor
			}
			add_opinion = { who = ROOT modifier = papacy_great }
			add_opinion = { who = PAP modifier = papacy_great }
			change_variable = { which = crusades_fought value = 1 }
		}
		random_known_country = {
			limit = {
				has_country_flag = heretic_crusade_target
				NOT = { religion = catholic }
			}
			hidden_effect = {
				clr_country_flag = heretic_crusade_target
				set_country_flag = crusade_target
				change_variable = { which = crusades_fought value = 1 }
				PAP = { set_country_flag = crusade_leader_sought }
			}
			add_casus_belli = { type = cb_insult target = ROOT months = 12 }
		}
	}
	option = {
		name = dg_pope.015.b #Seek a diplomatic solution
		ai_chance = { factor = 20 }
		add_prestige = -5
		random_known_country = {
			limit = {
				has_country_flag = heretic_crusade_target
				religion = catholic
			}
			hidden_effect = {
				clr_country_flag = heretic_crusade_target
				change_variable = { which = crusades_fought value = 1 }
			}
			add_opinion = { who = ROOT modifier = papacy_bad }
			add_opinion = { who = PAP modifier = papacy_bad }
		}
		hidden_effect = {
			random_known_country = {
				limit = {
					has_country_flag = heretic_crusade_target
					NOT = { religion = catholic }
				}
				change_variable = { which = crusades_fought value = 0.5 }
				clr_country_flag = heretic_crusade_target
			}
		}
	}
}

country_event = { #Appointing new cardinals (pious)
	
	id = dg_pope.016
	title = dg_pope.016.t
	desc = dg_pope.016.d
	picture = catholic_order_founded
	
	is_triggered_only = yes #Upon election of a new pope
	
	option = {
		name = dg_pope.016.a #Encourage him to appoint only worthy men
		trigger = {
			OR = {
				NOT = { PAP = { has_country_flag = corrupt_pope } }
				NOT = {
					any_owned_province = {
						OR = {
							has_province_modifier = catholic_archbishopric
							has_province_modifier = catholic_patriarchate
						}
						religion = catholic
						has_cardinal = no
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				num_of_cardinals = 12
				factor = 1.4
			}
			modifier = {
				num_of_cardinals = 15
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cardinals = 3 }
				factor = 0
			}
			modifier = {
				NOT = { num_of_cardinals = 6 }
				factor = 0.5
			}
		}
		#135 Catholic countries in M&T 1356 start, 89 in vanilla 1444 start.
		add_reform_desire = -0.001
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_negative_cardinals value = -0.1 } }
			}
		}
		country_event = { id = dg_pope.026 days = 30 }
	}
	option = {
		name = dg_pope.016.b #Suggest a few names to him
		trigger = {
			any_owned_province = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				religion = catholic
				has_cardinal = no
			}
		}
		ai_chance = { factor = 40 }
		if = {
			limit = { tag = PAP num_of_cardinals = 20 had_global_flag = { flag = dei_gratia days = 180 } }
			add_devotion = -3
		}
		if = {
			limit = { NOT = { tag = PAP } }
			add_papal_influence = -5
		}
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				religion = catholic
				has_cardinal = no
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		country_event = { id = dg_pope.026 days = 30 }
	}
}

country_event = { #Appointing new cardinals (secular)
	
	id = dg_pope.017
	title = dg_pope.016.t
	desc = dg_pope.017.d
	picture = catholic_order_founded
	
	is_triggered_only = yes #Upon election of a new pope
	
	immediate = {
		hidden_effect = { #Chooses potential cardinals
			random_owned_province = {
				limit = {
					OR = {
						has_province_modifier = catholic_archbishopric
						has_province_modifier = catholic_patriarchate
					}
					religion = catholic
					has_cardinal = no
					NOT = { has_province_flag = cardinal_1_year }
					NOT = { has_province_flag = cardinal_5_years }
					NOT = { has_province_flag = cardinal_10_years }
					NOT = { has_province_flag = cardinal_20_years }
					NOT = { has_province_flag = cardinal_40_years }
				}
				set_province_flag = potential_cardinal
			}
		}
	}
	
	option = {
		name = dg_pope.016.a #Encourage him to appoint only worthy men
		ai_chance = {
			factor = 30
			modifier = {
				num_of_cardinals = 10
				factor = 1.4
			}
			modifier = {
				num_of_cardinals = 8
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cardinals = 2 }
				factor = 0.5
			}
			modifier = {
				NOT = { num_of_cardinals = 4 }
				factor = 0.5
			}
		}
		add_reform_desire = -0.001
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_negative_cardinals value = -0.1 } }
			}
			every_owned_province = { clr_province_flag = potential_cardinal }
		}
		country_event = { id = dg_pope.026 days = 30 }
	}
	option = {
		name = dg_pope.016.b #Suggest a few names to him
		ai_chance = { factor = 40 }
		if = {
			limit = { tag = PAP num_of_cardinals = 20 had_global_flag = { flag = dei_gratia days = 180 } }
			add_devotion = -3
		}
		if = {
			limit = { NOT = { tag = PAP } }
			add_papal_influence = -5
		}
		random_owned_province = {
			limit = { has_province_flag = potential_cardinal }
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		hidden_effect = { every_owned_province = { clr_province_flag = potential_cardinal } }
		country_event = { id = dg_pope.026 days = 30 }
	}
	option = {
		name = dg_pope.016.c #Demand that he increase the number of $PRIMARY_CULTURE$ cardinals
		trigger = {
			NOT = { PAP = { has_country_flag = reformer_pope } }
			num_of_owned_provinces_with = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				religion = catholic
				has_cardinal = no
				value = 3
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				num_of_cardinals = 10
				factor = 0
			}
			modifier = {
				num_of_cardinals = 8
				factor = 0.5
			}
			modifier = {
				NOT = { num_of_cardinals = 2 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cardinals = 4 }
				factor = 1.4
			}
		}
		add_reform_desire = 0.001
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_cardinals value = 0.1 } }
			}
		}
		if = {
			limit = { tag = PAP num_of_cardinals = 15 had_global_flag = { flag = dei_gratia days = 120 } }
			add_devotion = -10
		}
		if = {
			limit = { NOT = { tag = PAP } }
			add_papal_influence = -25
		}
		random_owned_province = {
			limit = { has_province_flag = potential_cardinal }
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				NOT = { has_province_flag = potential_cardinal }
				religion = catholic
				has_cardinal = no
				NOT = { has_province_flag = new_cardinals_small }
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		hidden_effect = { every_owned_province = { clr_province_flag = potential_cardinal } }
		country_event = { id = dg_pope.026 days = 30 }
	}
}

country_event = { #Appointing new cardinals (corrupt)
	
	id = dg_pope.018
	title = dg_pope.016.t
	desc = dg_pope.018.d
	picture = catholic_order_founded
	
	is_triggered_only = yes #Upon election of a new pope
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { PAP = { NOT = { has_country_flag = nepotism_abolished } } }
				random = { chance = 20 PAP = { country_event = { id = dg_pope.020 days = 30 } } }
			}
		}
		add_reform_desire = 0.001
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_cardinals value = 0.1 } }
			}
		}
	}
	
	option = {
		name = dg_pope.016.b #Suggest a few names to him
		ai_chance = { factor = 40 }
		if = {
			limit = { tag = PAP num_of_cardinals = 20 had_global_flag = { flag = dei_gratia days = 180 } }
			add_devotion = -3
		}
		if = {
			limit = { NOT = { tag = PAP } }
			add_papal_influence = -5
		}
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				religion = catholic
				has_cardinal = no
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		country_event = { id = dg_pope.026 days = 30 }
	}
	option = {
		name = dg_pope.016.c #Demand that he increase the number of $PRIMARY_CULTURE$ cardinals
		trigger = {
			NOT = { PAP = { has_country_flag = reformer_pope } }
			num_of_owned_provinces_with = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				religion = catholic
				has_cardinal = no
				value = 3
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				num_of_cardinals = 10
				factor = 0
			}
			modifier = {
				num_of_cardinals = 8
				factor = 0.5
			}
			modifier = {
				NOT = { num_of_cardinals = 2 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cardinals = 4 }
				factor = 1.4
			}
		}
		add_reform_desire = 0.001
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_cardinals value = 0.1 } }
			}
		}
		if = {
			limit = { tag = PAP num_of_cardinals = 15 had_global_flag = { flag = dei_gratia days = 120 } }
			add_devotion = -10
		}
		if = {
			limit = { NOT = { tag = PAP } }
			add_papal_influence = -25
		}
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				religion = catholic
				has_cardinal = no
				NOT = { has_province_flag = new_cardinals_small }
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = catholic_archbishopric
					has_province_modifier = catholic_patriarchate
				}
				religion = catholic
				has_cardinal = no
				NOT = { has_province_flag = new_cardinals_small }
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		country_event = { id = dg_pope.026 days = 30 }
	}
}

country_event = { #Hidden Conclave maintenance event
	
	id = dg_pope.019
	title = ai_only.t
	desc = ai_only.d
	picture = ai_only
	
	hidden = yes
	
	trigger = {
		is_papal_controller = yes
		NOT = { has_country_modifier = conclave_timer }
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		add_country_modifier = { name = conclave_timer duration = 90 hidden = yes }
	}
	
	option = {
		name = ai_only.a
		if = { #There is a papal conclave
			limit = {
				NOT = { has_global_flag = living_pope }
				OR = {
					NOT = { PAP = { has_country_flag = vetoed_candidate } }
					PAP = { had_country_flag = { flag = vetoed_candidate days = 60 } }
				}
				OR = {
					NOT = { PAP = { has_country_flag = deadlocked_conclave } }
					PAP = { had_country_flag = { flag = deadlocked_conclave days = 60 } }
				}
				OR = {
					NOT = { PAP = { has_country_flag = summer_heat } }
					PAP = { had_country_flag = { flag = summer_heat days = 60 } }
				}
			}
			if = {
				limit = {
					PAP = { has_country_flag = deadlocked_conclave }
					PAP = { has_country_flag = vetoed_candidate }
				}
				random = {
					chance = 15
					PAP = { define_ruler = {  } }
					hidden_effect = { assign_pope_culture = yes }
					if = {
						limit = { NOT = { exists = PAP } }
						random_list = {
							20 = { PAP = { set_variable = { which = papal_election_result value = -2 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = -1 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 0 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 1 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 2 } } }
						}
						if = {
							limit = { PAP = { has_country_flag = conclave_reform } }
							change_variable = { which = papal_election_result value = -1 }
						}
						if = {
							limit = { PAP = { has_country_flag = last_pope_reformer } }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { PAP = { has_country_flag = last_pope_corrupt } }
							change_variable = { which = papal_election_result value = -1 }
						}
						if = {
							limit = { PAP = { vassal_of = ROOT } }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { has_country_flag = constantine_donation_cf }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { piety = 0.60 }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { piety = 0.20 }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { NOT = { piety = -0.20 } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { NOT = { piety = -0.60 } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { NOT = { is_religion_enabled = protestant } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { is_religion_enabled = reformed }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { check_variable = { which = papal_election_result value = 0 } }
							country_event = { id = dg_pope.004 }
						}
						if = {
							limit = { NOT = { check_variable = { which = papal_election_result value = 0 } } }
							country_event = { id = dg_pope.005 }
						}
						set_variable = { which = papal_election_result value = 0 }
					}
				}
			}
			if = {
				limit = {
					OR = {
						PAP = { has_country_flag = deadlocked_conclave }
						PAP = { has_country_flag = vetoed_candidate }
					}
					NOT = {
						AND = {
							PAP = { has_country_flag = deadlocked_conclave }
							PAP = { has_country_flag = vetoed_candidate }
						}
					}
				}
				random = {
					chance = 30
					PAP = { define_ruler = {  } }
					hidden_effect = { assign_pope_culture = yes }
					if = {
						limit = { NOT = { exists = PAP } }
						random_list = {
							20 = { PAP = { set_variable = { which = papal_election_result value = -2 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = -1 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 0 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 1 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 2 } } }
						}
						if = {
							limit = { PAP = { has_country_flag = conclave_reform } }
							change_variable = { which = papal_election_result value = -1 }
						}
						if = {
							limit = { PAP = { has_country_flag = last_pope_reformer } }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { PAP = { has_country_flag = last_pope_corrupt } }
							change_variable = { which = papal_election_result value = -1 }
						}
						if = {
							limit = { PAP = { vassal_of = ROOT } }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { has_country_flag = constantine_donation_cf }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { piety = 0.60 }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { piety = 0.20 }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { NOT = { piety = -0.20 } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { NOT = { piety = -0.60 } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { NOT = { is_religion_enabled = protestant } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { is_religion_enabled = reformed }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { check_variable = { which = papal_election_result value = 0 } }
							country_event = { id = dg_pope.004 }
						}
						if = {
							limit = { NOT = { check_variable = { which = papal_election_result value = 0 } } }
							country_event = { id = dg_pope.005 }
						}
						set_variable = { which = papal_election_result value = 0 }
					}
				}
			}
			if = {
				limit = {
					NOT = { PAP = { has_country_flag = deadlocked_conclave } }
					NOT = { PAP = { has_country_flag = vetoed_candidate } }
				}
				random = {
					chance = 45
					PAP = { define_ruler = {  } }
					hidden_effect = { assign_pope_culture = yes }
					if = {
						limit = { NOT = { exists = PAP } }
						random_list = {
							20 = { PAP = { set_variable = { which = papal_election_result value = -2 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = -1 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 0 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 1 } } }
							20 = { PAP = { set_variable = { which = papal_election_result value = 2 } } }
						}
						if = {
							limit = { PAP = { has_country_flag = conclave_reform } }
							change_variable = { which = papal_election_result value = -1 }
						}
						if = {
							limit = { PAP = { has_country_flag = last_pope_reformer } }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { PAP = { has_country_flag = last_pope_corrupt } }
							change_variable = { which = papal_election_result value = -1 }
						}
						if = {
							limit = { PAP = { vassal_of = ROOT } }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { has_country_flag = constantine_donation_cf }
							change_variable = { which = papal_election_result value = 1 }
						}
						if = {
							limit = { piety = 0.60 }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { piety = 0.20 }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { NOT = { piety = -0.20 } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { NOT = { piety = -0.60 } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { NOT = { is_religion_enabled = protestant } }
							change_variable = { which = papal_election_result value = 0.5 }
						}
						if = {
							limit = { is_religion_enabled = reformed }
							change_variable = { which = papal_election_result value = -0.5 }
						}
						if = {
							limit = { check_variable = { which = papal_election_result value = 0 } }
							country_event = { id = dg_pope.004 }
						}
						if = {
							limit = { NOT = { check_variable = { which = papal_election_result value = 0 } } }
							country_event = { id = dg_pope.005 }
						}
						set_variable = { which = papal_election_result value = 0 }
					}
				}
			}
		}
		#if = {
		#	limit = { PAP = { has_country_flag = newly_elected_pope } }
			PAP = { clr_country_flag = newly_elected_pope }
		#}
	}
}

country_event = { #A cardinal sin
	
	id = dg_pope.020
	title = dg_pope.020.t
	desc = dg_pope.020.d
	picture = catholic_papal_nepotism
	
	is_triggered_only = yes
	
	option = {
		name = dg_pope.020.a #Who can condemn the pope?
		random_province = {
			limit = {
				owned_by = PAP
				has_cardinal = no
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			hidden_effect = {
				random_list = {
					30 = { set_province_flag = cardinal_10_years }
					35 = { set_province_flag = cardinal_20_years }
					35 = { set_province_flag = cardinal_40_years }
				}
				owner = { clr_country_flag = cardinal_policy }
			}
			add_cardinal = yes
		}
		if = {
			limit = { has_country_modifier = religious_scandal_country }
			add_country_modifier = { name = religious_scandal_country_weak duration = 2000 }
		}
		if = {
			limit = {
				has_country_modifier = religious_scandal_country_strong
				NOT = { has_country_modifier = religious_scandal_country }
			}
			add_country_modifier = { name = religious_scandal_country duration = 1000 }
		}
		if = {
			limit = {
				NOT = { has_country_modifier = religious_scandal_country_strong }
				NOT = { has_country_modifier = religious_scandal_country }
			}
			add_country_modifier = { name = religious_scandal_country_strong duration = 500 }
		}
	}
}

country_event = { #A case comes before the papal court (annulment)
	
	id = dg_pope.021
	title = dg_pope.011.t
	desc = dg_pope.021.d
	picture = catholic_scandal
	
	is_triggered_only = yes #By request_annulment decision
	
	immediate = {
		if = {
			limit = {
				any_known_country = {
					marriage_with = FROM
					NOT = { senior_union_with = FROM }
					NOT = { junior_union_with = FROM }
					religion = catholic
					NOT = { has_country_flag = annulment_process }
				}
			}
			custom_tooltip = dg_pope.021.international
		}
		if = {
			limit = {
				NOT = {
					any_known_country = {
						marriage_with = FROM
						NOT = { senior_union_with = FROM }
						NOT = { junior_union_with = FROM }
						religion = catholic
						NOT = { has_country_flag = annulment_process }
					}
				}
			}
			custom_tooltip = dg_pope.021.domestic
		}
		hidden_effect = {
			random_list = {
				20 = { set_variable = { which = annulment_decision value = 0 } }
				20 = { set_variable = { which = annulment_decision value = 1 } }
				20 = { set_variable = { which = annulment_decision value = 2 } }
				20 = { set_variable = { which = annulment_decision value = 3 } }
				20 = { set_variable = { which = annulment_decision value = 4 } }
			}
			if = {
				limit = { FROM = { has_country_flag = contested_annulment } }
				change_variable = { which = annulment_decision value = 1 }
			}
			if = {
				limit = { PAP = { is_subject_of = FROM } }
				change_variable = { which = annulment_decision value = -2 }
			}
			if = {
				limit = { PAP = { truce_with = FROM } }
				change_variable = { which = annulment_decision value = 1 }
			}
			if = {
				limit = { FROM = { has_country_flag = excommunicated } }
				change_variable = { which = annulment_decision value = 2 }
			}
			if = {
				limit = { PAP = { war_with = FROM } }
				change_variable = { which = annulment_decision value = 2 }
			}
			if = {
				limit = { PAP = { alliance_with = FROM } }
				change_variable = { which = annulment_decision value = -1 }
			}
			if = {
				limit = { PAP = { is_rival = FROM } }
				change_variable = { which = annulment_decision value = 1 }
			}
			if = {
				limit = { FROM = { is_papal_controller = yes } }
				change_variable = { which = annulment_decision value = -1 }
			}
			if = {
				limit = { FROM = { num_of_cardinals = 1 } }
				change_variable = { which = annulment_decision value = -1 }
			}
			if = {
				limit = { FROM = { num_of_cardinals = 5 } }
				change_variable = { which = annulment_decision value = -1 }
			}
			if = {
				limit = { FROM = { num_of_cardinals = 9 } }
				change_variable = { which = annulment_decision value = -1 }
			}
			if = {
				limit = { FROM = { has_country_flag = ally_of_pope } }
				change_variable = { which = annulment_decision value = -1 }
			}
			if = {
				limit = { FROM = { has_country_flag = rival_of_pope } }
				change_variable = { which = annulment_decision value = 1 }
			}
			if = {
				limit = { FROM = { has_country_flag = enemy_of_pope } }
				change_variable = { which = annulment_decision value = 2 }
			}
			if = {
				limit = { PAP = { NOT = { check_variable = { which = papal_authority value = 350 } } } }
				change_variable = { which = annulment_decision value = -1 }
			}
			if = {
				limit = { PAP = { NOT = { check_variable = { which = papal_authority value = 250 } } } }
				change_variable = { which = annulment_decision value = -1 }
			}
		}
	}
	
	option = {
		name = dg_pope.021.a #Pressure him to grant the annulment
		trigger = {
			FROM = { has_country_flag = contested_annulment }
			NOT = { reverse_has_opinion_modifier = { who = FROM modifier = marriage_broken } }
			OR = {
				FROM = {
					OR = {
						marriage_with = ROOT
						alliance_with = ROOT
						is_subject_of = ROOT
						overlord_of = ROOT
						dynasty = ROOT
					}
				}
				any_known_country = {
					reverse_has_opinion_modifier = { who = FROM modifier = marriage_broken }
					OR = {
						is_rival = ROOT
						is_enemy = ROOT
						is_threat = ROOT
						trade_embargo_by = ROOT
						truce_with = ROOT
						war_with = ROOT
					}
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { num_of_cardinals = 6 }
				factor = 0.7
			}
			modifier = {
				NOT = { num_of_cardinals = 3 }
				factor = 0.7
			}
			modifier = {
				alliance_with = FROM
				factor = 1.4
			}
			modifier = {
				is_subject_of = FROM
				factor = 1.4
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 2
			}
			modifier = {
				FROM = { dynasty = ROOT }
				factor = 2
			}
			modifier = {
				FROM = { marriage_with = ROOT }
				factor = 0.7
			}
			modifier = {
				any_rival_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_enemy_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					is_threat = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					truce_with = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					war_with = ROOT
				}
				factor = 2
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					trade_embargo_by = ROOT
				}
				factor = 1.4
			}
			modifier = {
				NOT = { check_variable = { which = annulment_decision value = 1 } }
				factor = 0.2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		if = {
			limit = { check_variable = { which = annulment_decision value = 7 } }
			random_list = {
				50 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				50 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				check_variable = { which = annulment_decision value = 5 }
				NOT = { check_variable = { which = annulment_decision value = 7 } }
			}
			random_list = {
				30 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				70 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 5 } }
				check_variable = { which = annulment_decision value = 3 }
			}
			random_list = {
				10 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				90 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = { NOT = { check_variable = { which = annulment_decision value = 3 } } }
			FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted }
		}
		hidden_effect = { FROM = { set_variable = { which = annulment_decision value = 0 } } }
	}
	option = {
		name = dg_pope.021.b #Encourage him to grant the annulment
		trigger = { NOT = { has_opinion_modifier = { who = FROM modifier = marriage_broken } } }
		ai_chance = {
			factor = 10
			modifier = {
				NOT = { num_of_cardinals = 3 }
				factor = 0.7
			}
			modifier = {
				alliance_with = FROM
				factor = 1.4
			}
			modifier = {
				is_subject_of = FROM
				factor = 1.4
			}
			modifier = {
				FROM = { overlord_of = ROOT }
				factor = 2
			}
			modifier = {
				FROM = { dynasty = ROOT }
				factor = 2
			}
			modifier = {
				FROM = { marriage_with = ROOT }
				factor = 0.7
			}
			modifier = {
				any_rival_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_enemy_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					is_threat = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					truce_with = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					war_with = ROOT
				}
				factor = 2
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					trade_embargo_by = ROOT
				}
				factor = 1.4
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		if = {
			limit = { check_variable = { which = annulment_decision value = 7 } }
			random_list = {
				70 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				30 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				check_variable = { which = annulment_decision value = 5 }
				NOT = { check_variable = { which = annulment_decision value = 7 } }
			}
			random_list = {
				50 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				50 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 5 } }
				check_variable = { which = annulment_decision value = 3 }
			}
			random_list = {
				30 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				70 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 3 } }
				check_variable = { which = annulment_decision value = 1 }
			}
			random_list = {
				10 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				90 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = { NOT = { check_variable = { which = annulment_decision value = 1 } } }
			FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted }
		}
		hidden_effect = { FROM = { set_variable = { which = annulment_decision value = 0 } } }
	}
	option = {
		name = dg_pope.021.c #Stay out of it
		ai_chance = {
			factor = 40
			modifier = {
				FROM = { tag = ROOT }
				factor = 0
			}
		}
		if = {
			limit = { check_variable = { which = annulment_decision value = 7 } }
			random_list = {
				90 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				10 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				check_variable = { which = annulment_decision value = 5 }
				NOT = { check_variable = { which = annulment_decision value = 7 } }
			}
			random_list = {
				70 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				30 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 5 } }
				check_variable = { which = annulment_decision value = 3 }
			}
			random_list = {
				50 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				50 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 3 } }
				check_variable = { which = annulment_decision value = 1 }
			}
			random_list = {
				30 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				70 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 1 } }
				check_variable = { which = annulment_decision value = -1 }
			}
			random_list = {
				10 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				90 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = { NOT = { check_variable = { which = annulment_decision value = -1 } } }
			FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted }
		}
		hidden_effect = { FROM = { set_variable = { which = annulment_decision value = 0 } } }
	}
	option = {
		name = dg_pope.021.e #Encourage him to declare the marriage valid
		ai_chance = {
			factor = 10
			modifier = {
				FROM = { tag = ROOT }
				factor = 0
			}
			modifier = {
				NOT = { num_of_cardinals = 3 }
				factor = 0.7
			}
			modifier = {
				trade_embargo_by = ROOT
				factor = 1.4
			}
			modifier = {
				truce_with = FROM
				factor = 1.4
			}
			modifier = {
				is_threat = FROM
				factor = 1.4
			}
			modifier = {
				is_rival = FROM
				factor = 1.4
			}
			modifier = {
				is_enemy = FROM
				factor = 1.4
			}
			modifier = {
				war_with = FROM
				factor = 2
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					marriage_with = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_subject_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_ally = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					dynasty = ROOT
				}
				factor = 2
			}
			modifier = {
				overlord = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		if = {
			limit = { check_variable = { which = annulment_decision value = 7 } }
			FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused }
		}
		if = {
			limit = {
				check_variable = { which = annulment_decision value = 5 }
				NOT = { check_variable = { which = annulment_decision value = 7 } }
			}
			random_list = {
				90 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				10 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 5 } }
				check_variable = { which = annulment_decision value = 3 }
			}
			random_list = {
				70 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				30 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 3 } }
				check_variable = { which = annulment_decision value = 1 }
			}
			random_list = {
				50 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				50 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 1 } }
				check_variable = { which = annulment_decision value = -1 }
			}
			random_list = {
				30 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				70 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = { NOT = { check_variable = { which = annulment_decision value = -1 } } }
			random_list = {
				10 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				90 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		hidden_effect = { FROM = { set_variable = { which = annulment_decision value = 0 } } }
	}
	option = {
		name = dg_pope.021.f #Pressure him to declare the marriage valid
		trigger = {
			FROM = { has_country_flag = contested_annulment }
			OR = {
				FROM = {
					OR = {
						is_rival = ROOT
						is_enemy = ROOT
						is_threat = ROOT
						trade_embargo_by = ROOT
						truce_with = ROOT
						war_with = ROOT
					}
				}
				any_known_country = {
					reverse_has_opinion_modifier = { who = FROM modifier = marriage_broken }
					OR = {
						marriage_with = ROOT
						alliance_with = ROOT
						is_subject_of = ROOT
						overlord_of = ROOT
						dynasty = ROOT
					}
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				FROM = { tag = ROOT }
				factor = 0
			}
			modifier = {
				NOT = { num_of_cardinals = 6 }
				factor = 0.7
			}
			modifier = {
				NOT = { num_of_cardinals = 3 }
				factor = 0.7
			}
			modifier = {
				trade_embargo_by = ROOT
				factor = 1.4
			}
			modifier = {
				truce_with = FROM
				factor = 1.4
			}
			modifier = {
				is_threat = FROM
				factor = 1.4
			}
			modifier = {
				is_rival = FROM
				factor = 1.4
			}
			modifier = {
				is_enemy = FROM
				factor = 1.4
			}
			modifier = {
				war_with = FROM
				factor = 2
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					marriage_with = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_subject_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_ally = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
					dynasty = ROOT
				}
				factor = 2
			}
			modifier = {
				overlord = {
					has_opinion_modifier = { who = FROM modifier = marriage_broken }
				}
				factor = 2
			}
			modifier = {
				check_variable = { which = annulment_decision value = 5 }
				factor = 0.2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		if = {
			limit = { check_variable = { which = annulment_decision value = 5 } }
			FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused }
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 5 } }
				check_variable = { which = annulment_decision value = 3 }
			}
			random_list = {
				90 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				10 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 3 } }
				check_variable = { which = annulment_decision value = 1 }
			}
			random_list = {
				70 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				30 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = {
				NOT = { check_variable = { which = annulment_decision value = 1 } }
				check_variable = { which = annulment_decision value = -1 }
			}
			random_list = {
				50 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				50 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		if = {
			limit = { NOT = { check_variable = { which = annulment_decision value = -1 } } }
			random_list = {
				30 = { FROM = { custom_tooltip = annulment_refused set_country_flag = annulment_refused } }
				70 = { FROM = { custom_tooltip = annulment_granted set_country_flag = annulment_granted } }
			}
		}
		hidden_effect = { FROM = { set_variable = { which = annulment_decision value = 0 } } }
	}
}

country_event = { #22 - The Victory of Conciliarism
	
	id = dg_pope.022
	title = dg_pope.022.t
	desc = dg_pope.022.d
	picture = catholic_church_council
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_conciliarism value = 1 } }
		NOT = { PAP = { has_country_flag = papal_conciliarism } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { set_country_flag = papal_conciliarism }
			PAP = { change_variable = { which = council_topic_conciliarism value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.041.a #Agree to hold regular church councils
		trigger = { PAP = { NOT = { has_country_flag = regular_councils_promised } } }
		ai_chance = { factor = 50 }
		add_prestige = -5
		PAP = { add_prestige = -5 }
		if = {
			limit = { PAP = { NOT = { has_country_flag = regular_councils_supposedly_promised } } }
			every_country = {
				limit = {
					religion = catholic
					has_country_flag = conciliarism_supported
					NOT = { tag = ROOT }
				}
				country_event = { id = dg_catholic.009 days = 30 }
			}
		}
		hidden_effect = {
			PAP = { set_country_flag = regular_councils_promised }
			PAP = { clr_country_flag = regular_councils_supposedly_promised }
		}
	}
	option = {
		name = dg_pope.041.b #Maintain the supremacy of the pope
		ai_chance = { factor = 50 }
		add_prestige = -5
	}
}

country_event = { #23 - Defeat of Conciliarism
	
	id = dg_pope.023
	title = dg_pope.023.t
	desc = dg_pope.023.d
	picture = catholic_return_to_rome
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_conciliarism value = 1 } }
		PAP = { has_country_flag = papal_conciliarism }
		PAP = { has_country_flag = church_council }
		NOT = { PAP = { has_country_modifier = council_session } }
		NOT = { PAP = { has_country_flag = papal_absolutism } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 1.4
		}
	}
	
	immediate = {
		add_prestige = 5
		PAP = { add_prestige = 5 }
		hidden_effect = {
			PAP = { set_country_flag = papal_absolutism }
			PAP = { change_variable = { which = council_topic_conciliarism value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
			every_country = {
				limit = {
					religion = catholic
					has_country_flag = conciliarism_supported
					NOT = { tag = ROOT }
				}
				country_event = { id = dg_catholic.010 days = 60 }
			}
		}
	}
	
	option = {
		name = dg_pope.023.a #Get rid of councils altogether
		ai_chance = { factor = 50 }
		hidden_effect = {
			PAP = { clr_country_flag = regular_councils_promised }
			PAP = { clr_country_flag = regular_councils_supposedly_promised }
		}
	}
	option = {
		name = dg_pope.023.b #Be gracious in victory
		ai_chance = { factor = 50 }
	}
}

country_event = { #24 - Church Settlement
	
	id = dg_pope.024
	title = dg_pope.024.t
	desc = dg_pope.024.d
	picture = catholic_concordat_with_rome
	
	trigger = {
		has_country_flag = conciliarism_supported
		PAP = { NOT = { has_country_flag = papal_absolutism } }
		religion = catholic
		NOT = { has_country_flag = papal_concordat }
		has_global_flag = living_pope
		NOT = { has_country_flag = excommunicated }
		NOT = { has_country_flag = church_settlement }
		NOT = { has_country_flag = conciliarism_reaffirmed }
		PAP = { has_country_flag = papal_conciliarism }
	}
	
	mean_time_to_happen = {
		
		years = 8
		
		modifier = {
			num_of_cities = 10
			factor = 0.7
		}
		modifier = {
			num_of_cities = 20
			factor = 0.7
		}
		modifier = {
			has_country_flag = ally_of_pope
			factor = 0.5
		}
		modifier = {
			has_country_flag = friend_of_pope
			factor = 0.7
		}
		modifier = {
			has_country_flag = rival_of_pope
			factor = 1.4
		}
		modifier = {
			has_country_flag = enemy_of_pope
			factor = 2
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 2
		}
	}
	
	immediate = { hidden_effect = { set_country_flag = papal_concordat } }
	
	option = {
		name = dg_pope.024.a #Abandon our support for conciliarism
		ai_chance = { factor = 50 }
		custom_tooltip = church_settlement_explained
		hidden_effect = {
			set_country_flag = church_settlement
			clr_country_flag = conciliarism_supported
			set_country_flag = conciliarism_suppressed
			clr_country_flag = dispensation_denied
			set_country_flag = dispensation_granted
		}
		if = {
			limit = {
				num_of_cities = 8
				OR = {
					is_emperor = yes
					AND = {
						capital_scope = {
							OR = {
								region = lower_saxon_circle_region
								region = upper_saxon_circle_region
								region = westphalian_circle_region
								region = upper_rhenish_circle_region
								swabian_circle_region_trigger = yes
								bavarian_circle_region_trigger = yes
								franconian_circle_region_trigger = yes
							}
						}
						NOT = { hre_size = 1 }
						NOT = {
							any_known_country = {
								capital_scope = {
									OR = {
										region = lower_saxon_circle_region
										region = upper_saxon_circle_region
										region = westphalian_circle_region
										region = upper_rhenish_circle_region
										swabian_circle_region_trigger = yes
										bavarian_circle_region_trigger = yes
										franconian_circle_region_trigger = yes
									}
								}
								NOT = { tag = ROOT }
								religion = catholic
								num_of_cities = ROOT
							}
						}
					}
					AND = {
						capital_scope = {
							OR = {
								region = aragon_region
								region = castille_region
								region = leon_region
								region = andalucia_region
								region = portugal_region
								area = macaronesia_area
							}
						}
						NOT = {
							any_known_country = {
								capital_scope = {
									OR = {
										region = aragon_region
										region = castille_region
										region = leon_region
										region = andalucia_region
										region = portugal_region
										area = macaronesia_area
									}
								}
								NOT = { tag = ROOT }
								religion = catholic
								num_of_cities = ROOT
							}
						}
					}
					AND = {
						capital_scope = { north_italy_region_trigger = yes }
						NOT = {
							any_known_country = {
								capital_scope = { north_italy_region_trigger = yes }
								NOT = { tag = ROOT }
								religion = catholic
								num_of_cities = ROOT
							}
						}
					}
					AND = {
						capital_scope = { superregion = british_isles_superregion }
						NOT = {
							any_known_country = {
								capital_scope = { superregion = british_isles_superregion }
								NOT = { tag = ROOT }
								religion = catholic
								num_of_cities = ROOT
							}
						}
					}
					AND = {
						capital_scope = {
							OR = {
								region = ouest_france_region
								region = east_france_region
								region = provence_region
								region = languedoc_region
								region = aquitaine_region
								region = high_countries_region
							}
						}
						NOT = {
							any_known_country = {
								capital_scope = {
									OR = {
										region = ouest_france_region
										region = east_france_region
										region = provence_region
										region = languedoc_region
										region = aquitaine_region
										region = high_countries_region
									}
								}
								NOT = { tag = ROOT }
								religion = catholic
								num_of_cities = ROOT
							}
						}
					}
				}
			}
			custom_tooltip = right_of_exclusion_explained
			hidden_effect = {
				if = {
					limit = { is_emperor = yes }
					HAB = { set_country_flag = right_of_exclusion }
				}
				if = {
					limit = { is_emperor = no }
					set_country_flag = right_of_exclusion
				}
			}
		}
	}
	option = {
		name = dg_pope.024.b #Refuse to compromise
		ai_chance = {
			factor = 50
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.5
			}
		}
		hidden_effect = { set_country_flag = conciliarism_reaffirmed }
		if = {
			limit = { piety = 0.60 }
			add_prestige = 2
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = 1.5
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = 1
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = 0.5
		}
	}
}

country_event = { #25 - The $PRIMARY_CULTURE$ Cardinal (non-Catholic)
	
	id = dg_pope.025
	title = dg_pope.025.t
	desc = dg_pope.025.d
	picture = christian_bishop_arrest_saffron
	
	is_triggered_only = yes
	
	option = {
		name = dg_pope.025.a #Execute him
		ai_chance = { factor = 70 }
		every_known_country = {
			limit = {
				OR = {
					is_papal_controller = yes
					papal_trigger = yes
				}
				religion = catholic
			}
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = mistreated_coreligionists_observant }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = mistreated_coreligionists_decadent }
			}
		}
		random_owned_province = {
			limit = {
				religion = catholic
				has_owner_culture = yes
			}
			add_province_modifier = { name = religious_scandal_province duration = 400 }
			hidden_effect = { change_variable = { which = converted_heretics value = 2 } }
		}
	}
	option = {
		name = dg_pope.025.b #Let him go to the Vatican
		ai_chance = {
			factor = 30
			modifier = {
				any_known_country = {
					OR = {
						is_papal_controller = yes
						papal_trigger = yes
					}
					war_with = ROOT
				}
				factor = 0
			}
			modifier = {
				any_known_country = {
					OR = {
						is_papal_controller = yes
						papal_trigger = yes
					}
					OR = {
						is_rival = ROOT
						is_enemy = ROOT
					}
				}
				factor = 0.5
			}
			modifier = {
				piety = 0.60
				factor = 0.7
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
}

country_event = { #26 - Papal Consistory summoned
	
	id = dg_pope.026
	title = dg_pope.026.t
	desc = dg_pope.026.d
	picture = catholic_consistory
	
	is_triggered_only = yes #By maintenance event when the number of cardinals is too low
	
	immediate = {
		hidden_effect = {
			#One-time addition of French Cardinals if Avignon Papacy
			if = {
				limit = { PAP = { has_country_flag = avignon_cardinals } }
				PAP = { clr_country_flag = avignon_cardinals }
				FRA = {
					random_owned_province = {
						limit = {
							OR = {
								has_province_modifier = catholic_archbishopric
								has_province_modifier = catholic_patriarchate
							}
							religion = catholic
							has_cardinal = no
							NOT = { has_province_flag = new_cardinals_small }
							NOT = { has_province_flag = cardinal_1_year }
							NOT = { has_province_flag = cardinal_5_years }
							NOT = { has_province_flag = cardinal_10_years }
							NOT = { has_province_flag = cardinal_20_years }
							NOT = { has_province_flag = cardinal_40_years }
						}
						add_cardinal = yes
						random_list = {
							20 = { set_province_flag = cardinal_1_year }
							20 = { set_province_flag = cardinal_5_years }
							20 = { set_province_flag = cardinal_10_years }
							20 = { set_province_flag = cardinal_20_years }
							20 = { set_province_flag = cardinal_40_years }
						}
					}
					random_owned_province = {
						limit = {
							OR = {
								has_province_modifier = catholic_archbishopric
								has_province_modifier = catholic_patriarchate
							}
							religion = catholic
							has_cardinal = no
							NOT = { has_province_flag = new_cardinals_small }
							NOT = { has_province_flag = cardinal_1_year }
							NOT = { has_province_flag = cardinal_5_years }
							NOT = { has_province_flag = cardinal_10_years }
							NOT = { has_province_flag = cardinal_20_years }
							NOT = { has_province_flag = cardinal_40_years }
						}
						add_cardinal = yes
						random_list = {
							20 = { set_province_flag = cardinal_1_year }
							20 = { set_province_flag = cardinal_5_years }
							20 = { set_province_flag = cardinal_10_years }
							20 = { set_province_flag = cardinal_20_years }
							20 = { set_province_flag = cardinal_40_years }
						}
					}
					random_owned_province = {
						limit = {
							OR = {
								has_province_modifier = catholic_archbishopric
								has_province_modifier = catholic_patriarchate
							}
							religion = catholic
							has_cardinal = no
							NOT = { has_province_flag = new_cardinals_small }
							NOT = { has_province_flag = cardinal_1_year }
							NOT = { has_province_flag = cardinal_5_years }
							NOT = { has_province_flag = cardinal_10_years }
							NOT = { has_province_flag = cardinal_20_years }
							NOT = { has_province_flag = cardinal_40_years }
						}
						add_cardinal = yes
						random_list = {
							20 = { set_province_flag = cardinal_1_year }
							20 = { set_province_flag = cardinal_5_years }
							20 = { set_province_flag = cardinal_10_years }
							20 = { set_province_flag = cardinal_20_years }
							20 = { set_province_flag = cardinal_40_years }
						}
					}
					random_owned_province = {
						limit = {
							OR = {
								has_province_modifier = catholic_archbishopric
								has_province_modifier = catholic_patriarchate
							}
							religion = catholic
							has_cardinal = no
							NOT = { has_province_flag = new_cardinals_small }
							NOT = { has_province_flag = cardinal_1_year }
							NOT = { has_province_flag = cardinal_5_years }
							NOT = { has_province_flag = cardinal_10_years }
							NOT = { has_province_flag = cardinal_20_years }
							NOT = { has_province_flag = cardinal_40_years }
						}
						add_cardinal = yes
						random_list = {
							20 = { set_province_flag = cardinal_1_year }
							20 = { set_province_flag = cardinal_5_years }
							20 = { set_province_flag = cardinal_10_years }
							20 = { set_province_flag = cardinal_20_years }
							20 = { set_province_flag = cardinal_40_years }
						}
					}
				}
			}
			#Normal mechanics
			if = {
				limit = { NOT = { is_year = 1400 } } #limit 20
				set_variable = { which = new_cardinals_small value = 2 }
				set_variable = { which = new_cardinals_medium value = 4 }
				set_variable = { which = new_cardinals_large value = 6 }
			}
			if = {
				limit = {
					is_year = 1400
					NOT = { is_year = 1500 }
				} #limit 30
				set_variable = { which = new_cardinals_small value = 3 }
				set_variable = { which = new_cardinals_medium value = 6 }
				set_variable = { which = new_cardinals_large value = 9 }
			}
			if = {
				limit = {
					is_year = 1500
					PAP = { has_country_flag = curia_limits_established }
				} #limit 50
				set_variable = { which = new_cardinals_small value = 4 }
				set_variable = { which = new_cardinals_medium value = 8 }
				set_variable = { which = new_cardinals_large value = 12 }
			}
			if = {
				limit = {
					is_year = 1500
					NOT = { PAP = { has_country_flag = curia_limits_established } }
				} #limit 80
				set_variable = { which = new_cardinals_small value = 5 }
				set_variable = { which = new_cardinals_medium value = 10 }
				set_variable = { which = new_cardinals_large value = 15 }
			}
			change_variable = { which = new_cardinals_small which = cardinals_created }
			change_variable = { which = new_cardinals_medium which = cardinals_created }
			change_variable = { which = new_cardinals_large which = cardinals_created }
			set_variable = { which = cardinals_created value = 0 }
			regiongroup = {
				region = {
					limit = {
						OR = {
							has_province_modifier = catholic_archbishopric
							has_province_modifier = catholic_patriarchate
						}
						religion = catholic
						has_owner_religion = yes
						has_cardinal = no
						NOT = { owner = { tag = PAP } }
					}
					random_list = {
						10 = { set_variable = { which = cardinal_chance value = 1 } }
						10 = { set_variable = { which = cardinal_chance value = 2 } }
						10 = { set_variable = { which = cardinal_chance value = 3 } }
						10 = { set_variable = { which = cardinal_chance value = 4 } }
						10 = { set_variable = { which = cardinal_chance value = 5 } }
						10 = { set_variable = { which = cardinal_chance value = 6 } }
						10 = { set_variable = { which = cardinal_chance value = 7 } }
						10 = { set_variable = { which = cardinal_chance value = 8 } }
						10 = { set_variable = { which = cardinal_chance value = 9 } }
						10 = { set_variable = { which = cardinal_chance value = 10 } }
					}
					if = {
						limit = {
							owner = {
								has_country_flag = cardinal_policy
								NOT = {
									num_of_owned_provinces_with = {
										OR = {
											has_province_modifier = catholic_archbishopric
											has_province_modifier = catholic_patriarchate
										}
										value = 2
									}
								}
							}
						}
						change_variable = { which = cardinal_chance value = 3 }
					}
					if = {
						limit = {
							owner = {
								has_country_flag = cardinal_policy
								num_of_owned_provinces_with = {
									OR = {
										has_province_modifier = catholic_archbishopric
										has_province_modifier = catholic_patriarchate
									}
									value = 2
								}
								NOT = {
									num_of_owned_provinces_with = {
										OR = {
											has_province_modifier = catholic_archbishopric
											has_province_modifier = catholic_patriarchate
										}
										value = 3
									}
								}
							}
						}
						change_variable = { which = cardinal_chance value = 2 }
					}
					if = {
						limit = {
							owner = {
								has_country_flag = cardinal_policy
								num_of_owned_provinces_with = {
									OR = {
										has_province_modifier = catholic_archbishopric
										has_province_modifier = catholic_patriarchate
									}
									value = 3
								}
							}
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { owner = { has_country_flag = constantine_donation_cf } }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							owned_by = ROOT
							PAP = { has_country_flag = corrupt_pope }
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { owner = { has_country_flag = ally_of_pope } }
						change_variable = { which = cardinal_chance value = 2 }
					}
					if = {
						limit = { owner = { has_country_flag = friend_of_pope } }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { owner = { has_country_flag = rival_of_pope } }
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = { owner = { has_country_flag = enemy_of_pope } }
						change_variable = { which = cardinal_chance value = -2 }
					}
					if = {
						limit = { owner = { piety = 0.60 } }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { owner = { piety = 0.20 } }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { owner = { NOT = { piety = -0.60 } } }
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = { owner = { NOT = { piety = -0.20 } } }
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = { owner = { patriarch_authority = 0.80 } }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { owner = { patriarch_authority = 0.60 } }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { owner = { NOT = { patriarch_authority = 0.40 } } }
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = { owner = { NOT = { patriarch_authority = 0.20 } } }
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = { owner = { has_country_flag = excommunicated } }
						change_variable = { which = cardinal_chance value = -4 }
					}
					if = {
						limit = { has_province_modifier = catholic_patriarchate }
						change_variable = { which = cardinal_chance value = 10 }
					}
					if = {
						limit = { NOT = { continent = europe } }
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = { has_owner_culture = yes }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { culture_group = owner }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { is_capital = yes }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = { north_italy_region_trigger = yes }
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							north_italy_region_trigger = yes
							culture_group = owner
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							north_italy_region_trigger = yes
							has_owner_culture = yes
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							north_italy_region_trigger = yes
							culture_group = owner
							owner = { NOT = { num_of_cities = 6 } }
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							north_italy_region_trigger = yes
							has_owner_culture = yes
							owner = { NOT = { num_of_cities = 6 } }
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							north_italy_region_trigger = yes
							OR = {
								NOT = { exists = PAP }
								PAP = { capital_scope = { north_italy_region_trigger = yes } }
							}
						}
						change_variable = { which = cardinal_chance value = 2 }
					}
					if = {
						limit = { owner = { NOT = { num_of_cardinals = 1 } } }
						change_variable = { which = cardinal_chance value = 1 }
					}
					#Preventing too many cardinals in too few hands (1 in 7 is too much)
					if = {
						limit = {
							owner = {
								num_of_cardinals = 4
								NOT = { total_number_of_cardinals = 29 }
							}
						}
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = {
							owner = {
								num_of_cardinals = 6
								NOT = { total_number_of_cardinals = 43 }
							}
						}
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = {
							owner = {
								num_of_cardinals = 8
								NOT = { total_number_of_cardinals = 57 }
							}
						}
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = {
							owner = {
								num_of_cardinals = 10
								NOT = { total_number_of_cardinals = 71 }
							}
						}
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = {
							owner = {
								num_of_cardinals = 12
								NOT = { total_number_of_cardinals = 85 }
							}
						}
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = {
							owner = {
								num_of_cardinals = 14
								NOT = { total_number_of_cardinals = 99 }
							}
						}
						change_variable = { which = cardinal_chance value = -1 }
					}
					if = {
						limit = {
							owner = {
								NOT = { num_of_cardinals = 1 }
								num_of_owned_provinces_with = {
									OR = {
										has_province_modifier = catholic_archbishopric
										has_province_modifier = catholic_patriarchate
									}
									value = 3
								}
							}
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							owner = {
								NOT = { num_of_cardinals = 2 }
								num_of_owned_provinces_with = {
									OR = {
										has_province_modifier = catholic_archbishopric
										has_province_modifier = catholic_patriarchate
									}
									value = 7
								}
							}
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							owner = {
								NOT = { num_of_cardinals = 3 }
								num_of_owned_provinces_with = {
									OR = {
										has_province_modifier = catholic_archbishopric
										has_province_modifier = catholic_patriarchate
									}
									value = 12
								}
							}
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							owner = {
								NOT = { num_of_cardinals = 4 }
								num_of_owned_provinces_with = {
									OR = {
										has_province_modifier = catholic_archbishopric
										has_province_modifier = catholic_patriarchate
									}
									value = 18
								}
							}
						}
						change_variable = { which = cardinal_chance value = 1 }
					}
					if = {
						limit = {
							owner = {
								owns = 2530 # Roma
								NOT = { papal_trigger = yes NOT = { 118 = { has_province_modifier = independent_vatican } } }
							}
						}
						change_variable = { which = cardinal_chance value = -3 }
					}
					if = {
						limit = { owner = { has_country_flag = support_antipope } }
						set_variable = { which = cardinal_chance value = 0 }
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = { check_variable = { which = cardinal_chance value = 15 } }
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 14 }
							NOT = { check_variable = { which = cardinal_chance value = 15 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 13 }
							NOT = { check_variable = { which = cardinal_chance value = 14 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 12 }
							NOT = { check_variable = { which = cardinal_chance value = 13 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 11 }
							NOT = { check_variable = { which = cardinal_chance value = 12 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 10 }
							NOT = { check_variable = { which = cardinal_chance value = 11 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 9 }
							NOT = { check_variable = { which = cardinal_chance value = 10 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 8 }
							NOT = { check_variable = { which = cardinal_chance value = 9 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 7 }
							NOT = { check_variable = { which = cardinal_chance value = 8 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 6 }
							NOT = { check_variable = { which = cardinal_chance value = 7 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 5 }
							NOT = { check_variable = { which = cardinal_chance value = 6 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 4 }
							NOT = { check_variable = { which = cardinal_chance value = 5 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 3 }
							NOT = { check_variable = { which = cardinal_chance value = 4 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 2 }
							NOT = { check_variable = { which = cardinal_chance value = 3 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			if = {
				limit = { check_variable = { which = new_cardinals_large value = 1 } }
				regiongroup = {
					region = {
						limit = {
							check_variable = { which = cardinal_chance value = 1 }
							NOT = { check_variable = { which = cardinal_chance value = 2 } }
						}
						set_province_flag = new_cardinals_large
						ROOT = { change_variable = { which = new_cardinals_large value = -1 } }
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_small value = 1 } } }
							set_province_flag = new_cardinals_small
							ROOT = { change_variable = { which = new_cardinals_small value = -1 } }
						}
						if = {
							limit = { ROOT = { check_variable = { which = new_cardinals_medium value = 1 } } }
							set_province_flag = new_cardinals_medium
							ROOT = { change_variable = { which = new_cardinals_medium value = -1 } }
						}
					}
				}
			}
			regiongroup = {
				region = {
					set_variable = { which = cardinal_chance value = 0 }
				}
			}
		}
	}
	
	option = {
		name = dg_pope.026.a #Small
		ai_chance = {
			factor = 40
		}
		every_province = {
			limit = { has_province_flag = new_cardinals_small }
			if = {
				limit = {
					owner = {
						OR = {
							ai = yes
							NOT = {
								OR = {
									has_country_flag = religious_news_trivial
									AND = {
										has_country_flag = religious_news_major
										OR = {
											is_papal_controller = yes
											papal_trigger = yes
										}
									}
								}
							}
						}
					}
				}
				add_cardinal = yes
				owner = { clr_country_flag = cardinal_policy }
			}
			if = {
				limit = {
					owner = {
						ai = no
						OR = {
							has_country_flag = religious_news_trivial
							AND = {
								has_country_flag = religious_news_major
								OR = {
									is_papal_controller = yes
									papal_trigger = yes
								}
							}
						}
						num_of_owned_provinces_with = {
							has_province_flag = new_cardinals_small
							value = 2
						}
					}
				}
				set_province_flag = new_cardinal
				owner = { country_event = { id = dg_catholic.131 } }
			}
			if = {
				limit = {
					owner = {
						ai = no
						OR = {
							has_country_flag = religious_news_trivial
							AND = {
								has_country_flag = religious_news_major
								OR = {
									is_papal_controller = yes
									papal_trigger = yes
								}
							}
						}
						NOT = {
							num_of_owned_provinces_with = {
								has_province_flag = new_cardinals_small
								value = 2
							}
						}
					}
				}
				set_province_flag = new_cardinal
				province_event = { id = dg_catholic.132 }
			}
			hidden_effect = {
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		hidden_effect = {
			regiongroup = {
				region = {
					clr_province_flag = new_cardinals_small
					clr_province_flag = new_cardinals_medium
					clr_province_flag = new_cardinals_large
				}
			}
		}
	}
	option = {
		name = dg_pope.026.b #Medium
		trigger = {
			OR = {
				AND = {
					is_year = 1500
					OR = {
						NOT = { PAP = { has_country_flag = curia_limits_established } }
						NOT = { total_number_of_cardinals = 40 }
					}
				}
				AND = {
					is_year = 1400
					NOT = { total_number_of_cardinals = 25 }
				}
				NOT = { total_number_of_cardinals = 17 }
			}
			NOT = { total_number_of_cardinals = 70 }
		}
		ai_chance = {
			factor = 40
			modifier = {
				PAP = { has_country_flag = pious_pope }
				factor = 0.7
			}
			modifier = {
				PAP = { has_country_flag = corrupt_pope }
				factor = 1.4
			}
		}
		if = {
			limit = { PAP = { has_country_flag = pious_pope } }
			if = {
				limit = { tag = PAP }
				add_devotion = -3
			}
			else = {
				add_papal_influence = -5
			}
		}
		if = {
			limit = { PAP = { has_country_flag = secular_pope } }
		}
		if = {
			limit = { PAP = { has_country_flag = corrupt_pope } }
			if = {
				limit = { tag = PAP }
				add_devotion = 5
			}
			else = {
				add_papal_influence = 10
			}
		}
		every_province = {
			limit = { has_province_flag = new_cardinals_medium }
			if = {
				limit = {
					owner = {
						OR = {
							ai = yes
							NOT = {
								OR = {
									has_country_flag = religious_news_trivial
									AND = {
										has_country_flag = religious_news_major
										OR = {
											is_papal_controller = yes
											papal_trigger = yes
										}
									}
								}
							}
						}
					}
				}
				add_cardinal = yes
				owner = { clr_country_flag = cardinal_policy }
			}
			if = {
				limit = {
					owner = {
						ai = no
						OR = {
							has_country_flag = religious_news_trivial
							AND = {
								has_country_flag = religious_news_major
								OR = {
									is_papal_controller = yes
									papal_trigger = yes
								}
							}
						}
						num_of_owned_provinces_with = {
							has_province_flag = new_cardinals_medium
							value = 2
						}
					}
				}
				set_province_flag = new_cardinal
				owner = { country_event = { id = dg_catholic.131 } }
			}
			if = {
				limit = {
					owner = {
						ai = no
						OR = {
							has_country_flag = religious_news_trivial
							AND = {
								has_country_flag = religious_news_major
								OR = {
									is_papal_controller = yes
									papal_trigger = yes
								}
							}
						}
						NOT = {
							num_of_owned_provinces_with = {
								has_province_flag = new_cardinals_medium
								value = 2
							}
						}
					}
				}
				set_province_flag = new_cardinal
				province_event = { id = dg_catholic.132 }
			}
			hidden_effect = {
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		hidden_effect = {
			regiongroup = {
				region = {
					clr_province_flag = new_cardinals_small
					clr_province_flag = new_cardinals_medium
					clr_province_flag = new_cardinals_large
				}
			}
		}
	}
	option = {
		name = dg_pope.026.c #Large
		trigger = {
			OR = {
				AVI = { #Schism
					papal_trigger = yes
					num_of_cities = 1
				}
				AND = {
					is_year = 1500
					OR = {
						NOT = { PAP = { has_country_flag = curia_limits_established } }
						NOT = { total_number_of_cardinals = 45 }
					}
				}
				AND = {
					is_year = 1400
					NOT = { total_number_of_cardinals = 22 }
				}
				NOT = { total_number_of_cardinals = 15 }
			}
			NOT = { total_number_of_cardinals = 65 }
		}
		ai_chance = {
			factor = 20
			modifier = {
				AVI = {
					papal_trigger = yes
					num_of_cities = 1
				}
				factor = 4
			}
			modifier = {
				PAP = { has_country_flag = pious_pope }
				factor = 0.5
			}
			modifier = {
				PAP = { has_country_flag = corrupt_pope }
				factor = 2
			}
		}
		if = {
			limit = { PAP = { has_country_flag = pious_pope } }
			if = {
				limit = { tag = PAP }
				add_devotion = -5
			}
			else = {
				add_papal_influence = -10
			}
		}
		if = {
			limit = { PAP = { has_country_flag = secular_pope } }
			if = {
				limit = { tag = PAP }
				add_devotion = 5
			}
			else = {
				add_papal_influence = 10
			}
		}
		if = {
			limit = { PAP = { has_country_flag = corrupt_pope } }
			if = {
				limit = { tag = PAP }
				add_devotion = 15
			}
			else = {
				add_papal_influence = 30
			}
		}
		every_province = {
			limit = { has_province_flag = new_cardinals_large }
			if = {
				limit = {
					owner = {
						OR = {
							ai = yes
							NOT = {
								OR = {
									has_country_flag = religious_news_trivial
									AND = {
										has_country_flag = religious_news_major
										OR = {
											is_papal_controller = yes
											papal_trigger = yes
										}
									}
								}
							}
						}
					}
				}
				add_cardinal = yes
				owner = { clr_country_flag = cardinal_policy }
			}
			if = {
				limit = {
					owner = {
						ai = no
						OR = {
							has_country_flag = religious_news_trivial
							AND = {
								has_country_flag = religious_news_major
								OR = {
									is_papal_controller = yes
									papal_trigger = yes
								}
							}
						}
						num_of_owned_provinces_with = {
							has_province_flag = new_cardinals_large
							value = 2
						}
					}
				}
				set_province_flag = new_cardinal
				owner = { country_event = { id = dg_catholic.131 } }
			}
			if = {
				limit = {
					owner = {
						ai = no
						OR = {
							has_country_flag = religious_news_trivial
							AND = {
								has_country_flag = religious_news_major
								OR = {
									is_papal_controller = yes
									papal_trigger = yes
								}
							}
						}
						NOT = {
							num_of_owned_provinces_with = {
								has_province_flag = new_cardinals_large
								value = 2
							}
						}
					}
				}
				set_province_flag = new_cardinal
				province_event = { id = dg_catholic.132 }
			}
			hidden_effect = {
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		hidden_effect = {
			regiongroup = {
				region = {
					clr_province_flag = new_cardinals_small
					clr_province_flag = new_cardinals_medium
					clr_province_flag = new_cardinals_large
				}
			}
		}
	}
}

country_event = { #27 - Grounds for Excommunication
	
	id = dg_pope.027
	title = dg_pope.027.t
	desc = dg_pope.027.d
	picture = catholic_excommunication
	
	is_triggered_only = yes #By maintenance event
	
	immediate = {
		if = {
			limit = {
				any_country = {
					has_country_flag = excommunication_target
					has_country_flag = excommunication_rome
				}
			}
			custom_tooltip = excommunication_them_rome
		}
		if = {
			limit = {
				any_country = {
					has_country_flag = excommunication_target
					has_country_flag = excommunication_church
				}
			}
			custom_tooltip = excommunication_them_church
		}
		if = {
			limit = {
				any_country = {
					has_country_flag = excommunication_target
					has_country_flag = excommunication_heathen_ally
				}
			}
			custom_tooltip = excommunication_them_heathen_ally
		}
		if = {
			limit = {
				any_country = {
					has_country_flag = excommunication_target
					has_country_flag = excommunication_blasphemy
				}
			}
			custom_tooltip = excommunication_them_blasphemy
		}
		if = {
			limit = {
				any_country = {
					has_country_flag = excommunication_target
					has_country_flag = excommunication_papal_states
				}
			}
			custom_tooltip = excommunication_them_papal_states
		}
		if = {
			limit = {
				any_country = {
					has_country_flag = excommunication_target
					has_country_flag = excommunication_unjust_war
				}
			}
			custom_tooltip = excommunication_them_unjust_war
		}
	}
	
	option = {
		name = dg_pope.027.a #Press charges
		ai_chance = {
			factor = 50
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 400 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 600 } }
				factor = 1.4
			}
			modifier = {
				any_ally = {
					has_country_flag = excommunication_target
				}
				factor = 0.5
			}
			modifier = {
				any_country = {
					has_country_flag = excommunication_target
					marriage_with = ROOT
				}
				factor = 0.5
			}
			modifier = {
				overlord = {
					has_country_flag = excommunication_target
				}
				factor = 0
			}
			modifier = {
				any_subject_country = {
					has_country_flag = excommunication_target
				}
				factor = 0.5
			}
			modifier = {
				any_rival_country = {
					has_country_flag = excommunication_target
				}
				factor = 2
			}
			modifier = {
				any_enemy_country = {
					has_country_flag = excommunication_target
				}
				factor = 2
			}
			modifier = {
				any_country = {
					has_country_flag = excommunication_target
					war_with = ROOT
				}
				factor = 2
			}
			modifier = {
				any_country = {
					has_country_flag = excommunication_target
					truce_with = ROOT
				}
				factor = 2
			}
			modifier = {
				any_country = {
					has_country_flag = excommunication_target
					has_country_flag = excommunication_warning
				}
				factor = 2
			}
			modifier = {
				any_neighbor_country = {
					has_country_flag = excommunication_target
					army_size = ROOT
				}
				factor = 0.5
			}
		}
		random_country = {
			limit = { has_country_flag = excommunication_target }
			clr_country_flag = excommunication_target
			country_event = { id = dg_catholic.066 days = 30 }
		}
	}
	option = {
		name = dg_pope.027.b #Send them a warning
		ai_chance = { factor = 50 }
		if = {
			limit = { any_country = { has_country_flag = excommunication_target has_country_flag = excommunication_warning } }
			if = {
				limit = { tag = PAP }
				add_devotion = -5
			}
			else = {
				add_papal_influence = -10
			}
			if = {
				limit = { piety = 0.60 }
				add_prestige = -10
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = -8
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = -6
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = -4
			}
			else = {
				add_prestige = -2
			}
		}
		random_country = {
			limit = { has_country_flag = excommunication_target }
			clr_country_flag = excommunication_target
			set_country_flag = excommunication_warning
			country_event = { id = dg_catholic.067 days = 30 }
		}
	}
}

country_event = { #28 - Papal Nuncio returns from $FROMCOUNTRY$
	
	id = dg_pope.028
	title = dg_pope.028.t
	desc = dg_pope.028.d
	picture = catholic_papal_envoy
	
	is_triggered_only = yes #By dg_catholic.066 or 67
	
	immediate = {
		if = {
			limit = { has_country_flag = excommunication_repented }
			custom_tooltip = excommunication_repented
		}
		if = {
			limit = { has_country_flag = excommunication_warned }
			custom_tooltip = excommunication_warned
		}
		if = {
			limit = { has_country_flag = excommunication_excommunicated }
			custom_tooltip = excommunication_excommunicated
		}
		if = {
			limit = { has_country_flag = excommunication_argued }
			custom_tooltip = excommunication_argued
		}
	}
	
	option = {
		name = dg_pope.028.a #I see
		if = {
			limit = { has_country_flag = excommunication_repented }
			dg_add_prestige_small = yes
		}
		clr_country_flag = excommunication_repented
		clr_country_flag = excommunication_excommunicated
		clr_country_flag = excommunication_argued
		clr_country_flag = excommunication_warned
	}
}

###################
# Church Councils # 30s and 40s
###################

country_event = { #Calls for a church council
	
	id = dg_pope.031
	title = dg_pope.031.t
	desc = dg_pope.031.d
	picture = catholic_monks_preaching
	
	is_triggered_only = yes #by request_council papal interaction
	
	immediate = { PAP = { clr_country_flag = calls_for_council } }
	
	option = {
		name = dg_pope.031.a #Call a church council
		trigger = {
			OR = {
				PAP = { has_country_flag = reformer_pope }
				PAP = { has_country_flag = regular_councils_promised }
				PAP = { has_country_flag = regular_councils_supposedly_promised }
				PAP = { has_country_flag = church_council_promised }
				AND = {
					exists = AVI
					AVI = { papal_trigger = yes }
				}
				AND = {
					is_year = 1400
					NOT = { PAP = { has_country_flag = lollardy_banned } }
					OR = {
						PAP = { check_variable = { which = lollard_heresy value = 4 } }
						any_known_country = { religion = hussite }
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				exists = AVI
				factor = 2
			}
			modifier = {
				NOT = { has_global_flag = counter_reformation }
				religion_years = { protestant = 10 }
				factor = 2
			}
			modifier = {
				PAP = { has_country_flag = reformer_pope }
				factor = 1.4
			}
			modifier = {
				PAP = { has_country_flag = corrupt_pope }
				factor = 0.7
			}
			modifier = {
				PAP = { has_country_flag = church_council_promised }
				factor = 2
			}
			modifier = {
				PAP = { has_country_flag = regular_councils_promised }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 400 } }
				factor = 0.7
			}
			modifier = {
				PAP = { NOT = { check_variable = { which = papal_authority value = 300 } } }
				factor = 1.4
			}
			modifier = {
				PAP = { NOT = { check_variable = { which = papal_authority value = 200 } } }
				factor = 1.4
			}
		}
		if = {
			limit = {
				OR = {
					PAP = { has_country_flag = church_council_promised }
					PAP = { has_country_flag = regular_councils_promised }
				}
			}
			if = {
				limit = { tag = PAP }
				add_devotion = -5
			}
			else = {
				add_papal_influence = -10
			}
		}
		else = {
			if = {
				limit = { tag = PAP }
				add_devotion = -10
			}
			else = {
				add_papal_influence = -25
			}
		}
		hidden_effect = {
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				PAP = { set_country_flag = church_council_delays }
			}
			multiply_variable = { which = catholic_corruption value = 0.5 }
		}
		if = {
			limit = { tag = PAP }
			set_country_flag = church_council_called
			clr_country_flag = church_council_promised
			add_prestige = -10
			hidden_effect = { change_variable = { which = councils_called value = 1 } }
			if = {
				limit = {
					has_country_flag = church_council_4
					NOT = { has_country_flag = church_council_5 }
				}
				set_country_flag = church_council_5
			}
			if = {
				limit = {
					has_country_flag = church_council_3
					NOT = { has_country_flag = church_council_4 }
				}
				set_country_flag = church_council_4
			}
			if = {
				limit = {
					has_country_flag = church_council_2
					NOT = { has_country_flag = church_council_3 }
				}
				set_country_flag = church_council_3
			}
			if = {
				limit = {
					has_country_flag = church_council_1
					NOT = { has_country_flag = church_council_2 }
				}
				set_country_flag = church_council_2
			}
			if = {
				limit = { NOT = { has_country_flag = church_council_1 } }
				set_country_flag = church_council_1
			}
		}
		else = {
			PAP = {
				set_country_flag = church_council_called
				clr_country_flag = church_council_promised
				add_prestige = -10
				reverse_add_opinion = { who = ROOT modifier = papacy_great }
				hidden_effect = { change_variable = { which = councils_called value = 1 } }
				if = {
					limit = {
						has_country_flag = church_council_4
						NOT = { has_country_flag = church_council_5 }
					}
					set_country_flag = church_council_5
				}
				if = {
					limit = {
						has_country_flag = church_council_3
						NOT = { has_country_flag = church_council_4 }
					}
					set_country_flag = church_council_4
				}
				if = {
					limit = {
						has_country_flag = church_council_2
						NOT = { has_country_flag = church_council_3 }
					}
					set_country_flag = church_council_3
				}
				if = {
					limit = {
						has_country_flag = church_council_1
						NOT = { has_country_flag = church_council_2 }
					}
					set_country_flag = church_council_2
				}
				if = {
					limit = { NOT = { has_country_flag = church_council_1 } }
					set_country_flag = church_council_1
				}
			}
		}
		reverse_add_opinion = { who = ROOT modifier = papacy_great }
	}
	option = {
		name = dg_pope.031.b #Promise to hold a council in the future
		ai_chance = { factor = 40 }
		if = {
			limit = { PAP = { has_country_flag = church_council_promised } }
			PAP = { add_prestige = -10 }
		}
		if = {
			limit = { PAP = { NOT = { has_country_flag = church_council_promised } } }
			PAP = {
				add_prestige = -5
				hidden_effect = { set_country_flag = church_council_promised }
				reverse_add_opinion = { who = ROOT modifier = papacy_good }
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -3
		}
		else = {
			add_papal_influence = -5
		}
		reverse_add_opinion = { who = ROOT modifier = papacy_good }
		hidden_effect = { multiply_variable = { which = catholic_corruption value = 0.7 } }
	}
	option = {
		name = dg_pope.031.c #The church needs a firm hand to guide it
		ai_chance = {
			factor = 30
			modifier = {
				is_year = 1400
				NOT = { PAP = { has_country_flag = lollardy_banned } }
				OR = {
					PAP = { check_variable = { which = lollard_heresy value = 4 } }
					any_known_country = { religion = hussite }
				}
				factor = 0
			}
			modifier = {
				exists = AVI
				AVI = { papal_trigger = yes }
				factor = 0
			}
			modifier = {
				NOT = { has_global_flag = counter_reformation }
				religion_years = { protestant = 10 }
				factor = 0.5
			}
			modifier = {
				PAP = { has_country_flag = reformer_pope }
				factor = 0.7
			}
			modifier = {
				PAP = { has_country_flag = corrupt_pope }
				factor = 1.4
			}
			modifier = {
				PAP = { has_country_flag = church_council_promised }
				factor = 0.5
			}
			modifier = {
				is_emperor = yes
				factor = 0.7
			}
			modifier = {
				is_papal_controller = yes
				factor = 0
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 400 } }
				factor = 1.4
			}
			modifier = {
				PAP = { NOT = { check_variable = { which = papal_authority value = 300 } } }
				factor = 0.7
			}
			modifier = {
				PAP = { NOT = { check_variable = { which = papal_authority value = 200 } } }
				factor = 0.7
			}
		}
		custom_tooltip = council_rejection_explained
		if = {
			limit = { PAP = { has_country_flag = regular_councils_supposedly_promised } }
			PAP = {
				custom_tooltip = council_promise_broken_explained
				add_prestige = -10
				clr_country_flag = regular_councils_supposedly_promised
			}
		}
		if = {
			limit = { PAP = { has_country_flag = regular_councils_promised } }
			PAP = {
				custom_tooltip = council_promise_broken_explained
				add_prestige = -10
				clr_country_flag = regular_councils_promised
				set_country_flag = regular_councils_supposedly_promised
			}
		}
	}
}

country_event = { #Church Matters
	
	id = dg_pope.032
	title = dg_pope.032.t
	desc = dg_pope.032.d
	picture = catholic_church_council
	
	trigger = {
		is_papal_controller = yes
		PAP = { had_country_flag = { flag = council_site_chosen days = 200 } }
		NOT = { PAP = { has_country_flag = church_council_topics_chosen } }
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		custom_tooltip = dg_reform_desire_explained
		if = {
			limit = {
				PAP = { check_variable = { which = reform_desire_indulgences value = 1 } }
				NOT = { PAP = { has_country_flag = indulgences_banned } }
			}
			custom_tooltip = dg_reform_desire_indulgences
		}
		if = {
			limit = {
				PAP = { check_variable = { which = reform_desire_simony value = 1 } }
				OR = {
					NOT = { PAP = { has_country_flag = simony_abolished } }
					NOT = { PAP = { has_country_flag = annate_abolished } }
				}
			}
			custom_tooltip = dg_reform_desire_simony
		}
		if = {
			limit = {
				PAP = { check_variable = { which = reform_desire_absenteeism value = 1 } }
				OR = {
					NOT = { PAP = { has_country_flag = clerical_residence } }
					NOT = { PAP = { has_country_flag = seminaries } }
				}
			}
			custom_tooltip = dg_reform_desire_absenteeism
		}
		if = {
			limit = { PAP = { check_variable = { which = reform_desire_eccleistical_courts value = 1 } } }
			custom_tooltip = dg_reform_desire_eccleistical_courts
		}
		if = {
			limit = {
				PAP = { check_variable = { which = reform_desire_consanguinity value = 1 } }
				NOT = { PAP = { has_country_flag = limited_consanguinity_allowed } }
			}
			custom_tooltip = dg_reform_desire_consanguinity
		}
		if = {
			limit = {
				PAP = { check_variable = { which = reform_desire_papal_relations value = 1 } }
				NOT = { PAP = { has_country_flag = nepotism_abolished } }
			}
			custom_tooltip = dg_reform_desire_papal_relations
		}
		if = {
			limit = { PAP = { check_variable = { which = reform_desire_papal_corruption value = 1 } } }
			custom_tooltip = dg_reform_desire_papal_corruption
		}
		if = {
			limit = { PAP = { check_variable = { which = reform_desire_papal_finances value = 1 } } }
			custom_tooltip = dg_reform_desire_papal_finances
		}
		if = {
			limit = { PAP = { check_variable = { which = reform_desire_clerical_corruption value = 1 } } }
			custom_tooltip = dg_reform_desire_clerical_corruption
		}
		if = {
			limit = { PAP = { check_variable = { which = reform_desire_popular_piety value = 1 } } }
			custom_tooltip = dg_reform_desire_popular_piety
		}
		if = {
			limit = { PAP = { check_variable = { which = reform_desire_conciliarism value = 1 } } }
			custom_tooltip = dg_reform_desire_conciliarism
		}
		hidden_effect = {
			#Special topics
			if = {
				limit = {
					is_year = 1400
					OR = {
						PAP = { check_variable = { which = lollard_heresy value = 4 } }
						any_known_country = { religion = hussite }
					}
					NOT = { PAP = { has_country_flag = lollardy_banned } }
				}
				PAP = { change_variable = { which = council_topic_lollardy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { has_country_flag = conciliar_movement }
					PAP = { check_variable = { which = conciliarism which = papal_authority } }
					PAP = { NOT = { has_country_flag = papal_conciliarism } }
					PAP = { NOT = { has_country_flag = papal_absolutism } }
				}
				PAP = { change_variable = { which = council_topic_conciliarism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			PAP = { multiply_variable = { which = conciliarism value = 2 } }
			if = {
				limit = {
					PAP = { has_country_flag = papal_conciliarism }
					PAP = { NOT = { has_country_flag = papal_absolutism } }
					PAP = { check_variable = { which = papal_authority which = conciliarism } }
				}
				PAP = { change_variable = { which = council_topic_conciliarism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			PAP = { multiply_variable = { which = conciliarism value = 0.5 } }
			
			#General topics
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } } #Can be chosen more than once, because there are four separate issues
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 400 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 350 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 300 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 250 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 200 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 180 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 160 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 140 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 120 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 100 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 80 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 60 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 40 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 20 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 10 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_schism value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_schism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_schism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_heresy value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_heresy value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_heresy value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_reformation value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_reformation value = 2 } } }
				}
				PAP = { change_variable = { which = council_topic_reformation value = 1 } }
				PAP = { multiply_variable = { which = council_reformation value = 0.5 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_indulgences value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_indulgences value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_indulgences value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_simony value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_simony value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_simony value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_simony value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_absenteeism value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_absenteeism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_absenteeism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_consanguinity value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_consanguinity value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_consanguinity value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			if = {
				limit = {
					PAP = { check_variable = { which = council_nepotism value = 5 } }
					PAP = { NOT = { check_variable = { which = topics_chosen value = 2 } } }
					PAP = { NOT = { check_variable = { which = council_topic_nepotism value = 1 } } }
				}
				PAP = { change_variable = { which = council_topic_nepotism value = 1 } }
				PAP = { change_variable = { which = topics_chosen value = 1 } }
			}
			#Reset variables
			PAP = {
				set_variable = { which = council_conciliarism value = 0 }
				set_variable = { which = council_schism value = 0 }
				set_variable = { which = council_heresy value = 0 }
				set_variable = { which = council_reformation value = 0 }
				set_variable = { which = council_indulgences value = 0 }
				set_variable = { which = council_simony value = 0 }
				set_variable = { which = council_absenteeism value = 0 }
				set_variable = { which = council_consanguinity value = 0 }
				set_variable = { which = council_nepotism value = 0 }
				set_variable = { which = topics_chosen value = 0 }
			}
			PAP = { change_variable = { which = church_councils_count value = 1 } } #For modding analysis only, no game effect
			PAP = { set_country_flag = church_council_topics_chosen }
		} #End hidden effect
	}
	
	option = {
		name = dg_pope.032.a #Discuss fine points of theology
		ai_chance = { factor = 5 }
		add_prestige = 1
	}
	option = {
		name = dg_catholic.056.b #Try to mend the schism
		trigger = { exists = AVI exists = PAP }
		ai_chance = { factor = 25 }
		hidden_effect = { PAP = { change_variable = { which = council_topic_schism value = 1 } } }
	}
	option = {
		name = dg_catholic.056.c #Raise the issue of simony
		trigger = {
			has_country_flag = simony
			OR = {
				NOT = { PAP = { has_country_flag = simony_abolished } }
				NOT = { PAP = { has_country_flag = annate_abolished } }
			}
		}
		ai_chance = {
			factor = 5
			modifier = {
				PAP = { has_country_flag = simony_abolished }
				factor = 0.5
			}
			modifier = {
				PAP = { has_country_flag = annate_abolished }
				factor = 0.5
			}
		}
		hidden_effect = { PAP = { change_variable = { which = council_topic_simony value = 1 } } }
	}
	option = {
		name = dg_catholic.056.e #Raise the issue of absenteeism
		trigger = {
			has_country_flag = absenteeism
			OR = {
				NOT = { PAP = { has_country_flag = clerical_residence } }
				NOT = { PAP = { has_country_flag = seminaries } }
			}
		}
		ai_chance = {
			factor = 5
			modifier = {
				PAP = { has_country_flag = clerical_residence }
				factor = 0.5
			}
			modifier = {
				PAP = { has_country_flag = seminaries }
				factor = 0.5
			}
		}
		hidden_effect = { PAP = { change_variable = { which = council_topic_absenteeism value = 1 } } }
	}
	option = {
		name = dg_catholic.056.f #Raise the issue of indulgences
		trigger = {
			has_country_flag = indulgences_condemned
			NOT = { PAP = { has_country_flag = indulgences_banned } }
		}
		ai_chance = { factor = 20 }
		hidden_effect = { PAP = { change_variable = { which = council_topic_indulgences value = 1 } } }
	}
	option = {
		name = dg_catholic.056.g #Raise the issue of nepotism
		trigger = {
			has_country_flag = papal_nepotism
			NOT = { PAP = { has_country_flag = nepotism_abolished } }
		}
		ai_chance = { factor = 5 }
		hidden_effect = { PAP = { change_variable = { which = council_topic_nepotism value = 1 } } }
	}
	option = {
		name = dg_catholic.056.h #Raise the issue of consanguinity
		trigger = {
			has_country_flag = consanguinity_problems
			NOT = { PAP = { has_country_flag = limited_consanguinity_allowed } }
		}
		ai_chance = { factor = 5 }
		hidden_effect = { PAP = { change_variable = { which = council_topic_consanguinity value = 1 } } }
	}
	option = {
		name = dg_catholic.056.o #Deal with the issues raised by the Reformation
		trigger = {
			religion_years = { protestant = 10 }
			NOT = { has_global_flag = counter_reformation }
		}
		ai_chance = { factor = 30 }
		hidden_effect = { PAP = { change_variable = { which = council_topic_reformation value = 1 } } }
	}
}

country_event = { #Church Reform of Simony
	
	id = dg_pope.033
	title = dg_pope.033.t
	desc = dg_pope.033.d
	picture = catholic_simony
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_simony value = 1 } }
		NOT = { PAP = { has_country_flag = simony_abolished } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_simony value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
		modifier = {
			NOT = { is_religion_enabled = hussite }
			factor = 1.4
		}
		modifier = {
			NOT = { is_religion_enabled = reformed }
			factor = 1.4
		}
		modifier = {
			NOT = { is_religion_enabled = protestant }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_simony value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.033.a #Impose stringent rules to stop the practice
		trigger = {
			OR = {
				papal_influence = 10
				ai = yes
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = simony
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = simony_abolished value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = simony_abolished value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = simony_abolished value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = simony_abolished value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = simony_abolished value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = simony_abolished value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = simony_abolished value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = simony_abolished value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = simony_abolished value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = simony_abolished value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = simony_abolished value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = simony_abolished value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = simony_abolished value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = simony_abolished value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = simony_abolished value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = simony_abolished value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = simony_abolished value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = simony_abolished value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = simony_abolished value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = simony_abolished value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = simony_abolished value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = simony_abolished value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = simony_abolished value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = simony_abolished value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = simony_abolished value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = simony_abolished value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = simony_abolished
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.114 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = simony_abolished value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
	option = {
		name = dg_pope.033.b #Condemn the practice
		ai_chance = { factor = 60 }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = simony_abolished value = 2 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = simony_abolished value = 3 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = simony_abolished value = 4 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = simony_abolished value = 5 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = simony_abolished value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = simony_abolished value = 7 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = simony_abolished value = 8 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = simony_abolished value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = simony_abolished value = 10 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = simony_abolished value = 11 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = simony_abolished value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = simony_abolished value = 13 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = simony_abolished value = 14 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = simony_abolished value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = simony_abolished value = 16 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = simony_abolished value = 17 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = simony_abolished value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = simony_abolished value = 19 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = simony_abolished value = 20 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = simony_abolished value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = simony_abolished value = 22 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = simony_abolished value = 23 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = simony_abolished value = 24 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = simony_abolished value = 25 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = simony_abolished value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = simony_abolished value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = simony_abolished
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.114 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = simony_abolished value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
}

country_event = { #Church Reform of Indulgences
	
	id = dg_pope.034
	title = dg_pope.034.t
	desc = dg_pope.034.d
	picture = catholic_indulgences
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_indulgences value = 1 } }
		NOT = { PAP = { has_country_flag = indulgences_banned } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_indulgences value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
		modifier = {
			NOT = { is_religion_enabled = reformed }
			factor = 1.4
		}
		modifier = {
			NOT = { is_religion_enabled = protestant }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_indulgences value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.034.a #Forbid the sale of dispensation
		trigger = {
			OR = {
				papal_influence = 10
				ai = yes
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = indulgences_condemned
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = indulgences_banned value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = indulgences_banned value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = indulgences_banned value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = indulgences_banned value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = indulgences_banned
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.115 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = indulgences_condemned
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = indulgences_banned value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = indulgences_condemned
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
	option = {
		name = dg_pope.034.b #Condemn the excesses of indulgence peddlers
		ai_chance = { factor = 60 }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = indulgences_banned value = 2 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 3 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 4 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 5 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 7 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 8 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 10 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 11 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 13 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 14 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 16 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 17 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 19 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 20 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 22 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 23 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = indulgences_banned value = 24 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = indulgences_banned value = 25 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = indulgences_banned value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = indulgences_banned value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = indulgences_banned
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.115 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = indulgences_condemned
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = indulgences_banned value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = indulgences_condemned
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
}

country_event = { #Church Reform of Benefices
	
	id = dg_pope.035
	title = dg_pope.035.t
	desc = dg_pope.035.d
	picture = catholic_simony
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_simony value = 1 } }
		NOT = { PAP = { has_country_flag = annate_abolished } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_simony value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
		modifier = {
			NOT = { is_religion_enabled = reformed }
			factor = 1.4
		}
		modifier = {
			NOT = { is_religion_enabled = protestant }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_simony value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.035.a #
		trigger = {
			OR = {
				papal_influence = 10
				ai = yes
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = simony
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = annate_abolished value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = annate_abolished value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = annate_abolished value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = annate_abolished value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = annate_abolished value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = annate_abolished value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = annate_abolished value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = annate_abolished value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = annate_abolished value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = annate_abolished value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = annate_abolished value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = annate_abolished value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = annate_abolished value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = annate_abolished value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = annate_abolished value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = annate_abolished value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = annate_abolished value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = annate_abolished value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = annate_abolished value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = annate_abolished value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = annate_abolished value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = annate_abolished value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = annate_abolished value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = annate_abolished value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = annate_abolished value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = annate_abolished value = 100 } } }
			PAP = {
				set_country_flag = annate_abolished
				set_country_flag = council_accomplishments
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.116 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = annate_abolished value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
	option = {
		name = dg_pope.035.b #Condemn the excesses of indulgence peddlers
		ai_chance = { factor = 60 }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = annate_abolished value = 2 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = annate_abolished value = 3 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = annate_abolished value = 4 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = annate_abolished value = 5 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = annate_abolished value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = annate_abolished value = 7 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = annate_abolished value = 8 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = annate_abolished value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = annate_abolished value = 10 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = annate_abolished value = 11 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = annate_abolished value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = annate_abolished value = 13 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = annate_abolished value = 14 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = annate_abolished value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = annate_abolished value = 16 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = annate_abolished value = 17 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = annate_abolished value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = annate_abolished value = 19 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = annate_abolished value = 20 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = annate_abolished value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = annate_abolished value = 22 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = annate_abolished value = 23 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = annate_abolished value = 24 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = annate_abolished value = 25 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = annate_abolished value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = annate_abolished value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = annate_abolished
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.116 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = annate_abolished value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = simony
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
}

country_event = { #Church Reform of Clerical Instruction
	
	id = dg_pope.036
	title = dg_pope.036.t
	desc = dg_pope.036.d
	picture = catholic_monks_preaching
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_absenteeism value = 1 } }
		NOT = { PAP = { has_country_flag = seminaries } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_absenteeism value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
		modifier = {
			NOT = { is_religion_enabled = reformed }
			factor = 1.4
		}
		modifier = {
			NOT = { is_religion_enabled = protestant }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_absenteeism value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.036.a #
		trigger = {
			OR = {
				papal_influence = 10
				ai = yes
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = absenteeism
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = seminaries value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = seminaries value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = seminaries value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = seminaries value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = seminaries value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = seminaries value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = seminaries value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = seminaries value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = seminaries value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = seminaries value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = seminaries value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = seminaries value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = seminaries value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = seminaries value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = seminaries value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = seminaries value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = seminaries value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = seminaries value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = seminaries value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = seminaries value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = seminaries value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = seminaries value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = seminaries value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = seminaries value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = seminaries value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = seminaries value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = seminaries
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.117 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = seminaries value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
	option = {
		name = dg_pope.036.b #Condemn the excesses of indulgence peddlers
		ai_chance = { factor = 60 }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = seminaries value = 2 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = seminaries value = 3 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = seminaries value = 4 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = seminaries value = 5 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = seminaries value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = seminaries value = 7 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = seminaries value = 8 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = seminaries value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = seminaries value = 10 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = seminaries value = 11 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = seminaries value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = seminaries value = 13 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = seminaries value = 14 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = seminaries value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = seminaries value = 16 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = seminaries value = 17 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = seminaries value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = seminaries value = 19 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = seminaries value = 20 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = seminaries value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = seminaries value = 22 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = seminaries value = 23 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = seminaries value = 24 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = seminaries value = 25 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = seminaries value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = seminaries value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = seminaries
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.117 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = seminaries value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
}

country_event = { #Church Reform of Pluralism
	
	id = dg_pope.037
	title = dg_pope.037.t
	desc = dg_pope.037.d
	picture = catholic_bishop
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_absenteeism value = 1 } }
		NOT = { PAP = { has_country_flag = clerical_residence } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_absenteeism value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
		modifier = {
			NOT = { is_religion_enabled = reformed }
			factor = 1.4
		}
		modifier = {
			NOT = { is_religion_enabled = protestant }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_absenteeism value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.037.a #
		trigger = {
			OR = {
				papal_influence = 10
				ai = yes
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = absenteeism
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = clerical_residence value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = clerical_residence value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = clerical_residence value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = clerical_residence value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = clerical_residence value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = clerical_residence value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = clerical_residence value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = clerical_residence value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = clerical_residence value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = clerical_residence value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = clerical_residence value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = clerical_residence value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = clerical_residence value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = clerical_residence value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = clerical_residence value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = clerical_residence value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = clerical_residence value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = clerical_residence value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = clerical_residence value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = clerical_residence value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = clerical_residence value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = clerical_residence value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = clerical_residence value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = clerical_residence value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = clerical_residence value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = clerical_residence value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = clerical_residence
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.118 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = clerical_residence value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
	option = {
		name = dg_pope.037.b #Condemn the excesses of indulgence peddlers
		ai_chance = { factor = 60 }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = clerical_residence value = 2 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = clerical_residence value = 3 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = clerical_residence value = 4 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = clerical_residence value = 5 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = clerical_residence value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = clerical_residence value = 7 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = clerical_residence value = 8 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = clerical_residence value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = clerical_residence value = 10 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = clerical_residence value = 11 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = clerical_residence value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = clerical_residence value = 13 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = clerical_residence value = 14 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = clerical_residence value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = clerical_residence value = 16 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = clerical_residence value = 17 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = clerical_residence value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = clerical_residence value = 19 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = clerical_residence value = 20 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = clerical_residence value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = clerical_residence value = 22 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = clerical_residence value = 23 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = clerical_residence value = 24 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = clerical_residence value = 25 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = clerical_residence value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = clerical_residence value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = clerical_residence
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.118 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = clerical_residence value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = absenteeism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
}

country_event = { #Church Reform of Nepotism
	
	id = dg_pope.038
	title = dg_pope.038.t
	desc = dg_pope.038.d
	picture = catholic_papal_nepotism
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_nepotism value = 1 } }
		NOT = { PAP = { has_country_flag = nepotism_abolished } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_nepotism value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
		modifier = {
			NOT = { is_religion_enabled = reformed }
			factor = 1.4
		}
		modifier = {
			NOT = { is_religion_enabled = protestant }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_nepotism value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.038.a #
		trigger = {
			OR = {
				papal_influence = 10
				ai = yes
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = papal_nepotism
				factor = 2
			}
		}
		if = {
			limit = { tag = PAP }
			add_devotion = -5
		}
		else = {
			add_papal_influence = -10
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = nepotism_abolished value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = nepotism_abolished value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = nepotism_abolished value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = nepotism_abolished value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = nepotism_abolished
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.119 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = papal_nepotism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = nepotism_abolished value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = papal_nepotism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
	option = {
		name = dg_pope.038.b #
		ai_chance = { factor = 60 }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = nepotism_abolished value = 2 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 3 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 4 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 5 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 7 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 8 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 10 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 11 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 13 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 14 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 16 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 17 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 19 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 20 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 22 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 23 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = nepotism_abolished value = 24 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = nepotism_abolished value = 25 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = nepotism_abolished value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = nepotism_abolished value = 100 } } }
			hidden_effect = {
				PAP = {
					set_country_flag = nepotism_abolished
					set_country_flag = council_accomplishments
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						AND = {
							has_country_flag = simony
							has_country_flag = religious_news_trivial
						}
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.119 }
			}
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = papal_nepotism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_great }
					add_opinion = { who = ROOT modifier = papacy_good }
				}
			}
		}
		if = {
			limit = { PAP = { NOT = { check_variable = { which = nepotism_abolished value = 100 } } } }
			hidden_effect = {
				every_country = {
					limit = {
						has_country_flag = papal_nepotism
						religion = catholic
					}
					add_opinion = { who = PAP modifier = papacy_good }
				}
			}
		}
	}
}

country_event = { #Healing the Schism
	
	id = dg_pope.041
	title = dg_pope.041.t
	desc = dg_pope.041.d
	picture = catholic_schism
	
	trigger = {
		PAP = { check_variable = { which = council_topic_schism value = 1 } }
		PAP = { NOT = { has_country_flag = regular_councils_promised } }
		papal_trigger = yes
		religion = catholic
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_schism value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_schism value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.041.a #Promise to hold regular councils
		ai_chance = { factor = 40 }
		add_prestige = -5
		hidden_effect = {
			PAP = { set_country_flag = regular_councils_promised }
			PAP = { clr_country_flag = regular_councils_supposedly_promised }
		}
	}
	option = {
		name = dg_pope.041.b #Maintain the supremacy of the pope
		ai_chance = {
			factor = 60
			modifier = {
				PAP = { NOT = { check_variable = { which = stubborn_antipopes value = 1 } } }
				factor = 1.4
			}
			modifier = {
				PAP = { NOT = { check_variable = { which = stubborn_antipopes value = 2 } } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 3 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 4 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 5 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 6 } }
				factor = 0.7
			}
		}
		hidden_effect = { PAP = { change_variable = { which = stubborn_antipopes value = 1 } } }
		if = {
			limit = { PAP = { NOT = { check_variable = { which = stubborn_antipopes value = 1 } } } }
			add_prestige = 10
		}
		if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 1 } }
				NOT = { PAP = { check_variable = { which = stubborn_antipopes value = 2 } } }
			}
			add_prestige = 5
		}
		if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 2 } }
				NOT = { PAP = { check_variable = { which = stubborn_antipopes value = 3 } } }
			}
			add_prestige = 1
		}
		if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 3 } }
				NOT = { PAP = { check_variable = { which = stubborn_antipopes value = 4 } } }
			}
			add_prestige = -5
		}
		if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 4 } }
				NOT = { PAP = { check_variable = { which = stubborn_antipopes value = 5 } } }
			}
			add_prestige = -10
		}
		if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 5 } }
				NOT = { PAP = { check_variable = { which = stubborn_antipopes value = 6 } } }
			}
			add_prestige = -15
		}
		if = {
			limit = { PAP = { check_variable = { which = stubborn_antipopes value = 6 } } }
			add_prestige = -20
		}
	}
}

country_event = { #The Lollard Question
	
	id = dg_pope.042
	title = dg_pope.042.t
	desc = dg_pope.042.d
	picture = catholic_church_trial
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_lollardy value = 1 } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
		NOT = { PAP = { has_country_flag = lollardy_banned } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_lollardy value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.042.a #Declare Lollardy to be heresy
		every_country = {
			limit = { any_owned_province = { check_variable = { which = lollard_supporters value = 2 } } }
			country_event = { id = dg_hussite.011 days = 30 }
		}
		hidden_effect = {
			PAP = { set_country_flag = lollardy_banned }
			#Reveals Calixtines
			regiongroup = {
				region = {
					limit = { check_variable = { which = lollard_supporters value = 8 } }
					change_variable = { which = lollard_supporters value = -8 }
					change_variable = { which = hussite value = 8 }
					change_variable = { which = province_religion value = -8 }
				}
			}
			regiongroup = {
				region = {
					limit = { check_variable = { which = lollard_supporters value = 4 } }
					change_variable = { which = lollard_supporters value = -4 }
					change_variable = { which = hussite value = 4 }
					change_variable = { which = province_religion value = -4 }
				}
			}
			regiongroup = {
				region = {
					limit = { check_variable = { which = lollard_supporters value = 2 } }
					change_variable = { which = lollard_supporters value = -2 }
					change_variable = { which = hussite value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
			regiongroup = {
				region = {
					limit = { check_variable = { which = lollard_supporters value = 1 } }
					change_variable = { which = lollard_supporters value = -1 }
					change_variable = { which = hussite value = 1 }
					change_variable = { which = province_religion value = -1 }
				}
			}
		}
	}
}

###########################
# The Counter Reformation # 50s
###########################

country_event = { #Fate of the Catholic Church (the Vernacular)
	
	id = dg_pope.051
	title = dg_pope.051.t
	desc = dg_pope.051.d
	picture = protestant_translation
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_reformation value = 2 } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
		NOT = { PAP = { has_country_flag = latin_only } }
		NOT = { PAP = { has_country_flag = vernacular_allowed } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_reformation value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_reformation value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.051.a #Unity through Latin
		ai_chance = {
			factor = 60
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				has_country_flag = reformation_maybe
				factor = 0.5
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0.25
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0.25
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 16
			}
			else = {
				add_papal_influence = 16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 1
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -8
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -2
			}
			else = {
				add_papal_influence = -2
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_liberal_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = latin_only value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = latin_only value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = latin_only value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = latin_only value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = latin_only value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = latin_only value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = latin_only value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = latin_only value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = latin_only value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = latin_only value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = latin_only value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = latin_only value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = latin_only value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = latin_only value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = latin_only value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = latin_only value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = latin_only value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = latin_only value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = latin_only value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = latin_only value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = latin_only value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = latin_only value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = latin_only value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = latin_only value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = latin_only value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = latin_only value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = latin_only
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = 2 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.121 }
			}
		}
	}
	option = {
		name = dg_pope.051.b #Allow the local tongue to be used
		ai_chance = { factor = 40 }
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 8
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 2
			}
			else = {
				add_papal_influence = 2
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -16
			}
			else = {
				add_papal_influence = -16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -1
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_conservative_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = vernacular_allowed value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = vernacular_allowed value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = vernacular_allowed value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = vernacular_allowed value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = vernacular_allowed value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = vernacular_allowed
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = -1 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.122 }
			}
		}
	}
}

country_event = { #Fate of the Catholic Church (the Host)
	
	id = dg_pope.052
	title = dg_pope.052.t
	desc = dg_pope.052.d
	picture = catholic_monks_preaching #TEMP
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_reformation value = 1 } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
		NOT = { PAP = { has_country_flag = elite_priests } }
		NOT = { PAP = { has_country_flag = bread_and_wine } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_reformation value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_reformation value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.052.a #Priests have a special relationship with God
		ai_chance = {
			factor = 60
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				has_country_flag = reformation_maybe
				factor = 0.5
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0.25
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0.25
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 16
			}
			else = {
				add_papal_influence = 16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 1
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -8
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -2
			}
			else = {
				add_papal_influence = -2
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_liberal_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = elite_priests value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = elite_priests value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = elite_priests value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = elite_priests value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = elite_priests value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = elite_priests value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = elite_priests value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = elite_priests value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = elite_priests value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = elite_priests value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = elite_priests value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = elite_priests value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = elite_priests value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = elite_priests value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = elite_priests value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = elite_priests value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = elite_priests value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = elite_priests value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = elite_priests value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = elite_priests value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = elite_priests value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = elite_priests value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = elite_priests value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = elite_priests value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = elite_priests value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = elite_priests value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = elite_priests
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = 2 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.123 }
			}
		}
	}
	option = {
		name = dg_pope.052.b #All may partake of both hosts
		ai_chance = { factor = 40 }
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 8
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 2
			}
			else = {
				add_papal_influence = 2
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -16
			}
			else = {
				add_papal_influence = -16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -1
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_conservative_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = bread_and_wine value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = bread_and_wine value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = bread_and_wine value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = bread_and_wine value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = bread_and_wine value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = bread_and_wine
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = -1 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.124 }
			}
		}
	}
}

country_event = { #Fate of the Catholic Church (Scripture and Tradition)
	
	id = dg_pope.053
	title = dg_pope.053.t
	desc = dg_pope.053.d
	picture = all_publishing #TEMP
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_reformation value = 1 } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
		NOT = { PAP = { has_country_flag = tradition_counts } }
		NOT = { PAP = { has_country_flag = sola_scriptura } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_reformation value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_reformation value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.053.a #Scripture and Tradition are equally important
		ai_chance = {
			factor = 60
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				has_country_flag = reformation_maybe
				factor = 0.5
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0.25
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0.25
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 16
			}
			else = {
				add_papal_influence = 16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 1
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -8
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -2
			}
			else = {
				add_papal_influence = -2
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_liberal_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = tradition_counts value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = tradition_counts value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = tradition_counts value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = tradition_counts value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = tradition_counts value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = tradition_counts value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = tradition_counts value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = tradition_counts value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = tradition_counts value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = tradition_counts value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = tradition_counts value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = tradition_counts value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = tradition_counts value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = tradition_counts value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = tradition_counts value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = tradition_counts value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = tradition_counts value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = tradition_counts value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = tradition_counts value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = tradition_counts value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = tradition_counts value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = tradition_counts value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = tradition_counts value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = tradition_counts value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = tradition_counts value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = tradition_counts value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = tradition_counts
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = 2 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.125 }
			}
		}
	}
	option = {
		name = dg_pope.053.b #We must be based on scripture alone
		ai_chance = { factor = 40 }
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 8
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 2
			}
			else = {
				add_papal_influence = 2
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -16
			}
			else = {
				add_papal_influence = -16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -1
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_conservative_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = sola_scriptura value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = sola_scriptura value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = sola_scriptura value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = sola_scriptura value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = sola_scriptura value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = sola_scriptura
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = -1 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.126 }
			}
		}
	}
}

country_event = { #Fate of the Catholic Church (Good Works)
	
	id = dg_pope.054
	title = dg_pope.054.t
	desc = dg_pope.054.d
	picture = catholic_monks
	
	trigger = {
		is_papal_controller = yes
		PAP = { check_variable = { which = council_topic_reformation value = 1 } }
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
		NOT = { PAP = { has_country_flag = good_works_needed } }
		NOT = { PAP = { has_country_flag = faith_alone } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_reformation value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = papal_conciliarism }
			factor = 0.7
		}
		modifier = {
			NOT = { religion_years = { protestant = 40 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 30 } }
			factor = 1.1
		}
		modifier = {
			NOT = { religion_years = { protestant = 20 } }
			factor = 1.1
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { change_variable = { which = council_topic_reformation value = -1 } }
			PAP = { add_country_modifier = { name = council_session duration = 100 } }
		}
	}
	
	option = {
		name = dg_pope.054.a #Faith without works is dead
		ai_chance = {
			factor = 60
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
				factor = 1.4
			}
			modifier = {
				has_country_flag = reformation_maybe
				factor = 0.5
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0.25
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0.25
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 16
			}
			else = {
				add_papal_influence = 16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 1
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -8
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -2
			}
			else = {
				add_papal_influence = -2
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_liberal_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = good_works_needed value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = good_works_needed value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = good_works_needed value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = good_works_needed value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = good_works_needed value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = good_works_needed value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = good_works_needed value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = good_works_needed value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = good_works_needed value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = good_works_needed value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = good_works_needed value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = good_works_needed value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = good_works_needed value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = good_works_needed value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = good_works_needed value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = good_works_needed value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = good_works_needed value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = good_works_needed value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = good_works_needed value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = good_works_needed value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = good_works_needed value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = good_works_needed value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = good_works_needed value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = good_works_needed value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = good_works_needed value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = good_works_needed value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = good_works_needed
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = 2 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.127 }
			}
		}
	}
	option = {
		name = dg_pope.054.b #Faith alone will get you into Heaven
		ai_chance = { factor = 40 }
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 8
			if = {
				limit = { tag = PAP }
				add_devotion = 8
			}
			else = {
				add_papal_influence = 8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 4
			if = {
				limit = { tag = PAP }
				add_devotion = 4
			}
			else = {
				add_papal_influence = 4
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = liberal_reform_demand which = conservative_reform_demand } }
				NOT = { PAP = { check_variable = { which = conservative_reform_demand_weak which = liberal_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = 2
			if = {
				limit = { tag = PAP }
				add_devotion = 2
			}
			else = {
				add_papal_influence = 2
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -4
			if = {
				limit = { tag = PAP }
				add_devotion = -16
			}
			else = {
				add_papal_influence = -16
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				PAP = { has_country_flag = papal_conciliarism }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -2
			if = {
				limit = { tag = PAP }
				add_devotion = -8
			}
			else = {
				add_papal_influence = -8
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = conservative_reform_demand which = liberal_reform_demand } }
				NOT = { PAP = { check_variable = { which = liberal_reform_demand_weak which = conservative_reform_demand } } }
				NOT = { PAP = { has_country_flag = papal_conciliarism } }
			}
			add_prestige = -1
			if = {
				limit = { tag = PAP }
				add_devotion = -4
			}
			else = {
				add_papal_influence = -4
			}
		}
		every_country = {
			limit = {
				has_country_flag = supporting_conservative_church_reforms
				religion = catholic
				OR = {
					piety = 0.20
					government = theocracy
					is_defender_of_faith = yes
					is_emperor = yes
				}
			}
			add_opinion = { who = ROOT modifier = unpopular_church_reforms }
		}
		PAP = { add_country_modifier = { name = reform_tensions duration = 500 } }
		if = {
			limit = { NOT = { reform_desire = 0.15 } }
			PAP = { change_variable = { which = faith_alone value = 6 } }
		}
		if = {
			limit = {
				reform_desire = 0.15
				NOT = { reform_desire = 0.20 }
			}
			PAP = { change_variable = { which = faith_alone value = 9 } }
		}
		if = {
			limit = {
				reform_desire = 0.20
				NOT = { reform_desire = 0.25 }
			}
			PAP = { change_variable = { which = faith_alone value = 12 } }
		}
		if = {
			limit = {
				reform_desire = 0.25
				NOT = { reform_desire = 0.30 }
			}
			PAP = { change_variable = { which = faith_alone value = 15 } }
		}
		if = {
			limit = {
				reform_desire = 0.30
				NOT = { reform_desire = 0.35 }
			}
			PAP = { change_variable = { which = faith_alone value = 18 } }
		}
		if = {
			limit = {
				reform_desire = 0.35
				NOT = { reform_desire = 0.40 }
			}
			PAP = { change_variable = { which = faith_alone value = 21 } }
		}
		if = {
			limit = {
				reform_desire = 0.40
				NOT = { reform_desire = 0.45 }
			}
			PAP = { change_variable = { which = faith_alone value = 24 } }
		}
		if = {
			limit = {
				reform_desire = 0.45
				NOT = { reform_desire = 0.50 }
			}
			PAP = { change_variable = { which = faith_alone value = 27 } }
		}
		if = {
			limit = {
				reform_desire = 0.50
				NOT = { reform_desire = 0.55 }
			}
			PAP = { change_variable = { which = faith_alone value = 30 } }
		}
		if = {
			limit = {
				reform_desire = 0.55
				NOT = { reform_desire = 0.60 }
			}
			PAP = { change_variable = { which = faith_alone value = 33 } }
		}
		if = {
			limit = {
				reform_desire = 0.60
				NOT = { reform_desire = 0.65 }
			}
			PAP = { change_variable = { which = faith_alone value = 36 } }
		}
		if = {
			limit = {
				reform_desire = 0.65
				NOT = { reform_desire = 0.70 }
			}
			PAP = { change_variable = { which = faith_alone value = 39 } }
		}
		if = {
			limit = {
				reform_desire = 0.70
				NOT = { reform_desire = 0.75 }
			}
			PAP = { change_variable = { which = faith_alone value = 42 } }
		}
		if = {
			limit = {
				reform_desire = 0.75
				NOT = { reform_desire = 0.80 }
			}
			PAP = { change_variable = { which = faith_alone value = 45 } }
		}
		if = {
			limit = {
				reform_desire = 0.80
				NOT = { reform_desire = 0.85 }
			}
			PAP = { change_variable = { which = faith_alone value = 48 } }
		}
		if = {
			limit = {
				reform_desire = 0.85
				NOT = { reform_desire = 0.90 }
			}
			PAP = { change_variable = { which = faith_alone value = 51 } }
		}
		if = {
			limit = {
				reform_desire = 0.90
				NOT = { reform_desire = 0.95 }
			}
			PAP = { change_variable = { which = faith_alone value = 54 } }
		}
		if = {
			limit = {
				reform_desire = 0.95
				NOT = { reform_desire = 1.00 }
			}
			PAP = { change_variable = { which = faith_alone value = 57 } }
		}
		if = {
			limit = {
				reform_desire = 1.00
				NOT = { reform_desire = 1.05 }
			}
			PAP = { change_variable = { which = faith_alone value = 60 } }
		}
		if = {
			limit = {
				reform_desire = 1.05
				NOT = { reform_desire = 1.10 }
			}
			PAP = { change_variable = { which = faith_alone value = 63 } }
		}
		if = {
			limit = {
				reform_desire = 1.10
				NOT = { reform_desire = 1.15 }
			}
			PAP = { change_variable = { which = faith_alone value = 66 } }
		}
		if = {
			limit = {
				reform_desire = 1.15
				NOT = { reform_desire = 1.20 }
			}
			PAP = { change_variable = { which = faith_alone value = 69 } }
		}
		if = {
			limit = {
				reform_desire = 1.20
				NOT = { reform_desire = 1.25 }
			}
			PAP = { change_variable = { which = faith_alone value = 72 } }
		}
		if = {
			limit = { reform_desire = 1.25 }
			PAP = { change_variable = { which = faith_alone value = 75 } }
		}
		if = {
			limit = {
				PAP = { check_variable = { which = faith_alone value = 100 } }
				PAP = { has_country_flag = council_accomplishments }
			}
			add_reform_desire = -0.05
			hidden_effect = {
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_councils value = -5 } }
				}
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = faith_alone value = 100 } } }
			custom_tooltip = official_doctrine
			hidden_effect = {
				PAP = {
					set_country_flag = faith_alone
					set_country_flag = council_accomplishments
					change_variable = { which = traditional_doctrine value = -1 }
				}
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					OR = {
						is_papal_controller = yes
						tag = PAP
						has_country_flag = religious_news_all
					}
				}
				country_event = { id = dg_catholic.128 }
			}
		}
	}
}

country_event = { #The Counter-Reformation
	
	id = dg_pope.055
	title = dg_pope.055.t
	desc = dg_pope.055.d
	picture = all_ordination
	
	trigger = {
		is_papal_controller = yes
		NOT = { has_global_flag = counter_reformation }
		NOT = { has_global_flag = catholic_reformation }
		OR = {
			PAP = { has_country_flag = good_works_needed }
			PAP = { has_country_flag = faith_alone }
		}
		OR = {
			PAP = { has_country_flag = tradition_counts }
			PAP = { has_country_flag = sola_scriptura }
		}
		OR = {
			PAP = { has_country_flag = bread_and_wine }
			PAP = { has_country_flag = elite_priests }
		}
		OR = {
			PAP = { has_country_flag = latin_only }
			PAP = { has_country_flag = vernacular_allowed }
		}
		PAP = { check_variable = { which = traditional_doctrine value = 0 } }
	}
	
	mean_time_to_happen = { months = 3 }
	
	option = {
		name = dg_pope.055.a #There can be no compromise with heresy
		set_global_flag = counter_reformation
	}
}

country_event = { #The Catholic Reformation
	
	id = dg_pope.056
	title = dg_pope.056.t
	desc = dg_pope.056.d
	picture = catholic_court #TEMP
	
	trigger = {
		is_papal_controller = yes
		NOT = { has_global_flag = counter_reformation }
		NOT = { has_global_flag = catholic_reformation }
		OR = {
			PAP = { has_country_flag = good_works_needed }
			PAP = { has_country_flag = faith_alone }
		}
		OR = {
			PAP = { has_country_flag = tradition_counts }
			PAP = { has_country_flag = sola_scriptura }
		}
		OR = {
			PAP = { has_country_flag = bread_and_wine }
			PAP = { has_country_flag = elite_priests }
		}
		OR = {
			PAP = { has_country_flag = latin_only }
			PAP = { has_country_flag = vernacular_allowed }
		}
		NOT = { PAP = { check_variable = { which = traditional_doctrine value = 0 } } }
	}
	
	mean_time_to_happen = { months = 3 }
	
	immediate = {
		set_global_flag = counter_reformation
		set_global_flag = catholic_reformation
	}
	
	option = {
		name = dg_pope.056.b #Demand absolute submission to the church
		ai_chance = { factor = 75 }
		hidden_effect = { PAP = { set_country_flag = absolute_submission } }
	}
	option = {
		name = dg_pope.056.a #Allow heretics to keep stolen property
		ai_chance = { factor = 25 }
		if = {
			limit = { piety = 0.60 }
			add_prestige = -25
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -20
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -15
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -10
		}
		else = {
			add_prestige = -5
		}
	}
}

country_event = { #Founding of the Jesuits (1540, 23 years after the Reformation began)
	
	id = dg_pope.057
	title = dg_pope.057.t
	desc = dg_pope.057.d
	picture = catholic_order_founded
	
	trigger = {
		is_papal_controller = yes
		religion_years = { protestant = 10 }
		PAP = { NOT = { has_country_flag = jesuits_founded } }
		has_global_flag = living_pope
	}
	
	mean_time_to_happen = {
		
		years = 20#Founded in 1540, 23 years after the Reformation began
		
		
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = tradition_counts }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = elite_priests }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = good_works_needed }
			factor = 0.7
		}
		modifier = {
			PAP = { has_country_flag = latin_only }
			factor = 0.7
		}
	}
	
	option = {
		name = dg_pope.057.a #Give them free reign to fight heresy
		ai_chance = { factor = 80 }
		hidden_effect = {
			PAP = {
				set_country_flag = jesuits_founded
				change_variable = { which = jesuit_support value = 2 }
			}
		}
	}
	option = {
		name = dg_pope.057.b #Keep them on a short leash
		ai_chance = { factor = 20 }
		hidden_effect = {
			PAP = {
				set_country_flag = jesuits_founded
				set_country_flag = jesuits_limited
				change_variable = { which = jesuit_support value = 1 }
			}
		}
	}
}

country_event = { #The Chinese Rites Controversy
	
	id = dg_pope.058
	title = dg_pope.058.t
	desc = dg_pope.058.d
	picture = catholic_jesuits_asia
	
	trigger = {
		is_papal_controller = yes
		PAP = { has_country_flag = chinese_rites_debated }
		NOT = { PAP = { has_country_flag = chinese_rites_allowed } }
		NOT = { PAP = { has_country_flag = chinese_rites_banned } }
		has_global_flag = living_pope
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			has_country_flag = chinese_rites_considered
			factor = 0.5
		}
	}
	
	option = {
		name = dg_pope.058.a #Take some time to consider the implications
		ai_chance = {
			factor = 60
			modifier = {
				PAP = { has_country_flag = chinese_rites_considered }
				factor = 0.5
			}
		}
		if = {
			limit = { PAP = { has_country_flag = chinese_rites_considered } }
			if = {
				limit = { tag = PAP }
				add_devotion = -5
			}
			else = {
				add_papal_influence = -5
			}
		}
		PAP = { set_country_flag = chinese_rites_considered }
	}
	option = {
		name = dg_pope.058.b #The truth cannot be bent even in a good cause
		ai_chance = { factor = 30 }
		PAP = { set_country_flag = chinese_rites_banned }
		every_country = {
			limit = {
				has_country_flag = jesuit_missions_encouraged
				religion = catholic
				OR = {
					has_country_flag = jesuit_missions_supported
					AND = {
						NOT = { any_owned_province = { has_province_modifier = dominican_order } }
						NOT = { any_owned_province = { has_province_modifier = franciscan_order } }
					}
				}
			}
			add_opinion = { who = ROOT modifier = papacy_bad }
		}
	}
	option = {
		name = dg_pope.058.c #The end justifies the means
		ai_chance = { factor = 10 }
		if = {
			limit = { tag = PAP }
			add_devotion = -10
		}
		else = {
			add_papal_influence = -20
		}
		PAP = { set_country_flag = chinese_rites_allowed }
		every_country = {
			limit = {
				religion = catholic
				NOT = { has_country_flag = jesuit_missions_supported }
				OR = {
					any_owned_province = { has_province_modifier = dominican_order }
					any_owned_province = { has_province_modifier = franciscan_order }
					AND = {
						piety = -0.20
						NOT = { has_country_flag = jesuit_missions_encouraged }
					}
				}
			}
			add_opinion = { who = ROOT modifier = papacy_bad }
		}
	}
}

country_event = { #64 - Rival Faction
	
	id = dg_pope.064
	title = dg_pope.064.t
	desc = dg_pope.064.d
	picture = catholic_college_of_cardinals # pending a better choice of picture by David
	
	is_triggered_only = yes
	
	option = {
		name = dg_pope.064.a
		if = {
			limit = { FROM = { NOT = { check_variable = { which = popes_controlled value = 4 } } } }
			add_papal_influence = 30
		}
		if = {
			limit = { FROM = { is_variable_equal = { which = popes_controlled value = 4 } } }
			add_papal_influence = 40
		}
		if = {
			limit = { FROM = { is_variable_equal = { which = popes_controlled value = 5 } } }
			add_papal_influence = 50
		}
		if = {
			limit = { FROM = { is_variable_equal = { which = popes_controlled value = 6 } } }
			add_papal_influence = 60
		}
		if = {
			limit = { FROM = { is_variable_equal = { which = popes_controlled value = 7 } } }
			add_papal_influence = 70
		}
		if = {
			limit = { FROM = { is_variable_equal = { which = popes_controlled value = 8 } } }
			add_papal_influence = 80
		}
		if = {
			limit = { FROM = { is_variable_equal = { which = popes_controlled value = 9 } } }
			add_papal_influence = 90
		}
		if = {
			limit = { FROM = { check_variable = { which = popes_controlled value = 10 } } }
			add_papal_influence = 100
		}
	}
}

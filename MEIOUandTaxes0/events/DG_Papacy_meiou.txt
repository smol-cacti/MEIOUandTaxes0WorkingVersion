namespace = dg_papacy
#65 of 65 planned events completed

##############################################
# Events for the Papal States (not the pope) #
##############################################

#RESTORING THE PAPAL STATES (0s and 10s)

#01 - The Papal States (Rome)
#02 - Pope in Exile
#03 - REMOVED
#04 - REMOVED
#05 - REMOVED
#06 - The Restoration
#07 - The Papal States (non-Rome)
#08 - The Independence of the Vatican
#09 - The obstinacy of the pope
#10 - Concordat with Rome
#11 - Concordat with Rome signed (reaction)
#12 - REMOVED
#13 - Restoration of the Papal States
#14 - Vicar of $PROVINCECAPITAL$
#15 - Noble feud in $PROVINCECAPITAL$
#16 - Banditry in $PROVINCENAME$
#17 - Bandits dispersed in $PROVINCENAME$
#18 - The $MONARCHTITLE$'s will
#19 - A princely donation

#SCHISMS AND ANTIPOPES (20s and 30s)

#22 - The way of withdrawal
#23 - The submission of the pope
#24 - The $CAPITAL$ Papacy (victory of one side)
#25 - Cardinals break ranks with $CAPITAL_CITY$
#26 - Cardinals depose the pope
#27 - $MONARCH$'s defiance (moved capital from donation)
#28 - Mob invades conclave
#29 - End of the schism (maintenance)
#30 - End of the schism (notifier)
#31 - Donation of Monarch (annoying code)
#32 - An invitation
#33 - The pope declines our offer
#34 - The captivity
#35 - Factions within the Curia
#36 - Deposing a pope
#37 - Habemus Papam! (mob election)

#PAPACY RANDOM EVENTS (40s and 50s)

#41 - Jubilee $YEAR$
#42 - Papal Relations
#43 - The Papal Court
#44 - The Church's Patronage
#45 - The glory of $CAPITAL_CITY$
#46 - Papal Finances
#47 - CONSOLIDATED
#48 - CONSOLIDATED
#49 - The sack of Rome (Papal States)
#50 - The sack of Rome (Attacker)
#51 - The $PRIMARY_CULTURE$ pope
#52 - Questioning the Donation of Constantine
#53 - Pope's Legitimacy Questioned
#54 - Pope $MONARCH$ the Wicked (Alexander VI + poison)
#55 - Pope $MONARCH$ the Lustful (Alexander VI + lucrezia)
#56 - Conspiracy against the Pope (Leo X)
#57 - Conspiracy against the Pope (each nation with cardinals)

#CHURCH-WIDE EVENTS RELATED TO THE PAPACY (60s and 70s)

#61 - Charitable order founded
#62 - Charitable order founded (Catholic countries)
#63 - Missionary order founded
#64 - Missionary order founded (Catholic countries)
#65 - Call for Crusade
#67 - Vatican Power Struggles (notifier)
#68 - Monopoly established
#69 - Monopoly undermined

#################
# Papal Reforms # 80s and 90s
#################

#81 - Internationalization of the College
#82 - The College of Cardinals
#83 - Conclave Rules (1562)
#84 - Index of Prohibited Books (1559)
#85 - Ad Limina Visits (1585)
#86 - The new Vulgate Bible (1555)
#87 - A Roman Inquisition (1588)
#88 - Rules against nepotism (1691)

##############
# The Papacy #
##############

country_event = { #Papal States
	
	id = dg_papacy.001
	title = dg_papacy.001.t
	desc = dg_papacy.001.d
	picture = catholic_papal_envoy
	
	trigger = {
		NOT = { exists = PAP }
		NOT = { exists = ITA }
		owns_rome_trigger = yes
		NOT = { has_country_flag = papacy_rejected }
		papal_trigger = no
		NOT = { tag = PA2 }
		NOT = { has_country_flag = concordat_with_vatican }
		religion = catholic
	}
	
	mean_time_to_happen = {
		
		months = 24
		
		modifier = {
			PAP = { check_variable = { which = papal_authority value = 300 } }
			factor = 0.7
		}
		modifier = {
			PAP = { check_variable = { which = papal_authority value = 400 } }
			factor = 0.7
		}
		modifier = {
			PAP = { check_variable = { which = papal_authority value = 500 } }
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	option = {
		name = dg_papacy.001.a #Give the Vicar of Rome his rightful lands
		ai_chance = {
			factor = 50
			modifier = {
				is_papal_controller = yes
				factor = 1.4
			}
			modifier = {
				has_country_flag = excommunicated
				factor = 1.4
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 100 } } }
				factor = 0.7
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 200 } } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 300 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 400 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 1.4
			}
		}
		add_papal_influence = 100
		if = {
			limit = { PAP = { NOT = { religion = catholic } } }
			PAP = { change_religion = catholic }
		}
		if = {
			limit = { PAP = { papal_trigger = no } }
			PAP = { papafication_effect = yes }
		}
		if = {
			limit = {
				NOT = { 2530 = { is_core = PAP } }
			}
			PAP = { add_core = 2530 }
		}
		2530 = {
			cede_province = PAP
			PREV = {
				if = {
					limit = { piety = 0.60 }
					add_prestige = 12
				}
				else_if = {
					limit = { piety = 0.20 }
					add_prestige = 9
				}
				else_if = {
					limit = { piety = -0.20 }
					add_prestige = 6
				}
				else_if = {
					limit = { piety = -0.60 }
					add_prestige = 3
				}
			}
		}
		clr_country_flag = dispensation_denied
		set_country_flag = dispensation_granted
		PAP = {
			set_country_flag = rome_returned
			country_event = { id = dg_papacy.013 }
		}
		every_known_country = {
			limit = {
				religion = catholic
				NOT = { has_country_flag = support_antipope }
				OR = {
					is_papal_controller = yes
					tag = PAP
				}
			}
			add_opinion = { who = ROOT modifier = donation_of_constantine_fanatical }
		}
		every_known_country = {
			limit = {
				religion = catholic
				is_papal_controller = no
				NOT = { tag = PAP }
				papal_trigger = no
				NOT = { has_country_flag = support_antipope }
				OR = {
					piety = 0.60
					is_defender_of_faith = yes
				}
			}
			add_opinion = { who = ROOT modifier = donation_of_constantine_pious }
		}
		hidden_effect = { #Just too many Catholic countries!
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					is_defender_of_faith = no
				}
				if = {
					limit = {
						NOT = { piety = 0.60 }
						piety = 0.20
					}
					add_opinion = { who = ROOT modifier = donation_of_constantine_observant }
				}
				if = {
					limit = {
						NOT = { piety = 0.20 }
						piety = -0.20
					}
					add_opinion = { who = ROOT modifier = donation_of_constantine_decadent }
				}
			}
		}
	}
	option = {
		name = dg_papacy.001.b #Rome is ours now
		ai_chance = {
			factor = 50
			modifier = {
				NOT = { num_of_cities = 5 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cities = 3 }
				factor = 1.4
			}
			modifier = {
				num_of_cities = 16
				factor = 0.7
			}
			modifier = {
				num_of_cities = 32
				factor = 0.7
			}
			modifier = {
				num_of_cities = 64
				factor = 0.7
			}
			modifier = {
				num_of_cities = 128
				factor = 0.7
			}
			modifier = {
				2530 = { is_core = ROOT }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				piety = 0.60
				factor = 0.7
			}
		}
		add_papal_influence = -50
		dg_reduce_legitimacy_large = yes
		if = {
			limit = { piety = 0.20 }
			subtract_stability_1 = yes
		}
		every_known_country = {
			limit = {
				religion = catholic
				NOT = { has_country_flag = support_antipope }
				OR = {
					is_papal_controller = yes
					tag = PAP
				}
			}
			add_opinion = { who = ROOT modifier = babylonian_captivity_fanatical }
			add_casus_belli = { type = cb_insult months = 60 target = ROOT }
		}
		every_known_country = {
			limit = {
				religion = catholic
				is_papal_controller = no
				NOT = { tag = PAP }
				papal_trigger = no
				NOT = { has_country_flag = support_antipope }
				OR = {
					piety = 0.60
					is_defender_of_faith = yes
				}
			}
			add_opinion = { who = ROOT modifier = babylonian_captivity_pious }
			add_casus_belli = { type = cb_insult months = 12 target = ROOT }
		}
		hidden_effect = { #Just too many Catholic countries
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					NOT = { piety = 0.60 }
					is_defender_of_faith = no
					piety = 0.20
				}
				add_opinion = { who = ROOT modifier = babylonian_captivity_observant }
			}
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					NOT = { piety = 0.20 }
					is_defender_of_faith = no
					piety = -0.20
				}
				add_opinion = { who = ROOT modifier = babylonian_captivity_decadent }
			}
			set_country_flag = papacy_rejected #Removed with next ruler - permanent solution is to reach a concordat_with_vatican with Rome
			set_country_flag = excommunication_secular_rome
		} #End hidden effect
	}
}

country_event = { #The Pope in Exile
	
	id = dg_papacy.002
	title = dg_papacy.002.t
	desc = dg_papacy.002.d
	picture = catholic_papal_envoy
	
	is_triggered_only = yes #By new pope
	
	immediate = {
		hidden_effect = {
			#Deciding how suitable each province is
			every_owned_province = {
				set_variable = { which = papal_suitability value = 2 }
			}
			every_owned_province = {
				limit = {
					NOT = { any_neighbor_province = { NOT = { owned_by = ROOT } } }
				}
				change_variable = { which = papal_suitability value = 1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { NOT = { alliance_with = ROOT } }
						owner = { NOT = { is_subject_of = ROOT } }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { is_rival = ROOT }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { NOT = { religion = catholic } }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { NOT = { religion_group = christian } }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { NOT = { religion = catholic } } }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { NOT = { religion_group = christian } } }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { owned_by = ROOT } }
				change_variable = { which = papal_suitability value = 3 }
			}
			every_owned_province = {
				limit = { has_province_modifier = catholic_archbishopric }
				change_variable = { which = papal_suitability value = 1 }
			}
			every_owned_province = {
				limit = { culture_group = ROOT }
				change_variable = { which = papal_suitability value = 1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { owned_by = ROOT is_capital = yes } }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { has_port = yes }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { base_tax = 7 }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { base_tax = 14 }
				change_variable = { which = papal_suitability value = -1 }
			}
			#every_owned_province = {
			#	limit = { trade_goods = gold }
			#	change_variable = { which = papal_suitability value = -1 }
			#}
			every_owned_province = {
				limit = {
					OR = {
						is_colony = yes
						NOT = { religion = catholic }
						NOT = { continent = europe }
						is_capital = yes
						NOT = { is_core = owner }
						province_rome_trigger = yes
					}
				}
				set_variable = { which = papal_suitability value = 0 }
			}
			#Choosing the most desireable province
			set_country_flag = papacy_location_choice
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 9 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 9 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 8 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 8 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 7 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 7 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 6 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 6 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 5 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 5 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 4 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 4 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 3 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 3 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 2 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 2 } }
				set_province_flag = papacy_location_choice
			}
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					check_variable = { which = papacy_suitability value = 1 }
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 1 } }
				set_province_flag = papacy_location_choice
			}
			#There are no good sites
			random_owned_province = {
				limit = {
					owner = { has_country_flag = papacy_location_choice }
					religion = catholic
					is_city = yes
					is_capital = no
					NOT = { has_province_modifier = center_of_trade_modifier }
					NOT = { base_tax = 6 }
					#NOT = { trade_goods = gold }
					#NOT = { trade_goods = gems }
					#NOT = { trade_goods = silver }
					university_province_trigger = no
					NOT = { has_building = fine_arts_academy }
					# NOT = { has_building = admiralty }
					# NOT = { has_building = war_college }
					# NOT = { has_building = royal_palace }
					controlled_by = owner
					has_siege = no
				}
				owner = { clr_country_flag = papacy_location_choice }
				owner = { set_variable = { which = papacy_location_suitability value = 0 } }
				set_province_flag = papacy_location_choice
			}
			#Cleanup
			every_owned_province = {
				set_variable = { which = papacy_suitability value = 0 }
			}
		} #End hidden
	}
	
	option = {
		name = dg_papacy.002.a #Donate land to make a new holy see
		trigger = { num_of_cities = 8 }
		ai_chance = {
			factor = 10
			modifier = {
				check_variable = { which = papal_location_suitability value = 9 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = papal_location_suitability value = 7 }
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = papal_location_suitability value = 5 } }
				factor = 1.4
			}
			modifier = {
				NOT = { check_variable = { which = papal_location_suitability value = 3 } }
				factor = 1.4
			}
			modifier = {
				NOT = { check_variable = { which = papal_location_suitability value = 1 } }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cities = 8 }
				factor = 0.7
			}
			modifier = {
				NOT = { num_of_cities = 12 }
				factor = 0.7
			}
			modifier = {
				num_of_cities = 24
				factor = 1.4
			}
			modifier = {
				num_of_cities = 48
				factor = 1.4
			}
			modifier = {
				num_of_cities = 96
				factor = 1.4
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_papal_influence = 200
		hidden_effect = {
			set_variable = { which = papal_location_suitability value = 0 }
			set_country_flag = constantine_donation_cf
			set_country_flag = curia_controller
			clr_country_flag = enemy_of_pope
			clr_country_flag = rival_of_pope
			clr_country_flag = dispensation_denied
			set_country_flag = dispensation_granted
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = 20
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = 15
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = 10
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = 5
		}
		every_known_country = {
			limit = {
				religion = catholic
				NOT = { has_country_flag = support_antipope }
				OR = {
					is_papal_controller = yes
					tag = PAP
				}
			}
			add_opinion = { who = ROOT modifier = donation_of_constantine_fanatical }
		}
		every_known_country = {
			limit = {
				religion = catholic
				is_papal_controller = no
				NOT = { tag = PAP }
				papal_trigger = no
				NOT = { has_country_flag = support_antipope }
				OR = {
					piety = 0.60
					is_defender_of_faith = yes
				}
			}
			add_opinion = { who = ROOT modifier = donation_of_constantine_pious }
		}
		hidden_effect = { #Too many Catholic countries
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					NOT = { piety = 0.60 }
					is_defender_of_faith = no
					piety = 0.20
				}
				add_opinion = { who = ROOT modifier = donation_of_constantine_observant }
			}
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					NOT = { piety = 0.20 }
					is_defender_of_faith = no
					piety = -0.20
				}
				add_opinion = { who = ROOT modifier = donation_of_constantine_decadent }
			}
		}
		random_owned_province = {
			limit = { has_province_flag = papacy_location_choice }
			clr_province_flag = papacy_location_choice
			set_province_flag = constantine_donation_pf
			#if = {
			#	limit = {
			#		temple_trigger = yes
			#		cathedral_trigger = no
			#		}
			#	remove_building = temple
			#	add_building = great_temple
			#	}
			if = {
				limit = {
					num_free_building_slots = 1
					cathedral_trigger = no
					temple_trigger = no
				}
				add_building = temple
			}
			remove_core = ROOT
			add_core = PAP
			cede_province = PAP
		}
		reverse_add_opinion = { who = PAP modifier = donation_of_constantine_fanatical }
		create_guarantee = PAP
	}
	option = {
		name = dg_papacy.002.b #Set up the pope with a lavish court
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { treasury = 200 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 100 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 50 }
				factor = 0.7
			}
		}
		add_treasury = -100
		set_country_flag = papal_court_large
		clr_country_flag = papal_court_small
		hidden_effect = {
			every_owned_province = { clr_province_flag = papacy_location_choice }
			set_variable = { which = papal_location_suitability value = 0 }
		}
	}
	option = {
		name = dg_papacy.002.c #Set up the pope with a small court
		ai_chance = {
			factor = 20
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 100 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 50 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 25 }
				factor = 0.7
			}
		}
		add_treasury = -25
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
		set_country_flag = papal_court_small
		clr_country_flag = papal_court_large
		hidden_effect = {
			every_owned_province = { clr_province_flag = papacy_location_choice }
			set_variable = { which = papal_location_suitability value = 0 }
		}
	}
	option = {
		name = dg_papacy.002.e #Provide the pope with a sinecure
		ai_chance = {
			factor = 20
		}
		add_treasury = -10
		if = {
			limit = { piety = 0.60 }
			add_prestige = -8
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -6
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -2
		}
		clr_country_flag = papal_court_small
		clr_country_flag = papal_court_large
		hidden_effect = {
			every_owned_province = { clr_province_flag = papacy_location_choice }
			set_variable = { which = papal_location_suitability value = 0 }
		}
	}
}

country_event = { #The Restoration
	
	id = dg_papacy.006
	title = dg_papacy.006.t
	desc = dg_papacy.006.d
	picture = catholic_st_peters #TEMP
	
	trigger = {
		tag = PAP
		OR = {
			papal_trigger = no
			NOT = { religion = catholic }
		}
		NOT = { has_country_flag = secular_government }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = dg_papacy.006.a #The pope rules the papal states again
		ai_chance = {
			factor = 50
			modifier = {
				religion = catholic
				factor = 2
			}
		}
		add_prestige = -10
		papafication_effect = yes
		define_ruler = { }
		change_religion = catholic
		force_converted = yes
	}
	option = {
		name = dg_papacy.006.b #The pope is a mere figurehead
		ai_chance = {
			factor = 50
			modifier = {
				num_of_cities = 5
				factor = 1.4
			}
			modifier = {
				num_of_cities = 10
				factor = 1.4
			}
			modifier = {
				num_of_cities = 20
				factor = 1.4
			}
			modifier = {
				num_of_cities = 40
				factor = 1.4
			}
		}
		change_primary_culture = capital
		if = {
			limit = { papal_trigger = yes }
			feudalisation_effect = yes
		}
		else_if = {
			limit = { ITA = { exists = yes } URB = { exists = yes } AQU = { exists = yes } }
			set_country_flag = secular_government
		}
		else_if = {
			limit = { ITA = { exists = yes } URB = { exists = yes } AQU = { exists = no } }
			change_tag = AQU
			swap_free_idea_group = yes
			if = {
				limit = { ai = yes }
				country_event = { id = ideagroups.9001 days = 30 }
			}
		}
		else_if = {
			limit = { ITA = { exists = yes } URB = { exists = no } }
			change_tag = URB
			swap_free_idea_group = yes
			if = {
				limit = { ai = yes }
				country_event = { id = ideagroups.9001 days = 30 }
			}
		}
		else_if = {
			limit = { ITA = { exists = no } }
			change_tag = ITA
			swap_free_idea_group = yes
			if = {
				limit = { ai = yes }
				country_event = { id = ideagroups.9001 days = 30 }
			}
		}
		hidden_effect = {
			PAP = {
				change_religion = catholic
				papafication_effect = yes
			}
		}
	}
}

province_event = { #The Papal States
	
	id = dg_papacy.007
	title = dg_papacy.007.t
	desc = dg_papacy.007.d
	picture = catholic_excommunication #TEMP
	
	trigger = {
		is_core = PAP
		PAP = { primary_culture = ROOT }
		NOT = { is_core = ROOT }
		north_italy_region_trigger = yes
		exists = PAP
		owner = {
			num_of_cities = 2
			religion = catholic
			NOT = { has_country_flag = italian_ambitions }
			papal_trigger = no
			NOT = { has_country_flag = support_antipope }
			NOT = { has_country_flag = concordat_with_vatican }
		}
	}
	
	mean_time_to_happen = {
		
		years = 5
		
		modifier = {
			owner = { has_country_flag = excommunicated }
			factor = 5
		}
	}
	
	option = {
		name = dg_papacy.007.a #Give $PROVINCENAME$ back to the pope
		ai_chance = { factor = 80 }
		cede_province = PAP
		PAP = {
			set_country_flag = rome_returned
			country_event = { id = dg_papacy.013 }
		}
		owner = {
			add_papal_influence = 25
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
			}
			hidden_effect = {
				clr_country_flag = dispensation_denied
				set_country_flag = dispensation_granted
			}
			every_known_country = {
				limit = {
					religion = catholic
					NOT = { has_country_flag = support_antipope }
					tag = PAP
				}
				add_opinion = { who = ROOT modifier = donation_of_constantine_pious }
			}
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					OR = {
						is_papal_controller = yes
						piety = 0.60
						is_neighbor_of = PREV
						is_defender_of_faith = yes
					}
				}
				add_opinion = { who = ROOT modifier = donation_of_constantine_observant }
			}
		}
	}
	option = {
		name = dg_papacy.007.b #We need a new balance of power
		ai_chance = { factor = 20 }
		owner = {
			hidden_effect = { set_country_flag = italian_ambitions }
			add_papal_influence = -25
			if = {
				limit = { piety = 0.60 }
				add_prestige = -4
				subtract_stability_1 = yes
				add_country_modifier = { name = religious_scandal_country duration = 800 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = -3
				add_country_modifier = { name = religious_scandal_country duration = 600 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = -2
				add_country_modifier = { name = religious_scandal_country duration = 400 }
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = -1
				add_country_modifier = { name = religious_scandal_country duration = 200 }
			}
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					OR = {
						is_papal_controller = yes
						piety = 0.60
						is_neighbor_of = PREV
						is_defender_of_faith = yes
					}
				}
				add_opinion = { who = PREV modifier = babylonian_captivity_observant }
			}
		}
	}
}

country_event = { #Independence of the Vatican
	
	id = dg_papacy.008
	title = dg_papacy.008.t
	desc = dg_papacy.008.d
	picture = catholic_concordat_with_rome
	
	is_triggered_only = yes #By decision of the owner of Rome (papal states must not exist, Rome must be theirs)
	
	immediate = { hidden_effect = { PAP = { change_variable = { which = vatican_weakness value = 1 } } } }
	
	option = {
		name = dg_papacy.008.a #Rome is the rightful seat of the pope
		ai_chance = {
			factor = 80
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 2 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 3 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 4 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 5 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 6 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 7 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 8 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 9 } }
				factor = 0.7
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 10 } }
				factor = 0.7
			}
			modifier = {
				owns_rome_trigger = yes
				factor = 0
			}
			modifier = {
				2530 = { owner = { has_country_flag = excommunicated } }
				factor = 1.4
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				2530 = { owner = { num_of_cities = 10 } }
				NOT = { num_of_cities = 6 }
				factor = 0.7
			}
			modifier = {
				2530 = { owner = { num_of_cities = 20 } }
				NOT = { num_of_cities = 11 }
				factor = 0.7
			}
			modifier = {
				2530 = { owner = { num_of_cities = 40 } }
				NOT = { num_of_cities = 21 }
				factor = 0.7
			}
			modifier = {
				2530 = { owner = { num_of_cities = 80 } }
				NOT = { num_of_cities = 41 }
				factor = 0.7
			}
			modifier = {
				any_rival_country = { owns = 2530 } # Roma
				factor = 1.4
			}
			modifier = {
				any_enemy_country = { owns = 2530 } # Roma
				factor = 1.4
			}
		}
		#This position gets harder to maintain the more often this event has fired
		hidden_effect = { PAP = { clr_country_flag = concordat_offered } }
		if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 10 } }
			}
			add_prestige = -20
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 9 } }
			}
			add_prestige = -18
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 8 } }
			}
			add_prestige = -16
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 7 } }
			}
			add_prestige = -14
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 6 } }
			}
			add_prestige = -12
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 5 } }
			}
			add_prestige = -10
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 4 } }
			}
			add_prestige = -8
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 3 } }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 2 } }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = vatican_weakness value = 1 } }
			}
			add_prestige = -2
		}
		#random_country = {
		#	limit = { owns = 2530 }
		#	country_event = { id = dg_papacy.009 days = 30 } #The obstinacy of the pope
		#	add_casus_belli = { type = cb_insult target = ROOT months = 12 }
		#}
		2530 = {
			owner = {
				country_event = { id = dg_papacy.009 days = 30 } #The obstinacy of the pope
				add_casus_belli = { type = cb_insult target = ROOT months = 12 }
			}
		}
	}
	option = {
		name = dg_papacy.008.b #Offer to recognize the usurper
		ai_chance = {
			factor = 20
			modifier = {
				PAP = { has_country_flag = decline_of_religion }
				factor = 1.4
			}
			modifier = {
				PAP = { has_country_flag = decline_of_papacy }
				factor = 1.4
			}
			modifier = {
				2530 = { owner = { war_with = ROOT } }
				factor = 0.2
			}
			modifier = {
				2530 = { owner = { marriage_with = ROOT } }
				factor = 1.4
			}
			modifier = {
				2530 = { owner = { alliance_with = ROOT } }
				factor = 1.4
			}
			modifier = {
				2530 = { owner = { overlord_of = ROOT } }
				factor = 2
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -8
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -6
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -2
		}
		#random_country = {
		#	limit = { owns = 2530 }
		#	country_event = { id = dg_papacy.010 days = 30 } #concordat_with_vatican with Rome
		#}
		2530 = {
			owner = {
				country_event = { id = dg_papacy.010 days = 30 } #concordat_with_vatican with Rome
			}
		}
		every_known_country = {
			limit = {
				religion = catholic
				is_papal_controller = no
				NOT = { tag = PAP }
				papal_trigger = no
				NOT = { has_country_flag = support_antipope }
				OR = {
					piety = 0.60
					is_defender_of_faith = yes
				}
			}
			add_opinion = { who = ROOT modifier = babylonian_captivity_observant }
		}
		hidden_effect = { #Just too many Catholic countries
			every_known_country = {
				limit = {
					religion = catholic
					is_papal_controller = no
					NOT = { tag = PAP }
					papal_trigger = no
					NOT = { has_country_flag = support_antipope }
					NOT = { piety = 0.60 }
					is_defender_of_faith = no
					piety = 0.20
				}
				add_opinion = { who = ROOT modifier = babylonian_captivity_decadent }
			}
		} #End hidden effect
	}
}

country_event = { #The obstinacy of the pope
	
	id = dg_papacy.009
	title = dg_papacy.009.t
	desc = dg_papacy.009.d
	picture = catholic_papal_nepotism #TEMP
	
	is_triggered_only = yes #By dg_papacy.008
	
	immediate = { clr_country_flag = concordat_offer_made }
	
	option = {
		name = dg_papacy.009.a #We can afford to be patient
		ai_chance = { factor = 95 }
		if = {
			limit = { DIP = 5 }
			add_prestige = 1
		}
		else_if = {
			limit = { DIP = 3 }
		}
		else_if = {
			limit = { DIP = 1 }
			add_prestige = -1
		}
		else = {
			add_prestige = -2
		}
	}
	option = {
		name = dg_papacy.009.b #Execute the pope
		ai_chance = {
			factor = 5
			modifier = {
				NOT = { DIP = 1 }
				factor = 1.4
			}
			modifier = {
				NOT = { DIP = 3 }
				factor = 1.4
			}
			modifier = {
				DIP = 5
				factor = 0.7
			}
			#Nothing to lose
			modifier = {
				has_country_flag = excommunicated #right flag?
				factor = 2
			}
			#The pope is sancrosanct
			modifier = {
				religion = catholic
				piety = 0.60
				factor = 0
			}
			modifier = {
				religion = catholic
				piety = 0.20
				factor = 0.5
			}
			modifier = {
				religion = catholic
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				religion = catholic
				NOT = { piety = -0.60 }
				factor = 1.4
			}
			#Heretics and heathens
			modifier = {
				NOT = { religion = catholic }
				religion_group = christian
				factor = 2
			}
			modifier = {
				NOT = { religion_group = christian }
				factor = 5
			}
			#Losing patience
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 2 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 4 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 6 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = vatican_weakness value = 8 } }
				factor = 1.4
			}
		}
		random_known_country = {
			limit = { is_papal_controller = yes }
			country_event = { id = dg_pope.001 }
		}
		set_country_flag = excommunication #right flag?
		#	set_country_flag = executed_pope #new flag
		if = {
			limit = {
				piety = 0.60
				religion = catholic
			}
			add_prestige = -20
			add_country_modifier = { name = religious_scandal_country duration = 4000 }
		}
		else_if = {
			limit = {
				religion = catholic
				piety = 0.20
			}
			add_prestige = -15
			add_country_modifier = { name = religious_scandal_country duration = 2000 }
		}
		else_if = {
			limit = {
				religion = catholic
				piety = -0.20
			}
			add_prestige = -10
			add_country_modifier = { name = religious_scandal_country duration = 1000 }
		}
		else_if = {
			limit = {
				religion = catholic
				piety = -0.60
			}
			add_prestige = -5
			add_country_modifier = { name = religious_scandal_country duration = 500 }
		}
	}
}

country_event = { #Concordat with Rome
	
	id = dg_papacy.010
	title = dg_papacy.010.t
	desc = dg_papacy.010.d
	picture = catholic_concordat_with_rome
	
	is_triggered_only = yes #By event (Independence of the Vatican)
	
	option = {
		name = dg_papacy.010.a #Sign away the Vatican to the pope
		ai_chance = { factor = 75 }
		hidden_effect = { clr_country_flag = concordat_offer_made }
		if = {
			limit = { PAP = { NOT = { has_country_flag = concordat_signed } } }
			hidden_effect = { PAP = { set_country_flag = concordat_signed } }
			2530 = { add_province_modifier = { name = independent_vatican duration = -1 } }
			if = {
				limit = { NOT = { exists = PAP } }
				PAP = { remove_core = 2530 }
			}
		}
		add_prestige = -5
		hidden_effect = {
			set_country_flag = concordat_with_vatican
			clr_country_flag = dispensation_denied
			set_country_flag = dispensation_granted
		}
		every_country = {
			limit = {
				religion = catholic
				OR = {
					has_country_flag = religious_news_all
					AND = {
						has_country_flag = religious_news_trivial
						piety = 0.20
					}
					AND = {
						has_country_flag = religious_news_major
						OR = {
							piety = 0.60
							any_neighbor_country = { owns = 2530 }
							any_known_country = {
								owns = 2530
								OR = {
									war_with = ROOT
									alliance_with = ROOT
									vassal_of = ROOT
									overlord_of = ROOT
									marriage_with = ROOT
								}
							}
						}
					}
					is_defender_of_faith = yes
					government = theocracy
				}
			}
			country_event = { id = dg_papacy.011 days = 30 }
		}
	}
	option = {
		name = dg_papacy.010.b #There can be no compromise with papists
		ai_chance = {
			factor = 25
			modifier = {
				has_country_flag = concordat_offer_made
				factor = 0
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 300 } }
				factor = 2
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 350 } }
				factor = 2
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 400 } }
				factor = 2
			}
		}
		hidden_effect = {
			clr_country_flag = concordat_offer_made
			clr_country_flag = ally_of_pope
			clr_country_flag = friend_of_pope
			clr_country_flag = rival_of_pope
			set_country_flag = enemy_of_pope
			#		set_country_flag = executed_pope
			PAP = { clr_country_flag = concordat_offered }
		}
		random_known_country = {
			limit = {
				is_papal_controller = yes
				NOT = { tag = ROOT }
			}
			add_casus_belli = { type = cb_insult months = 12 target = ROOT }
		}
	}
}

country_event = { #Concordat with Rome signed
	
	id = dg_papacy.011
	title = dg_papacy.011.t
	desc = dg_papacy.011.d
	picture = catholic_concordat_with_rome
	
	is_triggered_only = yes
	
	option = {
		name = dg_papacy.011.a #Reluctantly recognize this fait accomplit
		ai_chance = { factor = 75 }
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_papacy.011.b #There can be no compromise with heretics
		ai_chance = {
			factor = 25
			modifier = {
				2530 = { owner = { NOT = { religion_group = ROOT } } }
				factor = 2
			}
		}
		#random_country = {
		#	limit = { owns = 2530 }
		#	add_casus_belli = { type = cb_insult months = 12 target = ROOT }
		#}
		2530 = {
			owner = {
				add_casus_belli = { type = cb_insult months = 12 target = ROOT }
			}
		}
	}
}

country_event = { #Restoration of the Papal States
	
	id = dg_papacy.013
	title = dg_papacy.013.t
	desc = dg_papacy.013.d
	picture = catholic_st_peters
	
	is_triggered_only = yes #By dg_papacy.001 and 007
	
	option = {
		name = dg_papacy.013.a #Return to normal
		if = {
			limit = { NOT = { stability = -1 } }
			add_stability_1 = yes
		}
		if = {
			limit = {
				NOT = { capital = 2530 }
				owns = 2530 # Roma
				has_country_flag = rome_returned
			}
			move_capital_to_rome = yes
		}
		hidden_effect = { clr_country_flag = rome_returned }
	}
	option = {
		name = dg_papacy.013.b #Maintain our capital in $CAPITAL_CITY$
		trigger = { ai = no }
		if = {
			limit = { NOT = { stability = -1 } }
			add_stability_1 = yes
		}
		hidden_effect = { clr_country_flag = rome_returned }
	}
}

country_event = { #Vicars of the Church
	
	id = dg_papacy.014
	title = dg_papacy.014.t
	desc = dg_papacy.014.d
	picture = catholic_concordat_with_rome
	
	trigger = {
		tag = PAP
		has_saved_event_target = the_vatican
		event_target:the_vatican = { north_italy_region_trigger = no }
		any_owned_province = {
			north_italy_region_trigger = yes
			province_rome_trigger = no
		}
		NOT = { has_country_flag = papal_constitution }
	}
	
	mean_time_to_happen = {
		years = 20
		modifier = {
			is_papal_controller = no
			factor = 0.5
		}
		modifier = {
			has_saved_event_target = the_vatican
			event_target:the_vatican = { has_province_flag = constantine_donation_pf }
			factor = 0.5
		}
	}
	
	option = {
		name = dg_papacy.014.a #Recognize their authority
		ai_chance = { factor = 30 }
		add_prestige = -10
		every_owned_province = {
			limit = {
				north_italy_region_trigger = yes
				province_rome_trigger = no
			}
			add_core = PA2
			cede_province = PA2
		}
		if = {
			limit = {
				PA2 = {
					ai = yes
					is_free_or_tributary_trigger = yes
				}
			}
			vassalize = PA2
		}
	}
	option = {
		name = dg_papacy.014.b #Bribe them into submission
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { treasury = 50 }
				factor = 0
			}
		}
		add_treasury = -50
		add_dip_power = -25
		add_prestige = -10
	}
	option = {
		name = dg_papacy.014.c #Send a cardinal-general to restore order
		ai_chance = {
			factor = 30
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0.7
			}
			modifier = {
				is_at_war = yes
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 5
				factor = 0.7
			}
		}
		every_owned_province = {
			limit = {
				north_italy_region_trigger = yes
				province_rome_trigger = no
			}
			add_core = PA2
			add_nationalism = 20
		}
	}
}

province_event = { #Noble feud in $PROVINCENAME$
	
	id = dg_papacy.015
	title = dg_papacy.015.t
	desc = dg_papacy.015.d
	picture = all_duel #TEMP
	
	trigger = {
		owned_by = PAP
		north_italy_region_trigger = yes
		province_rome_trigger = no
		has_saved_event_target = the_vatican
		event_target:the_vatican = { north_italy_region_trigger = no }
		base_tax = 6
		controlled_by = owner
		NOT = { has_province_modifier = roman_autonomy }
		NOT = { has_province_modifier = roman_banditry }
		NOT = { has_province_modifier = roman_feud }
		NOT = { PAP = { has_country_flag = papal_constitution } }
	}
	
	mean_time_to_happen = {
		
		years = 41
		
		modifier = {
			has_owner_culture = no
			factor = 0.5
		}
		modifier = {
			NOT = { is_core = owner }
			factor = 0.5
		}
	}
	
	option = {
		name = dg_papacy.015.a #Let the feud run its course
		ai_chance = { factor = 60 }
		owner = { add_prestige = -5 }
		add_province_modifier = { name = roman_feud duration = 1000 }
	}
	option = {
		name = dg_papacy.015.b #Throw our support behind one family
		ai_chance = {
			factor = 40
			modifier = {
				owner = { is_at_war = yes }
				factor = 0.5
			}
			modifier = {
				owner = { war_exhaustion = 5 }
				factor = 0.5
			}
		}
		hidden_effect = {
			set_variable = { which = added_unrest value = 1 }
			add_base_unrest = yes
		}
		custom_tooltip = added_unrest_1
		owner = { add_devotion = -10 }
	}
}

province_event = { #Banditry in $PROVINCENAME$
	
	id = dg_papacy.016
	title = dg_papacy.016.t
	desc = dg_papacy.016.d
	picture = all_rebels_crushed #TEMP
	
	trigger = {
		owned_by = PAP
		north_italy_region_trigger = yes
		province_rome_trigger = no
		has_saved_event_target = the_vatican
		event_target:the_vatican = { north_italy_region_trigger = no }
		NOT = { base_tax = 6 }
		NOT = { units_in_province = 1 }
		NOT = { has_province_modifier = roman_autonomy }
		NOT = { has_province_modifier = roman_banditry }
		NOT = { has_province_modifier = roman_feud }
	}
	
	mean_time_to_happen = {
		
		years = 41
		
		modifier = {
			has_owner_culture = no
			factor = 0.5
		}
		modifier = {
			NOT = { is_core = owner }
			factor = 0.5
		}
	}
	
	option = {
		name = dg_papacy.016.a #We must send in the army
		add_province_modifier = { name = roman_banditry duration = 10000 }
	}
}

province_event = { #Bandits dispersed in $PROVINCENAME$
	
	id = dg_papacy.017
	title = dg_papacy.017.t
	desc = dg_papacy.017.d
	picture = all_rebels_crushed
	
	trigger = {
		owned_by = PAP
		has_province_modifier = roman_banditry
		units_in_province = 1
		controlled_by = owner
		has_siege = no
	}
	
	mean_time_to_happen = {
		
		months = 10
		
		modifier = {
			has_owner_culture = no
			factor = 2
		}
		modifier = {
			NOT = { is_core = owner }
			factor = 2
		}
	}
	
	option = {
		name = dg_papacy.017.a #Order has been restored
		remove_province_modifier = roman_banditry
		add_province_modifier = {
			name = "peasants_organizing"
			duration = 1825
		}
		hidden_effect = {
			set_variable = { which = added_unrest value = 5 }
			add_base_unrest = yes
		}
		custom_tooltip = added_unrest_5
	}
}

country_event = { #18 The $MONARCHTITLE$'s will
	
	id = dg_papacy.018
	title = dg_papacy.018.t
	desc = dg_papacy.018.d
	picture = all_funeral
	
	trigger = {
		has_regency = yes
		religion = catholic
		NOT = { num_of_cities = 3 }
		government = monarchy
		is_at_war = no
		piety = -0.20
		NOT = { has_country_flag = papal_enfeoffment_rejected }
		any_neighbor_country = {
			papal_trigger = yes
			NOT = { num_of_cities = 7 }
			NOT = { truce_with = ROOT }
		}
	}
	
	mean_time_to_happen = {
		
		years = 8
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			has_heir = yes
			factor = 1.4
		}
		modifier = {
			has_female_heir = yes
			factor = 0.7
		}
		modifier = {
			heir_claim = 90
			factor = 1.4
		}
		modifier = {
			NOT = { heir_claim = 60 }
			factor = 0.7
		}
		modifier = {
			NOT = { heir_claim = 40 }
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				papal_trigger = yes
				primary_culture = ROOT
			}
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				papal_trigger = yes
				NOT = { culture_group = ROOT }
			}
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				papal_trigger = yes
				vassal = 1
			}
			factor = 1.4
		}
		modifier = {
			any_neighbor_country = {
				papal_trigger = yes
				vassal = 2
			}
			factor = 1.4
		}
		modifier = {
			any_neighbor_country = {
				papal_trigger = yes
				vassal = 3
			}
			factor = 1.4
		}
	}
	
	option = {
		name = dg_papacy.018.a #Ask the pope to appoint a vicar
		ai_chance = {
			factor = 40
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				any_neighbor_country = {
					papal_trigger = yes
					primary_culture = ROOT
				}
				factor = 1.4
			}
			modifier = {
				any_neighbor_country = {
					papal_trigger = yes
					NOT = { culture_group = ROOT }
				}
				factor = 0.7
			}
			modifier = {
				has_heir = yes
				factor = 0.7
			}
			modifier = {
				has_female_heir = yes
				factor = 1.4
			}
			modifier = {
				heir_claim = 90
				factor = 0.7
			}
			modifier = {
				NOT = { heir_claim = 60 }
				factor = 1.4
			}
			modifier = {
				NOT = { heir_claim = 40 }
				factor = 1.4
			}
			modifier = {
				any_neighbor_country = {
					papal_trigger = yes
					vassal = 1
				}
				factor = 0.7
			}
			modifier = {
				any_neighbor_country = {
					papal_trigger = yes
					vassal = 2
				}
				factor = 0.7
			}
			modifier = {
				any_neighbor_country = {
					papal_trigger = yes
					vassal = 3
				}
				factor = 0.7
			}
		}
		custom_tooltip = ecclesiastical_fief
		random_neighbor_country = {
			limit = {
				papal_trigger = yes
				NOT = { num_of_cities = 5 }
				NOT = { truce_with = ROOT }
			}
			country_event = { id = dg_papacy.019 days = 30 }
		}
	}
	option = {
		name = dg_papacy.018.b #Tear up the will
		ai_chance = { factor = 60 }
		hidden_effect = { set_country_flag = papal_enfeoffment_rejected } #Each country can only get this once
		subtract_stability_1 = yes
		add_prestige = -5
		random_neighbor_country = {
			limit = {
				papal_trigger = yes
				NOT = { num_of_cities = 5 }
				NOT = { truce_with = ROOT }
			}
			add_casus_belli = { target = ROOT type = cb_disloyal_vassal months = 24 }
		}
	}
}

country_event = { #19 Patrimony of St. Peter
	
	id = dg_papacy.019
	title = dg_papacy.019.t
	desc = dg_papacy.019.d
	picture = all_funeral
	
	is_triggered_only = yes #By dg_papacy.018
	
	option = {
		name = dg_papacy.019.a #Appoint a vicar from the old royal family
		ai_chance = { factor = 80 }
		vassalize = FROM
	}
	option = {
		name = dg_papacy.019.b #Send a cardinal to take direct control
		ai_chance = { factor = 20 }
		trigger = { FROM = { ai = yes } }
		FROM = { every_owned_province = { cede_province = PREV add_nationalism = 5 } } #Does not add cores this way
	}
}

#########################
# SCHISMS AND ANTIPOPES #
#########################

country_event = { #The way of withdrawal
	
	id = dg_papacy.022
	title = dg_papacy.022.t
	desc = dg_papacy.022.d
	picture = catholic_schism
	
	trigger = {
		PAP = { check_variable = { which = council_topic_schism value = 1 } }
		papal_trigger = yes
		PAP = { has_country_flag = regular_councils_promised }
		OR = {
			AND = {
				tag = PAP
				PAP = { check_variable = { which = antipope_authority which = papal_authority } }
			}
			AND = {
				tag = AVI
				PAP = { check_variable = { which = papal_authority which = antipope_authority } }
			}
		}
		religion = catholic
		PAP = { has_country_flag = church_council }
		PAP = { NOT = { has_country_modifier = council_session } }
	}
	
	mean_time_to_happen = {
		
		months = 2
		
		modifier = {
			PAP = { check_variable = { which = council_topic_schism value = 2 } }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 1.4
		}
		modifier = {
			PAP = { has_country_flag = reformer_pope }
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = { PAP = { change_variable = { which = council_topic_schism value = -1 } } }
		PAP = { add_country_modifier = { name = council_session duration = 100 } }
	}
	
	option = {
		name = dg_papacy.022.a #Step down for the good of the church
		ai_chance = {
			factor = 20
			modifier = {
				tag = AVI
				NOT = { PAP = { check_variable = { which = antipope_authority value = 300 } } }
				factor = 1.4
			}
			modifier = {
				tag = AVI
				NOT = { PAP = { check_variable = { which = antipope_authority value = 200 } } }
				factor = 1.4
			}
			modifier = {
				tag = AVI
				NOT = { PAP = { check_variable = { which = antipope_authority value = 100 } } }
				factor = 1.4
			}
			modifier = {
				tag = PAP
				NOT = { PAP = { check_variable = { which = papal_authority value = 300 } } }
				factor = 1.4
			}
			modifier = {
				tag = PAP
				NOT = { PAP = { check_variable = { which = papal_authority value = 200 } } }
				factor = 1.4
			}
			modifier = {
				tag = PAP
				NOT = { PAP = { check_variable = { which = papal_authority value = 100 } } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 1 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 2 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 3 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 4 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 5 } }
				factor = 1.4
			}
			modifier = {
				PAP = { check_variable = { which = stubborn_antipopes value = 6 } }
				factor = 1.4
			}
		}
		hidden_effect = { PAP = { set_variable = { which = stubborn_antipopes value = 0 } } }
		add_devotion = -50
		set_global_flag = way_of_withdrawal
		set_global_flag = dates_of_interest_schism_ends_1417
		if = {
			limit = { tag = PAP }
			random_known_country = {
				limit = { is_papal_controller = yes }
				add_papal_influence = -100
			}
			every_country = {
				limit = { num_of_cardinals = 1 }
				add_papal_influence = -20
			}
			theocratification_effect = yes
			capital_scope = {
				remove_core = AVI
			}
			if = {
				limit = { ai = yes }
				AVI = { inherit = ROOT }
			}
		}
		else_if = {
			limit = { tag = AVI }
			theocratification_effect = yes
			remove_core = 2530
			capital_scope = {
				remove_core = PAP
			}
			if = {
				limit = { ai = yes }
				PAP = { inherit = ROOT }
				every_province = {
					limit = { is_core = AVI }
					remove_core = AVI
					add_core = PAP
				}
			}
		}
	}
	option = {
		name = dg_papacy.022.b #Condemn rival popes as untrue
		ai_chance = { factor = 80 }
		hidden_effect = { PAP = { change_variable = { which = stubborn_antipopes value = 1 } } }
		if = {
			limit = { PAP = { check_variable = { which = stubborn_antipopes value = 6 } } }
			add_prestige = -20
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 5 } }
			}
			add_prestige = -15
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 4 } }
			}
			add_prestige = -10
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 3 } }
			}
			add_prestige = -5
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 2 } }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = stubborn_antipopes value = 1 } }
			}
			add_prestige = 5
		}
		else_if = {
			limit = { PAP = { NOT = { check_variable = { which = stubborn_antipopes value = 1 } } } }
			add_prestige = 10
		}
	}
}

country_event = { #23 - The submission of the pope
	
	id = dg_papacy.023
	title = dg_papacy.023.t
	desc = dg_papacy.023.d
	picture = catholic_concordat_with_rome
	
	trigger = {
		OR = {
			has_country_flag = support_antipope
			has_country_flag = support_roman_pope
		}
		OR = {
			AND = {
				any_owned_province = { is_core = AVI }
				has_country_flag = support_roman_pope
				NOT = { exists = AVI }
			}
			AND = {
				any_subject_country = { tag = AVI papal_trigger = yes }
				has_country_flag = support_roman_pope
			}
			AND = {
				any_subject_country = { tag = PAP papal_trigger = yes }
				has_country_flag = support_antipope
				exists = AVI
			}
		}
		exists = PAP
		religion = catholic
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		set_global_flag = dates_of_interest_schism_ends_1417_ahistorical
		if = {
			limit = {
				has_country_flag = support_antipope
			}
			if = {
				limit = {
					PAP = { ai = yes }
					exists = AVI
				}
				AVI = { inherit = PAP set_country_flag = victorious_antipope change_tag = PAP }
			}
			else_if = {
				limit = {
					OR = {
						PAP = { ai = no }
						NOT = { exists = AVI }
					}
					exists = ITA
				}
				#???
			}
			else_if = {
				limit = {
					OR = {
						PAP = { ai = no }
						NOT = { exists = AVI }
					}
					NOT = { exists = ITA }
				}
				PAP = {
					theocratification_effect = yes
					change_tag = ITA
				}
				AVI = { change_tag = PAP set_country_flag = victorious_antipope }
			}
		}
		else_if = {
			limit = {
				has_country_flag = support_roman_pope
				exists = AVI
			}
			if = {
				limit = {
					AVI = { ai = yes }
				}
				PAP = { inherit = AVI }
			}
			else_if = {
				limit = {
					AVI = { ai = no }
				}
				AVI = {
					theocratification_effect = yes
				}
			}
		}
	}
	
	option = {
		name = dg_papacy.023.a #The schism is over
		add_papal_influence = 200
		if = {
			limit = { tag = PAP }
			add_devotion = 100
		}
		dg_add_prestige_large = yes
		custom_tooltip = church_settlement_explained
		set_country_flag = church_settlement
		clr_country_flag = dispensation_denied
		set_country_flag = dispensation_granted
		random_owned_province = {
			limit = {
				has_province_modifier = catholic_archbishopric
				religion = catholic
				has_cardinal = no
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		random_owned_province = {
			limit = {
				has_province_modifier = catholic_archbishopric
				religion = catholic
				has_cardinal = no
				NOT = { has_province_flag = cardinal_1_year }
				NOT = { has_province_flag = cardinal_5_years }
				NOT = { has_province_flag = cardinal_10_years }
				NOT = { has_province_flag = cardinal_20_years }
				NOT = { has_province_flag = cardinal_40_years }
			}
			add_cardinal = yes
			hidden_effect = {
				owner = {
					clr_country_flag = cardinal_policy
					change_variable = { which = cardinals_created value = -1 }
				}
				random_list = {
					20 = { set_province_flag = cardinal_1_year }
					20 = { set_province_flag = cardinal_5_years }
					20 = { set_province_flag = cardinal_10_years }
					20 = { set_province_flag = cardinal_20_years }
					20 = { set_province_flag = cardinal_40_years }
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { has_country_flag = support_antipope }
				set_global_flag = antipope_wins
			}
		}
	}
}

country_event = { #24 - The $CAPITAL$ Papacy (antipope becomes curia controller)
	
	id = dg_papacy.024
	title = dg_papacy.024.t
	desc = dg_papacy.024.d
	picture = catholic_return_to_rome
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		NOT = { tag = PAP }
		OR = {
			is_papal_controller = yes
			NOT = { exists = PAP }
		}
		NOT = {
			any_known_country = {
				NOT = { tag = ROOT }
				papal_trigger = yes
			}
		}
	}
	
	mean_time_to_happen = { months = 5 }
	
	immediate = {
		set_global_flag = dates_of_interest_schism_ends_1417_ahistorical
		if = {
			limit = {
				tag = PAP
				exists = AVI
			}
			if = {
				limit = {
					AVI = { ai = yes }
				}
				inherit = AVI
			}
			else_if = {
				limit = {
					AVI = { ai = no }
				}
				random_known_country = {
					limit = {
						papal_trigger = yes
						NOT = { tag = ROOT }
					}
					theocratification_effect = yes
				}
			}
		}
		else_if = {
			limit = {
				tag = AVI
				exists = PAP
			}
			set_global_flag = antipope_wins
			if = {
				limit = {
					PAP = { ai = yes }
				}
				inherit = PAP
			}
			else_if = {
				limit = {
					PAP = { ai = no }
					ai = yes
				}
				PAP = { inherit = ROOT add_prestige = -100 subtract_stability_3 = yes }
			}
			else_if = {
				limit = {
					ai = no
					PAP = { ai = no }
				}
				PAP = {
					change_tag = ITA
					theocratification_effect = yes
				}
			}
		}
	}
	
	option = {
		name = dg_papacy.024.a #The real pope is acknowledged
		add_prestige = 100
		add_devotion = 50
		if = {
			limit = {
				NOT = { tag = PAP }
				NOT = { exists = PAP }
			}
			change_tag = PAP
		}
		move_capital_to_rome = yes
	}
}

country_event = { #25 - Cardinals break ranks with $CAPITAL_CITY$ 
	
	id = dg_papacy.025
	title = dg_papacy.025.t
	desc = dg_papacy.025.d
	picture = catholic_papal_envoy
	
	is_triggered_only = yes
	
	immediate = { add_devotion = -25 }
	
	option = {
		name = dg_papacy.025.a #Call a church council to resolve this
		ai_chance = { factor = 50 }
		trigger = { NOT = { PAP = { has_country_flag = church_council } } }
		add_prestige = -10
		hidden_effect = {
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				PAP = { set_country_flag = church_council_delays }
			}
			set_country_flag = church_council_called
			clr_country_flag = church_council_promised
		}
	}
	option = {
		name = dg_papacy.025.b #Appoint new cardinals
		ai_chance = { factor = 50 }
		add_devotion = -25
		every_country = {
			limit = {
				num_of_cardinals = 1
				NOT = { num_of_cardinals = 3 }
				NOT = { tag = ROOT }
			}
			add_papal_influence = -5
		}
		every_country = {
			limit = {
				num_of_cardinals = 3
				NOT = { num_of_cardinals = 6 }
				NOT = { tag = ROOT }
			}
			add_papal_influence = -10
		}
		every_country = {
			limit = {
				num_of_cardinals = 6
				NOT = { num_of_cardinals = 9 }
				NOT = { tag = ROOT }
			}
			add_papal_influence = -15
		}
		every_country = {
			limit = {
				num_of_cardinals = 9
				NOT = { num_of_cardinals = 12 }
				NOT = { tag = ROOT }
			}
			add_papal_influence = -20
		}
		every_country = {
			limit = {
				num_of_cardinals = 12
				NOT = { num_of_cardinals = 15 }
				NOT = { tag = ROOT }
			}
			add_papal_influence = -25
		}
		every_country = {
			limit = {
				num_of_cardinals = 15
				NOT = { tag = ROOT }
			}
			add_papal_influence = -30
		}
		every_country = {
			limit = {
				num_of_cardinals = 1
				NOT = { tag = ROOT }
			}
			add_opinion = { who = ROOT modifier = pope_appointed_cardinals }
		}
	}
}

country_event = { #26 - Cardinals depose the pope
	
	id = dg_papacy.026
	title = dg_papacy.026.t
	desc = dg_papacy.026.d
	picture = catholic_papal_envoy
	
	is_triggered_only = yes
	
	immediate = {
		add_papal_influence = 50
		hidden_effect = {
			set_country_flag = rogue_cardinal_support
			every_owned_province = {
				set_variable = { which = papal_suitability value = 2 }
			}
			every_owned_province = {
				limit = {
					NOT = { any_neighbor_province = { NOT = { owned_by = ROOT } } }
				}
				change_variable = { which = papal_suitability value = 1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { NOT = { alliance_with = ROOT } }
						owner = { NOT = { is_subject_of = ROOT } }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { is_rival = ROOT }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { NOT = { religion = catholic } }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = {
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
						owner = { NOT = { religion_group = christian } }
					}
				}
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { NOT = { religion = catholic } } }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { NOT = { religion_group = christian } } }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { owned_by = ROOT } }
				change_variable = { which = papal_suitability value = 3 }
			}
			every_owned_province = {
				limit = { has_province_modifier = catholic_archbishopric }
				change_variable = { which = papal_suitability value = 1 }
			}
			every_owned_province = {
				limit = { culture_group = ROOT }
				change_variable = { which = papal_suitability value = 1 }
			}
			every_owned_province = {
				limit = { any_neighbor_province = { owned_by = ROOT is_capital = yes } }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { has_port = yes }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { base_tax = 7 }
				change_variable = { which = papal_suitability value = -1 }
			}
			every_owned_province = {
				limit = { base_tax = 14 }
				change_variable = { which = papal_suitability value = -1 }
			}
			#every_owned_province = {
			#	limit = { trade_goods = gold }
			#	change_variable = { which = papal_suitability value = -1 }
			#}
			every_owned_province = {
				limit = {
					OR = {
						is_colony = yes
						NOT = { religion = catholic }
						NOT = { continent = europe }
						is_capital = yes
						NOT = { is_core = owner }
					}
				}
				set_variable = { which = papal_suitability value = 0 }
			}
			#Find up to 3 appropriate provinces
			random_owned_province = {
				limit = {
					owner = { NOT = { check_variable = { which = provinces_selected value = 1 } } }
					check_variable = { which = papal_suitability value = 6 }
					NOT = { has_province_flag = behind_door_number_1 }
				}
				set_province_flag = behind_door_number_1
				owner = { change_variable = { which = provinces_selected value = 1 } }
			}
			random_owned_province = {
				limit = {
					owner = { NOT = { check_variable = { which = provinces_selected value = 1 } } }
					check_variable = { which = papal_suitability value = 5 }
					NOT = { has_province_flag = behind_door_number_1 }
				}
				set_province_flag = behind_door_number_1
				owner = { change_variable = { which = provinces_selected value = 1 } }
			}
			random_owned_province = {
				limit = {
					owner = { NOT = { check_variable = { which = provinces_selected value = 1 } } }
					check_variable = { which = papal_suitability value = 4 }
					NOT = { has_province_flag = behind_door_number_1 }
				}
				set_province_flag = behind_door_number_1
				owner = { change_variable = { which = provinces_selected value = 1 } }
			}
			random_owned_province = {
				limit = {
					owner = { NOT = { check_variable = { which = provinces_selected value = 1 } } }
					check_variable = { which = papal_suitability value = 3 }
					NOT = { has_province_flag = behind_door_number_1 }
				}
				set_province_flag = behind_door_number_1
				owner = { change_variable = { which = provinces_selected value = 1 } }
			}
			random_owned_province = {
				limit = {
					owner = { NOT = { check_variable = { which = provinces_selected value = 1 } } }
					check_variable = { which = papal_suitability value = 2 }
					NOT = { has_province_flag = behind_door_number_1 }
				}
				set_province_flag = behind_door_number_1
				owner = { change_variable = { which = provinces_selected value = 1 } }
			}
			random_owned_province = {
				limit = {
					owner = { NOT = { check_variable = { which = provinces_selected value = 1 } } }
					check_variable = { which = papal_suitability value = 1 }
					NOT = { has_province_flag = behind_door_number_1 }
				}
				set_province_flag = behind_door_number_1
				owner = { change_variable = { which = provinces_selected value = 1 } }
			}
			#cleaning up
			every_owned_province = { set_variable = { which = papal_suitability value = 0 } }
			set_variable = { which = provinces_selected value = 0 }
		}
	}
	
	option = {
		name = dg_papacy.026.a #Nothing can stop our advance now
		ai_chance = { factor = 80 }
		add_war_exhaustion = -1
	}
	option = {
		name = dg_papacy.026.b #Establish a rival pope in our lands
		trigger = { num_of_cities = 6 }
		ai_chance = { factor = 20 }
		set_country_flag = excommunication_sponsoring_schism
		set_country_flag = support_antipope
		random_owned_province = {
			limit = { has_province_flag = behind_door_number_1 }
			hidden_effect = { clr_province_flag = behind_door_number_1 }
			add_core = AVI
			cede_province = AVI
		}
		AVI = {
			papafication_effect = yes
			change_primary_culture = ROOT
		}
	}
}

province_event = { #$MONARCH$'s defiance
	
	id = dg_papacy.027
	title = dg_papacy.027.t
	desc = dg_papacy.027.d
	picture = catholic_fiery_preacher
	
	trigger = {
		has_province_flag = constantine_donation_pf
		owned_by = PAP
		is_capital = no
		has_global_flag = living_pope
		OR = {
			NOT = { has_province_flag = old_papal_seat }
			had_province_flag = { flag = old_papal_seat days = 200 }
		}
		any_known_country = {
			has_country_flag = constantine_donation_cf
			is_papal_controller = yes
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = dg_papacy.027.a #Return to $PROVINCECAPITAL$
		ai_chance = {
			factor = 30
			modifier = {
				owner = { has_country_flag = corrupt_pope }
				factor = 3
			}
		}
		owner = {
			Effect_set_capital = { target=PREV }
			hidden_effect = { capital_scope = { save_global_event_target_as = the_vatican } }
			add_prestige = -10
			add_devotion = 25
			clr_country_flag = victorious_antipope
		}
	}
	option = {
		name = dg_papacy.027.b #$CAPITAL$ is our eternal capital
		trigger = { owner = { NOT = { has_country_flag = victorious_antipope } } }
		ai_chance = { factor = 70 }
		set_province_flag = old_papal_seat
		random_country = {
			limit = {
				has_country_flag = constantine_donation_cf
				religion = catholic
				NOT = { tag = ROOT }
			}
			add_opinion = { who = ROOT modifier = babylonian_captivity_fanatical }
			country_event = { id = dg_papacy.036 days = 30 }
			random_province = {
				limit = { has_province_flag = constantine_donation_pf }
				add_core = PREV
			}
		}
		hidden_effect = { save_global_event_target_as = the_vatican }
		owner = {
			add_devotion = -50
			#hidden_effect = {
			#	clr_country_flag = babylonian_captivity
			#}
		}
	}
}

country_event = { #28 - Mob invades conclave
	
	id = dg_papacy.028
	title = dg_papacy.028.t
	desc = dg_papacy.028.d
	picture = hindu_mob #TEMP
	
	trigger = {
		tag = PAP
		NOT = { has_global_flag = living_pope }
		OR = {
			PAP = { has_country_flag = deadlocked_conclave }
			PAP = { has_country_flag = right_of_exclusion }
			PAP = { capital_scope = { has_province_flag = constantine_donation_pf } }
			PAP = { capital_scope = { controlled_by = REB } }
		}
	}
	
	mean_time_to_happen = { months = 25 }
	
	immediate = { hidden_effect = { set_global_flag = living_pope } }
	
	option = {
		name = dg_papacy.028.a #Make a hasty decision
		ai_chance = {
			factor = 60
			modifier = {
				NOT = { capital_scope = { controlled_by = ROOT } }
				factor = 1.4
			}
			modifier = {
				is_at_war = yes
				factor = 1.4
			}
			modifier = {
				NOT = { prestige = 0 }
				factor = 0.7
			}
		}
		add_prestige = -5
		if = {
			limit = {
				PAP = { is_papal_controller = yes }
				tag = PAP
			}
			country_event = { id = dg_papacy.037 days = 30 }
		}
		random_known_country = {
			limit = { is_papal_controller = yes }
			country_event = { id = dg_papacy.037 days = 30 }
		}
	}
	option = {
		name = dg_papacy.028.b #Excommunicate them
		ai_chance = { factor = 40 }
		clr_global_flag = living_pope
		capital_scope = {
			add_province_modifier = {
				name = "fanatics_organizing"
				duration = 1825
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 5 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_5
		}
	}
}

country_event = { #29 - End of the Schism (maintenance)
	
	id = dg_papacy.029
	title = dg_papacy.029.t
	desc = dg_papacy.029.d
	picture = catholic_return_to_rome
	
	trigger = {
		papal_trigger = yes
		has_global_flag = catholic_schism
		religion = catholic
		NOT = {
			any_country = {
				NOT = { tag = ROOT }
				papal_trigger = yes
				religion = catholic
			}
		}
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		hidden_effect = {
			clr_global_flag = catholic_schism
			if = {
				limit = { tag = AVI }
				set_global_flag = antipope_wins
			}
		}
		if = {
			limit = { NOT = { exists = PAP } NOT = { tag = PAP } }
			change_tag = PAP
		}
		every_country = {
			limit = {
				religion = catholic
				OR = {
					has_country_flag = support_antipope
					has_country_flag = support_roman_pope
				}
			}
			country_event = { id = dg_papacy.030 days = 30 }
		}
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						has_country_flag = support_antipope
						has_country_flag = support_roman_pope
					}
					NOT = { religion = catholic }
				}
				clr_country_flag = support_antipope
				clr_country_flag = support_roman_pope
				clr_country_flag = chosen_sides_in_schism
			}
		}
	}
	
	option = {
		name = dg_papacy.029.a #God be praised!
		trigger = {
			NOT = { has_global_flag = way_of_withdrawal }
			OR = {
				AND = {
					has_country_flag = support_antipope
					has_global_flag = antipope_wins
				}
				AND = {
					NOT = { has_country_flag = support_antipope }
					NOT = { has_global_flag = antipope_wins }
				}
			}
		}
		add_prestige = 1
		add_devotion = 25
		clr_country_flag = support_antipope
		clr_country_flag = support_roman_pope
		clr_country_flag = chosen_sides_in_schism
	}
	option = {
		name = dg_papacy.029.b #God have mercy!
		trigger = {
			NOT = { has_global_flag = way_of_withdrawal }
			OR = {
				AND = {
					has_country_flag = support_antipope
					NOT = { has_global_flag = antipope_wins }
				}
				AND = {
					NOT = { has_country_flag = support_antipope }
					has_global_flag = antipope_wins
				}
			}
		}
		add_prestige = -5
		add_devotion = -25
		clr_country_flag = support_antipope
		clr_country_flag = support_roman_pope
		clr_country_flag = chosen_sides_in_schism
	}
	option = {
		name = dg_papacy.029.c #At last
		trigger = { has_global_flag = way_of_withdrawal }
		clr_country_flag = support_antipope
		clr_country_flag = support_roman_pope
		clr_country_flag = chosen_sides_in_schism
	}
}

country_event = { #30 - End of the Schism (notifier)
	
	id = dg_papacy.030
	title = dg_papacy.029.t
	desc = dg_papacy.029.d
	picture = catholic_return_to_rome
	
	is_triggered_only = yes #By dg_papacy.029
	
	option = {
		name = dg_papacy.029.a #God be praised!
		trigger = {
			NOT = { has_global_flag = way_of_withdrawal }
			OR = {
				AND = {
					has_country_flag = support_antipope
					has_global_flag = antipope_wins
				}
				AND = {
					NOT = { has_country_flag = support_antipope }
					NOT = { has_global_flag = antipope_wins }
				}
			}
		}
		add_prestige = 1
		add_devotion = 25
		clr_country_flag = support_antipope
		clr_country_flag = support_roman_pope
		clr_country_flag = chosen_sides_in_schism
	}
	option = {
		name = dg_papacy.029.b #God have mercy!
		trigger = {
			NOT = { has_global_flag = way_of_withdrawal }
			OR = {
				AND = {
					has_country_flag = support_antipope
					NOT = { has_global_flag = antipope_wins }
				}
				AND = {
					NOT = { has_country_flag = support_antipope }
					has_global_flag = antipope_wins
				}
			}
		}
		add_prestige = -5
		add_devotion = -25
		clr_country_flag = support_antipope
		clr_country_flag = support_roman_pope
		clr_country_flag = chosen_sides_in_schism
	}
	option = {
		name = dg_papacy.029.c #At last
		trigger = { has_global_flag = way_of_withdrawal }
		clr_country_flag = support_antipope
		clr_country_flag = support_roman_pope
		clr_country_flag = chosen_sides_in_schism
	}
}

country_event = { #Donation of $MONARCH$
	
	id = dg_papacy.031
	title = dg_papacy.031.t
	desc = dg_papacy.031.d
	picture = catholic_return_to_rome
	
	is_triggered_only = yes #By donation_of_constantine decision
	
	option = {
		name = dg_papacy.031.a #Door number 1
		ai_chance = { factor = 40 }
		trigger = { any_owned_province = { has_province_flag = behind_door_number_1 } }
		random_owned_province = {
			limit = { has_province_flag = behind_door_number_1 }
			hidden_effect = {
				clr_province_flag = behind_door_number_1
				set_province_flag = constantine_donation_pf
			}
			remove_core = ROOT
			add_core = PAP
			cede_province = PAP
		}
		create_guarantee = PAP
		PAP = { country_event = { id = dg_papacy.032 days = 30 } }
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = behind_door_number_2
				clr_province_flag = behind_door_number_3
			}
		}
	}
	option = {
		name = dg_papacy.031.b #Door number 2
		ai_chance = { factor = 30 }
		trigger = { any_owned_province = { has_province_flag = behind_door_number_2 } }
		random_owned_province = {
			limit = { has_province_flag = behind_door_number_2 }
			hidden_effect = {
				clr_province_flag = behind_door_number_2
				set_province_flag = constantine_donation_pf
			}
			remove_core = ROOT
			add_core = PAP
			cede_province = PAP
		}
		PAP = { country_event = { id = dg_papacy.032 days = 30 } }
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = behind_door_number_1
				clr_province_flag = behind_door_number_3
			}
		}
	}
	option = {
		name = dg_papacy.031.c #Door number 3
		ai_chance = { factor = 20 }
		trigger = { any_owned_province = { has_province_flag = behind_door_number_3 } }
		random_owned_province = {
			limit = { has_province_flag = behind_door_number_3 }
			hidden_effect = {
				clr_province_flag = behind_door_number_3
				set_province_flag = constantine_donation_pf
			}
			remove_core = ROOT
			add_core = PAP
			cede_province = PAP
		}
		PAP = { country_event = { id = dg_papacy.032 days = 30 } }
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = behind_door_number_1
				clr_province_flag = behind_door_number_2
			}
		}
	}
	option = {
		name = dg_papacy.031.e #No, this is silly
		ai_chance = { factor = 10 }
		add_papal_influence = 40 #returns your points
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = behind_door_number_1
				clr_province_flag = behind_door_number_2
				clr_province_flag = behind_door_number_3
			}
		}
	}
}

country_event = { #An invitation
	
	id = dg_papacy.032
	title = dg_papacy.032.t
	desc = dg_papacy.032.d
	picture = catholic_return_to_rome
	
	is_triggered_only = yes #by event dg_papacy.031
	
	option = {
		name = dg_papacy.032.a #Move the capital
		ai_chance = {
			factor = 50
			modifier = {
				NOT = { num_of_cities = 2 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cities = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cities = 4 }
				factor = 1.4
			}
			modifier = {
				num_of_cities = 8
				factor = 0.7
			}
			modifier = {
				num_of_cities = 9
				factor = 0.7
			}
		}
		create_alliance = FROM
		hidden_effect = {
			FROM = { set_country_flag = constantine_donation_cf }
			#set_country_flag = babylonian_captivity #removed when PAP moves capital to Rome (checked with each new pope)
		}
		random_owned_province = {
			limit = { has_province_flag = constantine_donation_pf }
			owner = {
				Effect_set_capital = { target=PREV }
			}
			hidden_effect = { PREV = { save_global_event_target_as = the_vatican } }
		}
		every_country = {
			limit = {
				religion = catholic
				OR = {
					num_of_cardinals = 1
					is_emperor = yes
					has_country_flag = religious_news_major
				}
				is_papal_controller = no
				NOT = { tag = ROOT }
			}
			if = {
				limit = { piety = 0.60 }
				reverse_add_opinion = { who = ROOT modifier = babylonian_captivity_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				reverse_add_opinion = { who = ROOT modifier = babylonian_captivity_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				reverse_add_opinion = { who = ROOT modifier = babylonian_captivity_observant }
			}
			else_if = {
				limit = { piety = -0.60 }
				reverse_add_opinion = { who = ROOT modifier = babylonian_captivity_decadent }
			}
			country_event = { id = dg_papacy.034 days = 30 }
		}
		if = {
			limit = {
				NOT = {
					AND = {
						exists = PA2
						PA2 = { NOT = { vassal_of = PAP } }
					}
				}
			}
			every_owned_province = {
				limit = { is_in_capital_area = no }
				if = {
					limit = { is_core = PAP }
					add_core = PA2
				}
				cede_province = PA2
			}
			if = {
				limit = {
					PA2 = {
						ai = yes
						is_free_or_tributary_trigger = yes
					}
				}
				vassalize = PA2
			}
		}
	}
	option = {
		name = dg_papacy.032.b #Reject this offer
		ai_chance = { factor = 50 }
		FROM = { country_event = { id = dg_papacy.033 days = 30 } }
		random_owned_province = {
			limit = { has_province_flag = constantine_donation_pf }
			remove_core = PAP
			add_core = FROM
			cede_province = FROM
		}
	}
}

country_event = { #The pope declines our invitation
	
	id = dg_papacy.033
	title = dg_papacy.033.t
	desc = dg_papacy.033.d
	picture = catholic_concordat_with_rome
	
	is_triggered_only = yes
	
	option = {
		name = dg_papacy.033.a
		add_prestige = -10
		hidden_effect = {
			clr_country_flag = constantine_donation_cf
			random_owned_province = {
				limit = { has_province_flag = constantine_donation_pf }
				clr_province_flag = constantine_donation_pf
			}
		}
	}
}

country_event = { #The captivity
	
	id = dg_papacy.034
	title = dg_papacy.034.t
	desc = dg_papacy.034.d
	picture = catholic_concordat_with_rome
	
	is_triggered_only = yes
	
	option = {
		name = dg_papacy.034.a #How Machiavellian
		if = {
			limit = { num_of_cardinals = 15 }
			add_papal_influence = -30
		}
		else_if = {
			limit = { num_of_cardinals = 12 }
			add_papal_influence = -25
		}
		else_if = {
			limit = { num_of_cardinals = 9 }
			add_papal_influence = -20
		}
		else_if = {
			limit = { num_of_cardinals = 6 }
			add_papal_influence = -15
		}
		else_if = {
			limit = { num_of_cardinals = 3 }
			add_papal_influence = -10
		}
		else_if = {
			limit = { num_of_cardinals = 1 }
			add_papal_influence = -5
		}
	}
}

country_event = { #Factions within the Curia
	
	id = dg_papacy.035
	title = dg_papacy.035.t
	desc = dg_papacy.035.d
	picture = catholic_st_peters
	
	is_triggered_only = yes #When a new pope is elected and the capital is not in Italy
	
	option = {
		name = dg_papacy.035.a #Crush their influence
		ai_chance = { factor = 10 }
		if = {
			limit = {
				any_subject_country = {
					num_of_owned_provinces_with = {
						north_italy_region_trigger = yes
						is_core = PAP
						value = 5
					}
				}
			}
			add_devotion = -25
			add_prestige = -5
			random_known_country = {
				limit = { has_country_flag = constantine_donation_cf }
				add_papal_influence = 25
			}
		}
		else_if = {
			limit = {
				any_subject_country = {
					num_of_owned_provinces_with = {
						north_italy_region_trigger = yes
						is_core = PAP
						value = 4
					}
				}
			}
			add_devotion = -20
			add_prestige = -4
			random_known_country = {
				limit = { has_country_flag = constantine_donation_cf }
				add_papal_influence = 20
			}
		}
		else_if = {
			limit = {
				any_subject_country = {
					num_of_owned_provinces_with = {
						north_italy_region_trigger = yes
						is_core = PAP
						value = 3
					}
				}
			}
			add_devotion = -15
			add_prestige = -3
			random_known_country = {
				limit = { has_country_flag = constantine_donation_cf }
				add_papal_influence = 15
			}
		}
		else_if = {
			limit = {
				any_subject_country = {
					num_of_owned_provinces_with = {
						north_italy_region_trigger = yes
						is_core = PAP
						value = 2
					}
				}
			}
			add_devotion = -10
			add_prestige = -2
			random_known_country = {
				limit = { has_country_flag = constantine_donation_cf }
				add_papal_influence = 10
			}
		}
		else_if = {
			limit = {
				NOT = {
					any_subject_country = {
						num_of_owned_provinces_with = {
							north_italy_region_trigger = yes
							is_core = PAP
							value = 2
						}
					}
				}
			}
			add_devotion = -5
			add_prestige = -1
			random_known_country = {
				limit = { has_country_flag = constantine_donation_cf }
				add_papal_influence = 5
			}
		}
	}
	option = {
		name = dg_papacy.035.b #Return to Rome
		trigger = {
			NOT = {
				any_country = {
					is_papal_controller = yes
					has_country_flag = constantine_donation_cf
				}
			}
			owns_rome_trigger = yes
			OR = {
				AND = {
					has_country_flag = secular_pope
					check_variable = { which = babylonian_captivity_resentment value = 7 }
				}
				AND = {
					has_country_flag = reformer_pope
					check_variable = { which = babylonian_captivity_resentment value = 4 }
				}
			}
		}
		ai_chance = { factor = 90 }
		hidden_effect = { set_variable = { which = babylonian_captivity_resentment value = 0 } }
		if = {
			limit = { any_subject_country = { owns_rome_trigger = yes } }
			2530 = { cede_province = PAP }
		}
		move_capital_to_rome = yes
	}
}

country_event = { #36 - Deposing a pope
	
	id = dg_papacy.036
	title = dg_papacy.036.t
	desc = dg_papacy.036.d
	picture = catholic_schism
	
	is_triggered_only = yes #By dg_papacy.035
	
	immediate = { clr_country_flag = constantine_donation_cf }
	
	option = {
		name = dg_papacy.036.a #Support the $PRIMARY_CULTURE$ pope
		ai_chance = {
			factor = 90
			modifier = {
				NOT = { num_of_cardinals = 9 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cardinals = 6 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cardinals = 3 }
				factor = 1.4
			}
		}
		set_country_flag = sponsored_antipope
		set_country_flag = support_antipope
		set_country_flag = excommunication_sponsoring_schism
		set_global_flag = dates_of_interest_schism_begins_1378
		random_owned_province = {
			limit = { has_cardinal = yes }
			remove_cardinal = yes
			clr_province_flag = cardinal_1_year
			clr_province_flag = cardinal_5_years
			clr_province_flag = cardinal_10_years
			clr_province_flag = cardinal_20_years
			clr_province_flag = cardinal_40_years
		}
		random_province = {
			limit = {
				has_province_flag = constantine_donation_pf
				owner = {
					OR = {
						tag = ROOT
						tag = PAP
					}
				}
			}
			add_core = AVI
			cede_province = AVI
		}
		vassalize = AVI
		random_province = {
			limit = { has_province_flag = constantine_donation_pf }
			clr_province_flag = constantine_donation_pf
		}
		if = {
			limit = { AVI = { papal_trigger = no } }
			AVI = { papafication_effect = yes }
		}
		AVI = {
			add_opinion = { who = PAP modifier = rival_popes }
			set_country_flag = support_antipope
			reverse_add_opinion = { who = PAP modifier = rival_popes }
			change_primary_culture = ROOT
		}
		create_guarantee = AVI
		PAP = {
			set_country_flag = support_roman_pope
			country_event = { id = dg_pope.026 }
		}
		reverse_add_casus_belli = { target = PAP type = cb_insult months = 60 }
		every_country = {
			limit = {
				ai = no
				religion = catholic
				OR = {
					has_country_flag = religious_news_major
					is_defender_of_faith = yes
					is_papal_controller = yes
					government = theocracy
				}
			}
			country_event = { id = dg_catholic.092 }
		}
	}
	option = {
		name = dg_papacy.036.b #Give up our claims to the province
		ai_chance = { factor = 10 }
		add_prestige = -10
		if = {
			limit = {
				num_of_cardinals = 1
			}
			if = {
				limit = { num_of_cardinals = 10 }
				add_papal_influence = -100
			}
			else_if = {
				limit = { num_of_cardinals = 8 }
				add_papal_influence = -80
			}
			else_if = {
				limit = { num_of_cardinals = 6 }
				add_papal_influence = -60
			}
			else_if = {
				limit = { num_of_cardinals = 4 }
				add_papal_influence = -40
			}
			else_if = {
				limit = { num_of_cardinals = 2 }
				add_papal_influence = -20
			}
			else = {
				add_papal_influence = -10
			}
		}
		every_owned_province = {
			limit = { has_cardinal = yes }
			remove_cardinal = yes
			clr_province_flag = cardinal_1_year
			clr_province_flag = cardinal_5_years
			clr_province_flag = cardinal_10_years
			clr_province_flag = cardinal_20_years
			clr_province_flag = cardinal_40_years
		}
		if = {
			limit = { patriarch_authority = 0.01 }
			if = {
				limit = { patriarch_authority = 0.80 }
				add_country_modifier = { name = unhappy_church_powerful duration = 2000 }
			}
			else_if = {
				limit = { patriarch_authority = 0.60 }
				add_country_modifier = { name = unhappy_church_strong duration = 2000 }
			}
			else_if = {
				limit = { patriarch_authority = 0.40 }
				add_country_modifier = { name = unhappy_church_moderate duration = 2000 }
			}
			else_if = {
				limit = { patriarch_authority = 0.20 }
				add_country_modifier = { name = unhappy_church_weak duration = 2000 }
			}
			else = {
				add_country_modifier = { name = unhappy_church_impotent duration = 2000 }
			}
		}
		random_province = {
			limit = {
				has_province_flag = constantine_donation_pf
			}
			clr_province_flag = constantine_donation_pf
			if = {
				limit = {
					is_claim = ROOT
				}
				remove_claim = ROOT
			}
			else_if = {
				limit = {
					owner = { tag = PAP }
					is_core = ROOT
				}
				remove_core = ROOT
			}
			else_if = {
				limit = {
					owner = { tag = ROOT }
				}
				remove_core = ROOT
				cede_province = PAP
			}
		}
	}
}

country_event = { #37 - Habemus Papam! (mob election)
	
	id = dg_papacy.037
	title = dg_pope.004.t
	desc = dg_papacy.037.d
	picture = catholic_habemus_papam
	
	is_triggered_only = yes #By dg_papacy.028
	
	immediate = {
		hidden_effect = {
			#every_country = {
			#	#limit = { has_country_flag = right_of_exclusion }
			#	clr_country_flag = right_of_exclusion
			#}
			PAP = {
				clr_country_flag = conclave_over
				clr_country_flag = last_pope_reformer
				clr_country_flag = last_pope_corrupt
				clr_country_flag = secular_pope
				clr_country_flag = reformer_pope
				clr_country_flag = corrupt_pope
				clr_country_flag = antipope_risen
				clr_country_flag = independent_pope
				set_global_flag = living_pope
				set_country_flag = newly_elected_pope
				set_country_flag = mob_election
			}
		}
		every_country = {
			#limit = { reverse_has_opinion_modifier = { who = PAP modifier = was_papal_controller } }
			clr_country_flag = right_of_exclusion
			reverse_remove_opinion = { who = PAP modifier = was_papal_controller }
			remove_opinion = { who = PAP modifier = was_papal_controller }
			PAP = {
				remove_opinion = { who = PREV modifier = was_papal_controller }
				reverse_remove_opinion = { who = PREV modifier = was_papal_controller }
			}
		}
		#every_country = {
		#	limit = { has_opinion_modifier = { who = PAP modifier = was_papal_controller } }
		#	remove_opinion = { who = PAP modifier = was_papal_controller }
		#	PAP = { remove_opinion = { who = PREV modifier = was_papal_controller } }
		#}
		#recalculate relationships with pope
		hidden_effect = {
			every_country = {
				limit = { religion = catholic }
				set_variable = { which = papacy_relationship value = 1 }
				if = {
					limit = { num_of_cardinals = 18 }
					change_variable = { which = papacy_relationship value = 7 }
				}
				else_if = {
					limit = { num_of_cardinals = 15 }
					change_variable = { which = papacy_relationship value = 6 }
				}
				else_if = {
					limit = { num_of_cardinals = 12 }
					change_variable = { which = papacy_relationship value = 5 }
				}
				else_if = {
					limit = { num_of_cardinals = 9 }
					change_variable = { which = papacy_relationship value = 4 }
				}
				else_if = {
					limit = { num_of_cardinals = 6 }
					change_variable = { which = papacy_relationship value = 3 }
				}
				else_if = {
					limit = { num_of_cardinals = 3 }
					change_variable = { which = papacy_relationship value = 2 }
				}
				else_if = {
					limit = { num_of_cardinals = 1 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { NOT = { has_opinion = { who = PAP value = -50 } } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								is_papal_controller = yes
								has_opinion = { who = ROOT value = -50 }
							}
						}
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_opinion = { who = PAP value = 100 } }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							has_opinion = { who = ROOT value = 100 }
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { is_papal_controller = yes }
					change_variable = { which = papacy_relationship value = 2 }
				}
				if = {
					limit = { owns = 2530 NOT = { tag = PAP } }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { is_rival = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { is_enemy = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { alliance_with = PAP }
					change_variable = { which = papacy_relationship value = 2 }
				}
				if = {
					limit = { war_with = PAP }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { truce_with = PAP }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { any_rival_country = { is_papal_controller = yes } }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = { any_enemy_country = { is_papal_controller = yes } }
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							war_with = ROOT
						}
					}
					change_variable = { which = papacy_relationship value = -2 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							truce_with = ROOT
						}
					}
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							marriage_with = ROOT
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_ally = {
							is_papal_controller = yes
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						any_known_country = {
							is_papal_controller = yes
							vassal_of = ROOT
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = {
						overlord = {
							is_papal_controller = yes
						}
					}
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { piety = 0.60 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { piety = 0.20 }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { NOT = { piety = -0.20 } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { NOT = { piety = -0.60 } }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = introduce_reformation }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = spread_reformation }
					change_variable = { which = papacy_relationship value = -1 }
				}
				if = {
					limit = { has_country_flag = patronato_real }
					change_variable = { which = papacy_relationship value = 1 }
				}
				if = {
					limit = { has_country_flag = constantine_donation_cf }
					change_variable = { which = papacy_relationship value = 3 }
				}
				if = {
					limit = { has_country_flag = concordat_with_vatican }
					change_variable = { which = papacy_relationship value = 1 }
				}
				#assign a flag to denote relationship
				if = {
					limit = { religion = catholic }
					if = {
						limit = { check_variable = { which = papacy_relationship value = 7 } }
						clr_country_flag = rival_of_pope
						clr_country_flag = enemy_of_pope
						clr_country_flag = friend_of_pope
						set_country_flag = ally_of_pope
					}
					else_if = {
						limit = {
							check_variable = { which = papacy_relationship value = 4 }
						}
						clr_country_flag = enemy_of_pope
						clr_country_flag = rival_of_pope
						set_country_flag = friend_of_pope
						clr_country_flag = ally_of_pope
					}
					else_if = {
						limit = {
							check_variable = { which = papacy_relationship value = 1 }
						}
						clr_country_flag = enemy_of_pope
						clr_country_flag = rival_of_pope
						clr_country_flag = friend_of_pope
						clr_country_flag = ally_of_pope
					}
					else_if = {
						limit = {
							check_variable = { which = papacy_relationship value = -2 }
						}
						clr_country_flag = enemy_of_pope
						set_country_flag = rival_of_pope
						clr_country_flag = friend_of_pope
						clr_country_flag = ally_of_pope
					}
					else = {
						set_country_flag = enemy_of_pope
						clr_country_flag = rival_of_pope
						clr_country_flag = friend_of_pope
						clr_country_flag = ally_of_pope
					}
				}
			}
			random_list = {
				40 = { PAP = { set_country_flag = reformer_pope } }
				50 = { PAP = { set_country_flag = secular_pope } }
				10 = { PAP = { set_country_flag = corrupt_pope } }
			}
		}
	}
	
	option = {
		name = dg_papacy.037.a #Let us see what he is like...
		add_prestige = -5
		add_papal_influence = -25
		if = {
			limit = { tag = PAP }
			add_devotion = -25
		}
		if = {
			limit = { PAP = { has_country_flag = reformer_pope } }
			reverse_add_opinion = { who = PAP modifier = papal_controller_reformer }
			PAP = { set_country_flag = last_pope_reformer }
			PAP = { define_ruler = {  } }
			hidden_effect = { assign_pope_culture = yes }
			every_country = { #Notifies interested countries of this event
				limit = {
					ai = no
					NOT = { tag = ROOT }
					OR = {
						tag = PAP
						AND = {
							religion = catholic
							OR = {
								num_of_cardinals = 1
								has_country_flag = ally_of_pope
								has_country_flag = enemy_of_pope
							}
							has_country_flag = religious_news_trivial
						}
						AND = {
							religion = catholic
							has_country_flag = religious_news_all
						}
					}
				}
				country_event = { id = dg_pope.006 }
			}
			hidden_effect = { #Decides which appointing new cardinals event to fire
				random_list = {
					10 = { set_variable = { which = papal_corruption_check value = 0 } }
					10 = { set_variable = { which = papal_corruption_check value = 1 } }
					10 = { set_variable = { which = papal_corruption_check value = 2 } }
					10 = { set_variable = { which = papal_corruption_check value = 3 } }
					10 = { set_variable = { which = papal_corruption_check value = 4 } }
					10 = { set_variable = { which = papal_corruption_check value = 5 } }
					10 = { set_variable = { which = papal_corruption_check value = 6 } }
					10 = { set_variable = { which = papal_corruption_check value = 7 } }
					10 = { set_variable = { which = papal_corruption_check value = 8 } }
					10 = { set_variable = { which = papal_corruption_check value = 9 } }
				}
				if = {
					limit = { PAP = { has_country_flag = corrupt_pope } }
					change_variable = { which = papal_corruption_check value = 3 }
				}
				if = {
					limit = { PAP = { has_country_flag = reformer_pope } }
					change_variable = { which = papal_corruption_check value = -3 }
				}
				if = {
					limit = { PAP = { has_country_flag = nepotism_abolished } }
					change_variable = { which = papal_corruption_check value = -3 }
				}
				if = {
					limit = { PAP = { has_country_flag = curia_limits_established } }
					change_variable = { which = papal_corruption_check value = -2 }
				}
				if = {
					limit = { PAP = { has_country_flag = internationalized_curia } }
					change_variable = { which = papal_corruption_check value = -1 }
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 0 } }
					if = {
						limit = { check_variable = { which = papal_corruption_check value = 10 } }
						country_event = { id = dg_pope.018 days = 30 }
					}
					else_if = {
						limit = { check_variable = { which = papal_corruption_check value = 5 }
						}
						country_event = { id = dg_pope.017 days = 30 }
					}
					else = {
						country_event = { id = dg_pope.016 days = 30 }
					}
				}
				set_variable = { which = papal_corruption_check value = 0 }
			}
		}
		if = {
			limit = { PAP = { has_country_flag = secular_pope } }
			reverse_add_opinion = { who = PAP modifier = papal_controller_secular }
			PAP = { set_country_flag = secular_pope }
			PAP = { define_ruler = {  } }
			hidden_effect = { assign_pope_culture = yes }
			every_country = { #Notifies interested countries of this event
				limit = {
					ai = no
					NOT = { tag = ROOT }
					OR = {
						tag = PAP
						AND = {
							religion = catholic
							OR = {
								num_of_cardinals = 1
								has_country_flag = ally_of_pope
								has_country_flag = enemy_of_pope
							}
							has_country_flag = religious_news_trivial
						}
						AND = {
							religion = catholic
							has_country_flag = religious_news_all
						}
					}
				}
				country_event = { id = dg_pope.007 }
			}
			hidden_effect = { #Decides which appointing new cardinals event to fire
				random_list = {
					10 = { set_variable = { which = papal_corruption_check value = 0 } }
					10 = { set_variable = { which = papal_corruption_check value = 1 } }
					10 = { set_variable = { which = papal_corruption_check value = 2 } }
					10 = { set_variable = { which = papal_corruption_check value = 3 } }
					10 = { set_variable = { which = papal_corruption_check value = 4 } }
					10 = { set_variable = { which = papal_corruption_check value = 5 } }
					10 = { set_variable = { which = papal_corruption_check value = 6 } }
					10 = { set_variable = { which = papal_corruption_check value = 7 } }
					10 = { set_variable = { which = papal_corruption_check value = 8 } }
					10 = { set_variable = { which = papal_corruption_check value = 9 } }
				}
				if = {
					limit = { PAP = { has_country_flag = corrupt_pope } }
					change_variable = { which = papal_corruption_check value = 3 }
				}
				if = {
					limit = { PAP = { has_country_flag = reformer_pope } }
					change_variable = { which = papal_corruption_check value = -3 }
				}
				if = {
					limit = { PAP = { has_country_flag = nepotism_abolished } }
					change_variable = { which = papal_corruption_check value = -3 }
				}
				if = {
					limit = { PAP = { has_country_flag = curia_limits_established } }
					change_variable = { which = papal_corruption_check value = -2 }
				}
				if = {
					limit = { PAP = { has_country_flag = internationalized_curia } }
					change_variable = { which = papal_corruption_check value = -1 }
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 0 } }
					if = {
						limit = { check_variable = { which = papal_corruption_check value = 10 } }
						country_event = { id = dg_pope.018 days = 30 }
					}
					else_if = {
						limit = { check_variable = { which = papal_corruption_check value = 5 }
						}
						country_event = { id = dg_pope.017 days = 30 }
					}
					else = {
						country_event = { id = dg_pope.016 days = 30 }
					}
				}
				set_variable = { which = papal_corruption_check value = 0 }
			}
		}
		if = {
			limit = { PAP = { has_country_flag = corrupt_pope } }
			if = {
				limit = {
					NOT = { tag = PAP }
					exists = PAP
					NOT = { war_with = PAP }
					NOT = { truce_with = PAP }
					NOT = { is_rival = PAP }
					NOT = { is_enemy = PAP }
				}
				create_alliance = PAP
			}
			reverse_add_opinion = { who = PAP modifier = papal_controller_corrupt }
			PAP = {
				set_country_flag = corrupt_pope
				set_country_flag = last_pope_corrupt
			}
			PAP = { define_ruler = {  } }
			hidden_effect = { assign_pope_culture = yes }
			every_country = { #Notifies interested countries of this event
				limit = {
					ai = no
					NOT = { tag = ROOT }
					OR = {
						tag = PAP
						AND = {
							religion = catholic
							OR = {
								num_of_cardinals = 1
								has_country_flag = ally_of_pope
								has_country_flag = enemy_of_pope
							}
							has_country_flag = religious_news_trivial
						}
						AND = {
							religion = catholic
							has_country_flag = religious_news_all
						}
					}
				}
				country_event = { id = dg_pope.008 }
			}
			hidden_effect = { #Decides which appointing new cardinals event to fire
				random_list = {
					10 = { set_variable = { which = papal_corruption_check value = 0 } }
					10 = { set_variable = { which = papal_corruption_check value = 1 } }
					10 = { set_variable = { which = papal_corruption_check value = 2 } }
					10 = { set_variable = { which = papal_corruption_check value = 3 } }
					10 = { set_variable = { which = papal_corruption_check value = 4 } }
					10 = { set_variable = { which = papal_corruption_check value = 5 } }
					10 = { set_variable = { which = papal_corruption_check value = 6 } }
					10 = { set_variable = { which = papal_corruption_check value = 7 } }
					10 = { set_variable = { which = papal_corruption_check value = 8 } }
					10 = { set_variable = { which = papal_corruption_check value = 9 } }
				}
				if = {
					limit = { PAP = { has_country_flag = corrupt_pope } }
					change_variable = { which = papal_corruption_check value = 3 }
				}
				if = {
					limit = { PAP = { has_country_flag = reformer_pope } }
					change_variable = { which = papal_corruption_check value = -3 }
				}
				if = {
					limit = { PAP = { has_country_flag = nepotism_abolished } }
					change_variable = { which = papal_corruption_check value = -3 }
				}
				if = {
					limit = { PAP = { has_country_flag = curia_limits_established } }
					change_variable = { which = papal_corruption_check value = -2 }
				}
				if = {
					limit = { PAP = { has_country_flag = internationalized_curia } }
					change_variable = { which = papal_corruption_check value = -1 }
				}
				if = {
					limit = { check_variable = { which = papal_corruption_check value = 0 } }
					if = {
						limit = { check_variable = { which = papal_corruption_check value = 10 } }
						country_event = { id = dg_pope.018 days = 30 }
					}
					else_if = {
						limit = { check_variable = { which = papal_corruption_check value = 5 }
						}
						country_event = { id = dg_pope.017 days = 30 }
					}
					else = {
						country_event = { id = dg_pope.016 days = 30 }
					}
				}
				set_variable = { which = papal_corruption_check value = 0 }
			}
		}
		if = {
			limit = { PAP = { capital_scope = { north_italy_region_trigger = no } } }
			hidden_effect = { PAP = { change_variable = { which = babylonian_captivity_resentment value = 3 } } }
			PAP = { country_event = { id = dg_papacy.035 days = 60 } } #Decline of the Papal States
		}
	}
}

########################
# PAPACY RANDOM EVENTS #
########################

country_event = { #Jubilee $YEAR$
	
	id = dg_papacy.041
	title = dg_papacy.041.t
	desc = dg_papacy.041.d
	picture = catholic_st_peters
	
	trigger = {
		tag = PAP
		papal_trigger = yes
		NOT = { has_country_modifier = jubilee_year }
		stability = -1 #Jubilees were not held in some years due to political disturbances
		capital_scope = { controlled_by = ROOT }
		is_at_war = no
		OR = { has_regency = no has_consort_regency = yes }
		OR = {
			#AND = { is_year = 1300 NOT = { is_year = 1301 } }
			#AND = { is_year = 1325 NOT = { is_year = 1326 } }
			#AND = { is_year = 1350 NOT = { is_year = 1351 } }
			AND = { is_year = 1375 NOT = { is_year = 1376 } }
			AND = { is_year = 1400 NOT = { is_year = 1401 } }
			AND = { is_year = 1425 NOT = { is_year = 1426 } }
			AND = { is_year = 1450 NOT = { is_year = 1451 } }
			AND = { is_year = 1475 NOT = { is_year = 1476 } }
			AND = { is_year = 1500 NOT = { is_year = 1501 } }
			AND = { is_year = 1525 NOT = { is_year = 1526 } }
			AND = { is_year = 1550 NOT = { is_year = 1551 } }
			AND = { is_year = 1575 NOT = { is_year = 1576 } }
			AND = { is_year = 1600 NOT = { is_year = 1601 } }
			AND = { is_year = 1625 NOT = { is_year = 1626 } }
			AND = { is_year = 1650 NOT = { is_year = 1651 } }
			AND = { is_year = 1675 NOT = { is_year = 1676 } }
			AND = { is_year = 1700 NOT = { is_year = 1701 } }
			AND = { is_year = 1725 NOT = { is_year = 1726 } }
			AND = { is_year = 1750 NOT = { is_year = 1751 } }
			AND = { is_year = 1775 NOT = { is_year = 1776 } }
			AND = { is_year = 1800 NOT = { is_year = 1801 } }
			AND = { is_year = 1825 NOT = { is_year = 1826 } }
			AND = { is_year = 1850 NOT = { is_year = 1851 } }
			#AND = { is_year = 1875 NOT = { is_year = 1876 } }
		}
		NOT = { exists = AVI }
	}
	
	mean_time_to_happen = { months = 3 }
	
	option = {
		name = dg_papacy.041.a #Call a jubilee
		add_country_modifier = { name = jubilee_year duration = 365 }
		#Gains prestige if overextension is low
		if = {
			limit = {
				NOT = { any_owned_province = { NOT = { is_core = ROOT } is_city = yes is_overseas = no } }
			}
			if = {
				limit = { piety = 0.60 }
				add_prestige = 6
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 4
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 2
			}
		}
		if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 450 } }
			}
			add_treasury = 25
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 400 } }
			}
			add_treasury = 20
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 350 } }
			}
			add_treasury = 18
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 300 } }
			}
			add_treasury = 15
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 250 } }
			}
			add_treasury = 12
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 200 } }
			}
			add_treasury = 10
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 180 } }
			}
			add_treasury = 9
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 160 } }
			}
			add_treasury = 8
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 140 } }
			}
			add_treasury = 7
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 120 } }
			}
			add_treasury = 6
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 100 } }
			}
			add_treasury = 5
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 80 } }
			}
			add_treasury = 4
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 60 } }
			}
			add_treasury = 3
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 40 } }
			}
			add_treasury = 2
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 30 } }
			}
			add_treasury = 1.5
		}
		else_if = {
			limit = {
				PAP = { check_variable = { which = papal_authority value = 20 } }
			}
			add_treasury = 1
		}
		else = {
			add_treasury = 0.5
		}
	}
}

country_event = { #Papal Relations
	
	id = dg_papacy.042
	title = dg_papacy.042.t
	desc = dg_papacy.042.d
	picture = catholic_papal_nepotism
	
	trigger = {
		tag = PAP
		NOT = { exists = AVI }
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { has_country_flag = papal_relations }
		NOT = { has_country_flag = reformer_pope }
		NOT = {
			has_country_flag = nepotism_abolished
			has_country_flag = secular_pope
		}
	}
	
	mean_time_to_happen = {
		
		years = 5
		
		modifier = {
			PAP = { has_country_flag = corrupt_pope }
			factor = 0.5
		}
		modifier = {
			PAP = { has_country_flag = nepotism_abolished }
			factor = 4
		}
	}
	
	immediate = {
		#Choosing a country
		hidden_effect = {
			every_country = {
				limit = { religion = catholic }
				set_variable = { which = papal_origins value = 1 }
				if = {
					limit = { num_of_cardinals = 6 }
					change_variable = { which = papal_origins value = 2 }
				}
				else_if = {
					limit = { num_of_cardinals = 3 }
					change_variable = { which = papal_origins value = 1.5 }
				}
				else_if = {
					limit = { num_of_cardinals = 1 }
					change_variable = { which = papal_origins value = 1 }
				}
				if = {
					limit = { NOT = { capital_distance = { who = PAP distance = 130 } } }
					change_variable = { which = papal_origins value = 1 }
				}
				if = {
					limit = { NOT = { capital_distance = { who = PAP distance = 260 } } }
					change_variable = { which = papal_origins value = 1 }
				}
				if = {
					limit = { PAP = { culture_group = ROOT } }
					change_variable = { which = papal_origins value = 2 }
				}
				if = {
					limit = { any_owned_province = { has_province_modifier = catholic_archbishopric } }
					change_variable = { which = papal_origins value = 0.5 }
				}
				if = {
					limit = { war_with = PAP }
					change_variable = { which = papal_origins value = -1 }
				}
				if = {
					limit = { papal_trigger = yes }
					set_variable = { which = papal_origins value = 0 }
				}
			}
			random_known_country = {
				limit = {
					PAP = { NOT = { has_country_flag = papal_relations } }
					check_variable = { which = papal_origins value = 6 }
				}
				PAP = { set_country_flag = papal_relations }
				set_country_flag = papal_relations_target
			}
			random_known_country = {
				limit = {
					PAP = { NOT = { has_country_flag = papal_relations } }
					check_variable = { which = papal_origins value = 5 }
				}
				PAP = { set_country_flag = papal_relations }
				set_country_flag = papal_relations_target
			}
			random_known_country = {
				limit = {
					PAP = { NOT = { has_country_flag = papal_relations } }
					check_variable = { which = papal_origins value = 4 }
				}
				PAP = { set_country_flag = papal_relations }
				set_country_flag = papal_relations_target
			}
			random_known_country = {
				limit = {
					PAP = { NOT = { has_country_flag = papal_relations } }
					check_variable = { which = papal_origins value = 3 }
				}
				PAP = { set_country_flag = papal_relations }
				set_country_flag = papal_relations_target
			}
			random_known_country = {
				limit = {
					PAP = { NOT = { has_country_flag = papal_relations } }
					check_variable = { which = papal_origins value = 2 }
				}
				PAP = { set_country_flag = papal_relations }
				set_country_flag = papal_relations_target
			}
			random_known_country = {
				limit = {
					PAP = { NOT = { has_country_flag = papal_relations } }
					check_variable = { which = papal_origins value = 1 }
				}
				PAP = { set_country_flag = papal_relations }
				set_country_flag = papal_relations_target
			}
			every_country = {
				limit = { check_variable = { which = papal_origins value = 1 } }
				set_variable = { which = papal_origins value = 0 }
			}
			#End search
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_papal_relations value = 0.6 } }
			}
			add_reform_desire = 0.006
		}
		hidden_effect = {
			random_list = {
				25 = { set_country_flag = advisor_statesman }
				25 = { set_country_flag = advisor_artist }
				25 = { set_country_flag = advisor_treasurer }
				25 = { set_country_flag = advisor_trader }
			}
			every_country = {
				limit = {
					is_rival = PAP
					num_of_cardinals = 1
				}
				change_variable = { which = catholic_corruption value = 1 }
				set_country_flag = papal_nepotism
			}
		}
	}
	
	option = {
		name = dg_papacy.042.e #Appoint our brother to head the papal army
		trigger = { NOT = { num_of_generals = 2 } }
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { num_of_generals = 1 }
				factor = 2
			}
		}
		create_general = { tradition = 0 }
		add_army_tradition = -5
		hidden_effect = {
			clr_country_flag = advisor_treasurer
			clr_country_flag = advisor_artist
			clr_country_flag = advisor_trader
			clr_country_flag = advisor_statesman
		}
		random_known_country = {
			limit = { has_country_flag = papal_relations_target }
			hidden_effect = { clr_country_flag = papal_relations_target }
			add_opinion = { who = PAP modifier = papal_relations_warm }
			country_event = { id = dg_papacy.051 days = 30 }
		}
	}
	option = {
		name = dg_papacy.042.f #Elevate our uncle to the rank of duke
		trigger = {
			NOT = { any_owned_province = { has_province_modifier = roman_autonomy } }
			any_owned_province = {
				is_core = owner
				is_capital = no
				north_italy_region_trigger = yes
				NOT = { has_province_modifier = roman_autonomy }
			}
		}
		ai_chance = {
			factor = 20
		}
		random_owned_province = {
			limit = {
				is_core = owner
				is_capital = no
				north_italy_region_trigger = yes
				NOT = { has_province_modifier = roman_autonomy }
			}
			add_province_modifier = { name = roman_autonomy duration = 5000 }
		}
		hidden_effect = {
			clr_country_flag = advisor_treasurer
			clr_country_flag = advisor_artist
			clr_country_flag = advisor_trader
			clr_country_flag = advisor_statesman
		}
		random_known_country = {
			limit = { has_country_flag = papal_relations_target }
			hidden_effect = {
				clr_country_flag = papal_relations_target
				set_country_flag = papal_relations_gold
			}
			add_opinion = { who = PAP modifier = papal_relations_warm }
			country_event = { id = dg_papacy.051 days = 30 }
		}
	}
	option = {
		name = dg_papacy.042.g #Make our nephews cardinals
		trigger = { NOT = { PAP = { has_country_flag = nepotism_abolished } } }
		ai_chance = { factor = 30 }
		add_devotion = -20
		clr_country_flag = advisor_treasurer
		clr_country_flag = advisor_artist
		clr_country_flag = advisor_trader
		clr_country_flag = advisor_statesman
		random_known_country = {
			limit = { has_country_flag = papal_relations_target }
			hidden_effect = {
				clr_country_flag = papal_relations_target
				set_country_flag = papal_relations_cardinals
			}
			add_opinion = { who = PAP modifier = papal_relations_warm }
			country_event = { id = dg_papacy.051 days = 30 }
		}
	}
	option = {
		name = dg_papacy.042.h #Provide financial aid to our cousins
		trigger = { is_bankrupt = no NOT = { num_of_loans = 3 } }
		ai_chance = {
			factor = 20
			modifier = {
				num_of_loans = 1
				factor = 0.7
			}
			modifier = {
				num_of_loans = 2
				factor = 0.7
			}
			modifier = {
				NOT = { years_of_income = 0.1 }
				factor = 0.7
			}
			modifier = {
				NOT = { years_of_income = 0.3 }
				factor = 0.7
			}
			modifier = {
				NOT = { years_of_income = 0.5 }
				factor = 0.7
			}
			modifier = {
				years_of_income = 1
				factor = 1.4
			}
			modifier = {
				years_of_income = 2
				factor = 1.4
			}
			modifier = {
				has_country_flag = reformer_pope
				factor = 0.7
			}
			modifier = {
				has_country_flag = corrupt_pope
				factor = 2
			}
			modifier = {
				has_ruler_modifier = belt_tightening
				factor = 0.7
			}
		}
		if = {
			limit = { monthly_income = 100 }
			add_treasury = -100
		}
		else_if = {
			limit = { monthly_income = 5 }
			add_years_of_income = -0.08
		}
		else = {
			add_treasury = -5
		}
		hidden_effect = {
			clr_country_flag = advisor_treasurer
			clr_country_flag = advisor_artist
			clr_country_flag = advisor_trader
			clr_country_flag = advisor_statesman
		}
		random_known_country = {
			limit = { has_country_flag = papal_relations_target }
			hidden_effect = {
				clr_country_flag = papal_relations_target
				set_country_flag = papal_relations_gold
			}
			add_opinion = { who = PAP modifier = papal_relations_warm }
			country_event = { id = dg_papacy.051 days = 30 }
		}
	}
	option = {
		name = dg_papacy.042.i #Make our family wealthy by dispensing favors
		ai_chance = {
			factor = 10
			modifier = {
				has_country_flag = corrupt_pope
				factor = 2
			}
		}
		add_prestige = -5
		if = {
			limit = { monthly_income = 100 }
			add_treasury = -50
		}
		else_if = {
			limit = { monthly_income = 5 }
			add_years_of_income = -0.04
		}
		else = {
			add_treasury = -2.5
		}
		if = {
			limit = { has_country_flag = advisor_statesman }
			define_advisor = { religion = catholic type = statesman discount = yes }
		}
		else_if = {
			limit = { has_country_flag = advisor_artist }
			define_advisor = { religion = catholic type = artist discount = yes }
		}
		else_if = {
			limit = { has_country_flag = advisor_treasurer }
			define_advisor = { religion = catholic type = treasurer discount = yes }
		}
		else_if = {
			limit = { has_country_flag = advisor_trader }
			define_advisor = { religion = catholic type = trader discount = yes }
		}
		hidden_effect = {
			clr_country_flag = advisor_treasurer
			clr_country_flag = advisor_artist
			clr_country_flag = advisor_trader
			clr_country_flag = advisor_statesman
		}
		random_known_country = {
			limit = { has_country_flag = papal_relations_target }
			hidden_effect = {
				clr_country_flag = papal_relations_target
				set_country_flag = papal_relations_gold
				set_country_flag = papal_relations_cardinals
			}
			add_opinion = { who = PAP modifier = papal_relations_warm }
			country_event = { id = dg_papacy.051 days = 30 }
		}
	}
}

#THE PAPAL COURT - REMOVED IN MEIOU (REPLACED WITH GENERIC COURT SYSTEM)

country_event = { #The Church's Patronage
	
	id = dg_papacy.044
	title = dg_papacy.044.t
	desc = dg_papacy.044.d
	picture = renaissance_painters
	
	trigger = {
		papal_trigger = yes
		is_at_war = no
		NOT = { has_country_flag = religious_patronage }
		NOT = { has_ruler_modifier = belt_tightening }
	}
	
	mean_time_to_happen = {
		
		years = 10
		
		modifier = {
			has_idea = patron_of_art
			factor = 0.5
		}
		modifier = {
			advisor = artist
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = religious_patronage }
	
	option = {
		name = dg_papacy.044.a #Commission a great work of art
		ai_chance = { factor = 40 }
		if = {
			limit = { monthly_income = 100 }
			add_treasury = -100
		}
		else_if = {
			limit = { monthly_income = 5 }
			add_years_of_income = -0.08
		}
		else = {
			add_treasury = -5
		}
		add_prestige = 2
	}
	option = {
		name = dg_papacy.044.b #Maintain court artists and scribes
		ai_chance = { factor = 50 }
		if = {
			limit = { monthly_income = 100 }
			add_treasury = -25
		}
		else_if = {
			limit = { monthly_income = 5 }
			add_years_of_income = -0.02
		}
		else = {
			add_treasury = -1
		}
	}
	option = {
		name = dg_papacy.044.c #Cut down on needless expenses
		ai_chance = { factor = 10 }
		add_prestige = -5
	}
}


country_event = { #The glory of $CAPITAL_CITY$
	
	id = dg_papacy.045
	title = dg_papacy.045.t
	desc = dg_papacy.045.d
	picture = catholic_building_project
	
	trigger = {
		papal_trigger = yes
		is_at_war = no
		NOT = { any_owned_province = { has_province_modifier = building_program } }
		NOT = { any_owned_province = { has_province_modifier = great_temple_progress } }
		NOT = { has_ruler_modifier = belt_tightening }
		OR = {
			capital_scope = { province_rome_trigger = yes }
			owns_rome_trigger = no
		}
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 0.7
		}
		modifier = {
			num_of_loans = 1
			factor = 2
		}
		modifier = {
			is_bankrupt = yes
			factor = 5
		}
		modifier = {
			years_of_income = 0.5
			factor = 0.7
		}
		modifier = {
			years_of_income = 1
			factor = 0.7
		}
		modifier = {
			treasury = 100
			factor = 0.7
		}
		modifier = {
			treasury = 200
			factor = 0.7
		}
	}
	
	option = {
		name = dg_papacy.045.e #Build the Basilica of St. Peter
		trigger = {
			#NOT = { any_owned_province = { has_province_modifier = great_temple } }
			#NOT = { any_owned_province = { has_province_modifier = great_cathedral } }
			#NOT = { any_owned_province = { has_province_modifier = great_mosque } }
			#NOT = { any_owned_province = { has_province_modifier = great_synagogue } }
			NOT = { any_owned_province = { has_building = great_temple } }
		}
		ai_chance = {
			factor = 30
			modifier = {
				118 = { has_province_modifier = great_temple_progress }
				factor = 3
			}
		}
		add_treasury = -50
		hidden_effect = { change_variable = { which = st_peters_basilica value = 1 } }
		if = {
			limit = { NOT = { advisor = architect } }
			define_advisor = { religion = catholic type = architect discount = yes }
		}
		118 = {
			add_province_modifier = { name = great_temple_progress duration = -1 }
			hidden_effect = { set_variable = { which = great_temple value = 10 } }
		}
	}
	option = {
		name = dg_papacy.045.a #Build a great palace
		ai_chance = {
			factor = 30
			modifier = {
				num_of_loans = 1
				factor = 0.7
			}
			modifier = {
				num_of_loans = 2
				factor = 0.7
			}
			modifier = {
				is_bankrupt = yes
				factor = 0.5
			}
			modifier = {
				NOT = { treasury = 10 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 25 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 50 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 100 }
				factor = 0.7
			}
			modifier = {
				treasury = 250
				factor = 1.4
			}
			modifier = {
				treasury = 500
				factor = 1.4
			}
			modifier = {
				any_owned_province = { religion = catholic is_core = ROOT temple_trigger = no }
				factor = 1.4
			}
		}
		if = {
			limit = { monthly_income = 8 }
			add_years_of_income = -0.25
		}
		else = {
			add_treasury = -25
		}
		capital_scope = {
			add_province_modifier = { name = building_program duration = 3000 }
			owner = {
				if = {
					limit = { NOT = { advisor = architect } }
					define_advisor = { religion = catholic type = architect discount = yes }
				}
			}
		}
	}
	#option = {
	#	name = dg_papacy.045.b #Build a cathedral
	#	ai_chance = {
	#		factor = 30
	#		}
	#	trigger = {
	#		any_owned_province = {
	#			religion = catholic
	#			is_core = ROOT
	#			cathedral_trigger = no
	#			OR = {
	#				num_free_building_slots = 1
	#				temple_trigger = no
	#				}
	#			}
	#		}
	#	add_treasury = -50
	#	random_owned_province = {
	#		limit = {
	#			religion = catholic
	#			is_core = ROOT
	#			cathedral_trigger = no
	#			OR = {
	#				num_free_building_slots = 1
	#				temple_trigger = no
	#				}
	#			}
	#		if = {
	#			limit = { temple_trigger = yes }
	#			add_building = great_temple
	#			remove_building = temple
	#			}
	#		if = {
	#			limit = { temple_trigger = no }
	#			add_building = temple
	#			}
	#		}
	#	}
	option = {
		name = dg_papacy.045.c #There are better things to spend this money on
		ai_chance = {
			factor = 10
			modifier = {
				num_of_loans = 1
				factor = 1.4
			}
			modifier = {
				num_of_loans = 2
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 2
			}
			modifier = {
				NOT = { treasury = 10 }
				factor = 1.4
			}
			modifier = {
				NOT = { treasury = 25 }
				factor = 1.4
			}
			modifier = {
				NOT = { treasury = 50 }
				factor = 1.4
			}
			modifier = {
				NOT = { treasury = 100 }
				factor = 1.4
			}
			modifier = {
				treasury = 250
				factor = 0.7
			}
			modifier = {
				treasury = 500
				factor = 0.7
			}
			modifier = {
				treasury = 1000
				factor = 0.7
			}
		}
		add_prestige = -5
	}
}

country_event = { #Papal Finances (indulgences)
	
	id = dg_papacy.046
	title = dg_papacy.046.t
	desc = dg_papacy.046.d
	picture = catholic_indulgences
	
	trigger = {
		tag = PAP
		OR = {
			is_bankrupt = yes
			num_of_loans = 1
			NOT = { years_of_income = 0.25 }
			NOT = { num_of_cities = 3 }
			NOT = { ADM = 3 }
			has_country_flag = corrupt_pope
		}
		NOT = { has_country_flag = papal_finances } #Removed with new pope
		OR = { has_regency = no has_consort_regency = yes }
	}
	
	mean_time_to_happen = {
		
		years = 10
		
		modifier = {
			is_year = 1500
			NOT = { is_religion_enabled = protestant }
			factor = 0.7
		}
	}
	
	immediate = { set_country_flag = papal_finances }
	
	option = {
		name = dg_papacy.046.e #Order priests to charge for their services
		trigger = { NOT = { has_country_flag = papal_financial_demands } }
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = corrupt_pope
				factor = 2
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_papal_finances value = 1 } }
			}
		}
		add_reform_desire = 0.01
		if = {
			limit = { monthly_income = 8.4 }
			add_years_of_income = 1
		}
		else = {
			add_treasury = 100
		}
		set_country_flag = papal_financial_demands
	}
	option = {
		name = dg_papacy.046.a #Grant indulgences in exchange for alms
		trigger = {
			has_country_flag = papal_financial_demands
			NOT = { has_country_flag = indulgences_permitted }
			NOT = { has_country_flag = indulgences_banned }
			tech_1450_trigger = yes
		}
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = corrupt_pope
				factor = 2
			}
			modifier = {
				is_year = 1500
				factor = 2
			}
			modifier = {
				is_year = 1510
				factor = 2
			}
			modifier = {
				is_year = 1520
				factor = 2
			}
			modifier = {
				num_of_loans = 1
				factor = 1.4
			}
			modifier = {
				NOT = { years_of_income = 0.25 }
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cities = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { ADM = 3 }
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 2
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_papal_finances value = 1 } }
			}
		}
		add_reform_desire = 0.01
		if = {
			limit = { monthly_income = 8.4 }
			add_years_of_income = 1
		}
		else = {
			add_treasury = 100
		}
		set_country_flag = indulgences_permitted
	}
	option = {
		name = dg_papacy.046.b #Introduce a public lottery
		ai_chance = { factor = 20 }
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_papal_finances value = 1 } }
			}
		}
		add_reform_desire = 0.01
		if = {
			limit = { monthly_income = 10 }
			add_years_of_income = 0.08
		}
		else = {
			add_treasury = 10
		}
	}
	option = {
		name = dg_papacy.046.c #Raise taxes and tighten our belts
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		ai_chance = { factor = 20 }
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
		add_ruler_modifier = { name = belt_tightening }
		remove_country_modifier = exalted_court
		random_owned_province = {
			limit = { has_province_modifier = building_program }
			remove_province_modifier = building_program
		}
	}
}

country_event = { #49 - The Sack of Rome (Papal States)
	
	id = dg_papacy.049
	title = dg_papacy.049.t
	desc = dg_papacy.049.d
	picture = catholic_burning_church
	
	trigger = {
		tag = PAP
		NOT = { PAP = { has_country_flag = sack_of_rome } }
		owns = 118 # Lazio
		NOT = { controls = 118 }
		118 = { controller = { religion = catholic NOT = { piety = 0.20 } } }
	}
	
	mean_time_to_happen = { months = 10 }
	
	option = {
		name = dg_papacy.049.a #Repair the damage as best we can
		random_owned_province = {
			limit = { province_id = 2530 } # Roma
			add_province_modifier = {
				name = "nationalists_organizing"
				duration = 1825
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 5 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_5
			#remove_building = temple
			#remove_building = great_temple
			#remove_building = marketplace
			if = {
				limit = { has_province_modifier = great_temple_progress }
				hidden_effect = { change_variable = { which = great_temple value = -25 } }
			}
			if = {
				#limit = { has_province_modifier = great_cathedral }
				limit = { has_building = great_temple }
				hidden_effect = { change_variable = { which = great_temple value = -25 } }
				#remove_province_modifier = great_cathedral
				remove_building = great_temple
				remove_building = temple_heathen
				clr_province_flag = great_cathedral
				add_building = temple
				add_province_modifier = { name = great_temple_progress duration = -1 }
			}
			controller = { country_event = { id = dg_papacy.050 } }
		}
		remove_advisor = artist
		remove_advisor = philosopher
		if = {
			limit = { has_global_flag = living_pope }
			random = { chance = 50 country_event = { id = dg_pope.001 } }
		}
		hidden_effect = { PAP = { set_country_flag = sack_of_rome } }
	}
}

country_event = { #50 - The Sack of Rome (attacker)
	
	id = dg_papacy.050
	title = dg_papacy.050.t
	desc = dg_papacy.050.d
	picture = catholic_burning_church
	
	is_triggered_only = yes
	
	immediate = {
		add_papal_influence = -50
	}
	
	option = {
		name = dg_papacy.050.a #Disavow this act and execute ringleaders
		ai_chance = { factor = 80 }
		kill_leader = {
			type = random
		}
		add_army_tradition = -5
	}
	option = {
		name = dg_papacy.050.b #What is done is done
		ai_chance = { factor = 20 }
		add_papal_influence = -50
		if = {
			limit = { patriarch_authority = 0.80 }
			add_country_modifier = { name = religious_scandal_country_strong duration = 500 }
		}
		else_if = {
			limit = { patriarch_authority = 0.60 }
			add_country_modifier = { name = religious_scandal_country duration = 500 }
		}
		else_if = {
			limit = { patriarch_authority = 0.40 }
			add_country_modifier = { name = religious_scandal_country_weak duration = 500 }
		}
	}
}

country_event = { #51 - The $PRIMARY_CULTURE$ pope
	
	id = dg_papacy.051
	title = dg_papacy.051.t
	desc = dg_papacy.051.d
	picture = catholic_habemus_papam
	
	is_triggered_only = yes
	
	option = {
		name = dg_papacy.051.a #
		reverse_add_opinion = { who = PAP modifier = papal_relations_warm }
		hidden_effect = {
			if = {
				limit = { has_country_flag = friend_of_pope }
				clr_country_flag = friend_of_pope
				set_country_flag = ally_of_pope
			}
			else_if = {
				limit = { has_country_flag = rival_of_pope }
				clr_country_flag = rival_of_pope
			}
			else_if = {
				limit = { has_country_flag = enemy_of_pope }
				clr_country_flag = enemy_of_pope
				set_country_flag = rival_of_pope
			}
			else = {
				set_country_flag = friend_of_pope
			}
		}
		if = {
			limit = {
				has_country_flag = papal_relations_gold
			}
			if = {
				limit = {
					PAP = { monthly_income = 100 }
				}
				add_treasury = 20
			}
			else_if = {
				limit = {
					PAP = { monthly_income = 80 }
				}
				add_treasury = 16
			}
			else_if = {
				limit = {
					PAP = { monthly_income = 60 }
				}
				add_treasury = 12
			}
			else_if = {
				limit = {
					PAP = { monthly_income = 40 }
				}
				add_treasury = 8
			}
			else_if = {
				limit = {
					PAP = { monthly_income = 20 }
				}
				add_treasury = 4
			}
			else_if = {
				limit = {
					PAP = { monthly_income = 5 }
				}
				add_treasury = 2
			}
			else = {
				add_treasury = 1
			}
		}
		if = {
			limit = {
				has_country_flag = papal_relations_cardinals
			}
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				add_papal_influence = 18
			}
			else_if = {
				limit = {
					PAP = { has_country_flag = reformer_pope }
				}
				add_papal_influence = 6
			}
			else = {
				add_papal_influence = 12
			}
		}
		else_if = {
			limit = {
				NOT = { has_country_flag = papal_relations_cardinals }
			}
			if = {
				limit = { PAP = { has_country_flag = corrupt_pope } }
				add_papal_influence = 9
			}
			else_if = {
				limit = {
					PAP = { has_country_flag = reformer_pope }
				}
				add_papal_influence = 3
			}
			else = {
				add_papal_influence = 5
			}
		}
		hidden_effect = {
			clr_country_flag = papal_relations_gold
			clr_country_flag = papal_relations_cardinals
		}
	}
}

country_event = { #52 - Questioning the Donation of Constantine
	
	id = dg_papacy.052
	title = dg_papacy.052.t
	desc = dg_papacy.052.d
	picture = catholic_trial
	
	trigger = {
		religion = catholic
		theologian = 3
		OR = {
			has_country_flag = renaissance
			has_country_flag = humanism
		}
		NOT = { has_country_flag = constantine_donation_cf_questioned }
		NOT = { government = theocracy }
		NOT = { PAP = { has_country_flag = constantine_donation_cf_exposed } }
	}
	
	mean_time_to_happen = {
		
		years = 8
		
		modifier = {
			has_country_flag = humanism
			factor = 0.25
		}
	}
	
	option = {
		name = dg_papacy.052.a #Raise questions about its authenticity
		ai_chance = {
			factor = 50
			modifier = {
				num_of_cardinals = 3
				factor = 0.7
			}
			modifier = {
				num_of_cardinals = 6
				factor = 0.7
			}
			modifier = {
				any_owned_province = { north_italy_region_trigger = yes }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 0.7
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
			modifier = {
				NOT = { religious_unity = 1.00 }
				factor = 1.4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 1.4
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 1.4
			}
		}
		add_papal_influence = -10
		if = {
			limit = { piety = 0.60 }
			add_prestige = 1
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = 2
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = 3
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = 4
		}
		else = {
			add_prestige = 5
		}
		reverse_add_opinion = { who = PAP modifier = disobeyed_religious_leader }
		add_opinion = { who = PAP modifier = papacy_bad }
		PAP = { country_event = { id = dg_papacy.053 days = 30 } }
	}
	option = {
		name = dg_papacy.052.b #Order him silenced
		ai_chance = { factor = 50 }
		remove_advisor = theologian
	}
}

country_event = { #53 - Pope's Legitimacy Questioned
	
	id = dg_papacy.053
	title = dg_papacy.053.t
	desc = dg_papacy.053.d
	picture = catholic_trial
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_country_flag = constantine_donation_cf_questioned }
			set_country_flag = constantine_donation_cf_exposed
		}
		set_country_flag = constantine_donation_cf_questioned
	}
	
	option = {
		name = dg_papacy.053.a #Deny these accusations
		trigger = {
			OR = {
				NOT = { has_country_flag = constantine_donation_cf_exposed }
				DIP = 4
			}
		}
		ai_chance = { factor = 90 }
		add_prestige = -5
		add_opinion = { who = FROM modifier = disobeyed_religious_leader }
		reverse_add_opinion = { who = FROM modifier = papacy_bad }
		FROM = { add_papal_influence = -10 }
	}
	option = {
		name = dg_papacy.053.b #Accept the inevitable
		ai_chance = { factor = 10 }
		custom_tooltip = papal_authority_lowered
		add_prestige = -20
		every_province = {
			limit = {
				north_italy_region_trigger = yes
				is_claim = PAP
				NOT = { owned_by = PAP }
			}
			remove_claim = PAP
		}
	}
}

country_event = { #54 - Pope $MONARCH$ the Wicked (Alexander VI + poison)
	
	id = dg_papacy.054
	title = dg_papacy.054.t
	desc = dg_papacy.054.d
	picture = catholic_papal_nepotism
	
	trigger = {
		tag = PAP
		has_country_flag = patriarch_corrupt
		is_at_war = no
		NOT = { has_country_flag = wicked_pope }
		not_have_religious_scandal = yes
		papal_trigger = yes
		OR = { has_regency = no has_consort_regency = yes }
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		set_country_flag = wicked_pope
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_papal_corruption value = 0.6 } }
			}
		}
		add_reform_desire = 0.006
	}
	
	option = {
		name = dg_papacy.054.a
		dg_reduce_prestige_small = yes
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_scandal_country_strong duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_scandal_country duration = 2000 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_scandal_country duration = 1000 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_scandal_country_weak duration = 2000 }
		}
		else = {
			add_country_modifier = { name = religious_scandal_country_weak duration = 1000 }
		}
	}
}

country_event = { #55 - Pope $MONARCH$ the Lustful (Alexander VI + lucrezia)
	
	id = dg_papacy.055
	title = dg_papacy.055.t
	desc = dg_papacy.055.d
	picture = catholic_papal_nepotism
	
	trigger = {
		tag = PAP
		has_country_flag = patriarch_corrupt
		is_at_war = no
		NOT = { has_country_flag = incestuous_pope }
		not_have_religious_scandal = yes
		papal_trigger = yes
		OR = { has_regency = no has_consort_regency = yes }
	}
	
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		set_country_flag = incestuous_pope
		hidden_effect = {
			if = {
				limit = { NOT = { is_religion_enabled = protestant } }
				PAP = { change_variable = { which = reform_desire_papal_corruption value = 0.6 } }
			}
		}
		add_reform_desire = 0.006
	}
	
	option = {
		name = dg_papacy.054.a
		dg_reduce_prestige_small = yes
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_scandal_country_strong duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_scandal_country duration = 2000 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_scandal_country duration = 1000 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_scandal_country_weak duration = 2000 }
		}
		else = {
			add_country_modifier = { name = religious_scandal_country_weak duration = 1000 }
		}
	}
}

country_event = { #56 - Conspiracy against the Pope (Leo X)
	
	id = dg_papacy.056
	title = dg_papacy.056.t
	desc = dg_papacy.056.d
	picture = catholic_heretic_execution
	
	trigger = {
		tag = PAP
		has_country_flag = patriarch_corrupt
		NOT = { has_global_flag = cardinal_conspiracy }
		OR = {
			has_country_flag = wicked_pope
			has_country_flag = incestuous_pope
		}
		OR = {
			NOT = { had_country_flag = { flag = wicked_pope days = 5000 } }
			NOT = { had_country_flag = { flag = incestuous_pope days = 5000 } }
		}
		papal_trigger = yes
		OR = { has_regency = no has_consort_regency = yes }
		is_at_war = no
	}
	
	mean_time_to_happen = { years = 8 }
	
	
	immediate = {
		set_global_flag = cardinal_conspiracy
		hidden_effect = {
			regiongroup = {
				region = {
					limit = { has_cardinal = yes }
					random = { chance = 10 set_province_flag = cardinal_conspirator }
				}
			}
			regiongroup = {
				region = {
					limit = {
						has_cardinal = yes
						owner = { has_country_flag = enemy_of_pope }
					}
					random = { chance = 10 set_province_flag = cardinal_conspirator }
				}
			}
			regiongroup = {
				region = {
					limit = {
						has_cardinal = yes
						owner = { has_country_flag = rival_of_pope }
					}
					random = { chance = 10 set_province_flag = cardinal_conspirator }
				}
			}
			regiongroup = {
				region = {
					limit = {
						has_cardinal = yes
						owner = { truce_with = PAP }
					}
					random = { chance = 10 set_province_flag = cardinal_conspirator }
				}
			}
			regiongroup = {
				region = {
					limit = {
						has_province_flag = cardinal_conspirator
						owned_by = ROOT
					}
					clr_province_flag = cardinal_conspirator
					set_province_flag = papal_conspirator
				}
			}
		}
	}
	
	option = {
		name = dg_papacy.056.a
		dg_reduce_prestige_small = yes
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_scandal_country_strong duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_scandal_country duration = 2000 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_scandal_country duration = 1000 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_scandal_country_weak duration = 2000 }
		}
		else = {
			add_country_modifier = { name = religious_scandal_country_weak duration = 1000 }
		}
		every_owned_province = {
			limit = { has_province_flag = cardinal_conspirator }
			clr_province_flag = cardinal_1_year
			clr_province_flag = cardinal_5_years
			clr_province_flag = cardinal_10_years
			clr_province_flag = cardinal_20_years
			clr_province_flag = cardinal_40_years
			clr_province_flag = papal_conspirator
			remove_cardinal = yes
		}
		every_country = {
			limit = { any_owned_province = { has_province_flag = cardinal_conspirator } }
			country_event = { id = dg_papacy.057 days = 1 }
		}
	}
}

country_event = { #57 - Conspiracy against the Pope (each nation with cardinals)
	
	id = dg_papacy.057
	title = dg_papacy.056.t
	desc = dg_papacy.056.d
	picture = catholic_heretic_execution
	
	is_triggered_only = yes
	
	option = {
		name = dg_papacy.057.a
		every_owned_province = {
			limit = { has_province_flag = cardinal_conspirator }
			clr_province_flag = cardinal_1_year
			clr_province_flag = cardinal_5_years
			clr_province_flag = cardinal_10_years
			clr_province_flag = cardinal_20_years
			clr_province_flag = cardinal_40_years
			clr_province_flag = cardinal_conspirator
			remove_cardinal = yes
			owner = { add_papal_influence = -10 }
		}
	}
}

############################
# CHURCH WIDE PAPAL EVENTS #
############################

country_event = { #Charitable order founded
	
	id = dg_papacy.061
	title = dg_papacy.061.t
	desc = dg_papacy.061.d
	picture = catholic_order_founded
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		OR = { has_regency = no has_consort_regency = yes }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			is_at_war = yes
			factor = 1.4
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { set_country_flag = charity_decision }
			random_known_country = {
				limit = {
					PAP = { has_country_flag = charity_decision }
					has_country_flag = ally_of_pope
					religion = catholic
					NOT = { has_country_flag = last_charitable_order }
					any_owned_province = {
						religion = catholic
						NOT = { has_province_flag = charitable_order }
					}
				}
				set_country_flag = charity_case
				PAP = { clr_country_flag = charity_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = charity_decision }
					has_country_flag = friend_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = last_charitable_order }
					any_owned_province = {
						religion = catholic
						NOT = { has_province_flag = charitable_order }
					}
				}
				set_country_flag = charity_case
				PAP = { clr_country_flag = charity_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = charity_decision }
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = rival_of_pope }
					NOT = { has_country_flag = enemy_of_pope }
					NOT = { has_country_flag = last_charitable_order }
					any_owned_province = {
						religion = catholic
						NOT = { has_province_flag = charitable_order }
					}
				}
				set_country_flag = charity_case
				PAP = { clr_country_flag = charity_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = charity_decision }
					has_country_flag = rival_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = enemy_of_pope }
					NOT = { has_country_flag = last_charitable_order }
					any_owned_province = {
						religion = catholic
						NOT = { has_province_flag = charitable_order }
					}
				}
				set_country_flag = charity_case
				PAP = { clr_country_flag = charity_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = charity_decision }
					has_country_flag = enemy_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = rival_of_pope }
					NOT = { has_country_flag = last_charitable_order }
					any_owned_province = {
						religion = catholic
						NOT = { has_province_flag = charitable_order }
					}
				}
				set_country_flag = charity_case
				PAP = { clr_country_flag = charity_decision }
			}
			PAP = { clr_country_flag = charity_decision } #Just in case
		} #End hidden effect
	} #End immediate
	
	option = {
		name = dg_papacy.061.a #Give them our full support
		ai_chance = {
			factor = 30
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
			modifier = {
				has_country_flag = corrupt_pope
				factor = 0.5
			}
			modifier = {
				num_of_loans = 1
				factor = 0.7
			}
			modifier = {
				num_of_loans = 2
				factor = 0.7
			}
			modifier = {
				is_bankrupt = yes
				factor = 0.5
			}
			modifier = {
				NOT = { treasury = 10 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 25 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 50 }
				factor = 0.7
			}
			modifier = {
				treasury = 200
				factor = 1.4
			}
			modifier = {
				treasury = 400
				factor = 1.4
			}
			modifier = {
				treasury = 800
				factor = 1.4
			}
		}
		add_treasury = -10
		if = {
			limit = { piety = 0.60 }
			add_prestige = 4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = 3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = 2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = 1
		}
		random_known_country = {
			limit = { has_country_flag = charity_case }
			random_owned_province = {
				limit = {
					religion = catholic
					NOT = { has_province_flag = charitable_order }
				}
				hidden_effect = {
					set_province_flag = charitable_order
					set_province_flag = strong_charitable_order
				}
				province_event = { id = dg_papacy.062 days = 30 } #Charitable order founded
			}
		}
		hidden_effect = {
			random_known_country = {
				limit = { has_country_flag = last_charitable_order }
				clr_country_flag = last_charitable_order
			}
			random_known_country = {
				limit = { has_country_flag = charity_case }
				clr_country_flag = last_charitable_order
			}
		}
	}
	option = {
		name = dg_papacy.061.b #Give them our blessing
		ai_chance = {
			factor = 40
		}
		random_known_country = {
			limit = { has_country_flag = charity_case }
			random_owned_province = {
				limit = {
					religion = catholic
					NOT = { has_province_flag = charitable_order }
				}
				hidden_effect = { set_province_flag = charitable_order }
				province_event = { id = dg_papacy.062 days = 30 } #Charitable order founded
			}
		}
		hidden_effect = {
			random_known_country = {
				limit = { has_country_flag = last_charitable_order }
				clr_country_flag = last_charitable_order
			}
			random_known_country = {
				limit = { has_country_flag = charity_case }
				clr_country_flag = last_charitable_order
			}
		}
	}
	option = {
		name = dg_papacy.061.c #There are better uses for these funds
		ai_chance = {
			factor = 30
			modifier = {
				piety = 0.60
				factor = 0.7
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
			modifier = {
				has_country_flag = reformer_pope
				factor = 0.5
			}
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
			modifier = {
				num_of_loans = 1
				factor = 1.4
			}
			modifier = {
				num_of_loans = 2
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 2
			}
			modifier = {
				NOT = { treasury = 10 }
				factor = 1.4
			}
			modifier = {
				NOT = { treasury = 25 }
				factor = 1.4
			}
			modifier = {
				NOT = { treasury = 50 }
				factor = 1.4
			}
			modifier = {
				treasury = 200
				factor = 0.7
			}
			modifier = {
				treasury = 400
				factor = 0.7
			}
			modifier = {
				treasury = 800
				factor = 0.7
			}
		}
		add_treasury = 10
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
}

province_event = { #Charitable order founded
	
	id = dg_papacy.062
	title = dg_papacy.062.t
	desc = dg_papacy.062.d
	picture = catholic_monks #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_papacy.062.a #They are doing God's work
		if = {
			limit = { has_province_flag = strong_charitable_order }
			clr_province_flag = strong_charitable_order
			add_province_modifier = { name = charitable_order duration = 6000 }
			owner = { add_opinion = { who = FROM modifier = papacy_good } }
		}
		else = {
			add_province_modifier = { name = charitable_order duration = 3000 }
			owner = { add_opinion = { who = FROM modifier = papacy_great } }
		}
	}
}

country_event = { #Missionary order founded
	
	id = dg_papacy.063
	title = dg_papacy.063.t
	desc = dg_papacy.063.d
	picture = catholic_order_founded
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { has_country_modifier = missionary_tithe }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			is_at_war = yes
			factor = 1.4
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = {
			PAP = { set_country_flag = missionary_decision }
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					has_country_flag = ally_of_pope
					religion = catholic
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						religion = catholic
						check_variable = { which = heretics value = 2 }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					has_country_flag = friend_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						religion = catholic
						check_variable = { which = heretics value = 2 }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = rival_of_pope }
					NOT = { has_country_flag = enemy_of_pope }
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						religion = catholic
						check_variable = { which = heretics value = 2 }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					has_country_flag = ally_of_pope
					religion = catholic
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						NOT = { religion = catholic }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					has_country_flag = rival_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = enemy_of_pope }
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						religion = catholic
						check_variable = { which = heretics value = 2 }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					has_country_flag = friend_of_pope
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						NOT = { religion = catholic }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					has_country_flag = enemy_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = rival_of_pope }
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						religion = catholic
						check_variable = { which = heretics value = 2 }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = rival_of_pope }
					NOT = { has_country_flag = enemy_of_pope }
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						NOT = { religion = catholic }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					has_country_flag = rival_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = enemy_of_pope }
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						NOT = { religion = catholic }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = missionary_decision }
					has_country_flag = enemy_of_pope
					religion = catholic
					NOT = { has_country_flag = ally_of_pope }
					NOT = { has_country_flag = friend_of_pope }
					NOT = { has_country_flag = rival_of_pope }
					NOT = { has_country_flag = last_missionary_order }
					any_owned_province = {
						NOT = { religion = catholic }
						NOT = { has_province_flag = missionary_order }
					}
				}
				set_country_flag = missionary_case
				PAP = { clr_country_flag = missionary_decision }
			}
			PAP = { clr_country_flag = missionary_decision } #Just in case
		} #End hidden effect
	} #End immediate
	
	option = {
		name = dg_papacy.063.a #Support their good works
		ai_chance = {
			factor = 30
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
			modifier = {
				has_country_flag = corrupt_pope
				factor = 0.5
			}
			modifier = {
				num_of_loans = 1
				factor = 0.7
			}
			modifier = {
				num_of_loans = 2
				factor = 0.7
			}
			modifier = {
				is_bankrupt = yes
				factor = 0.5
			}
			modifier = {
				NOT = { treasury = 10 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 25 }
				factor = 0.7
			}
			modifier = {
				NOT = { treasury = 50 }
				factor = 0.7
			}
			modifier = {
				treasury = 200
				factor = 1.4
			}
			modifier = {
				treasury = 400
				factor = 1.4
			}
			modifier = {
				treasury = 800
				factor = 1.4
			}
		}
		add_treasury = -10
		if = {
			limit = { piety = 0.60 }
			add_prestige = 4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = 3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = 2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = 1
		}
		random_known_country = {
			limit = { has_country_flag = missionary_case }
			random_owned_province = {
				limit = {
					check_variable = { which = heretics value = 2 }
					religion = catholic
					NOT = { has_province_flag = missionary_order }
				}
				hidden_effect = {
					set_province_flag = missionary_order
					set_province_flag = strong_missionary_order
				}
				province_event = { id = dg_papacy.064 days = 30 } #missionary order founded
			}
			random_owned_province = {
				limit = {
					NOT = { religion = catholic }
					NOT = { has_province_flag = missionary_order }
					NOT = { owner = { any_owned_province = { has_province_flag = missionary_order } } }
				}
				hidden_effect = {
					set_province_flag = missionary_order
					set_province_flag = strong_missionary_order
				}
				province_event = { id = dg_papacy.064 days = 30 } #missionary order founded
			}
		}
		hidden_effect = {
			random_known_country = {
				limit = { has_country_flag = last_missionary_order }
				clr_country_flag = last_missionary_order
			}
			random_known_country = {
				limit = { has_country_flag = missionary_case }
				clr_country_flag = last_missionary_order
			}
		}
	}
	option = {
		name = dg_papacy.063.b #Call for a tithe from Christendom
		ai_chance = {
			factor = 40
		}
		add_country_modifier = { name = missionary_tithe duration = 500 }
		random_known_country = {
			limit = { has_country_flag = missionary_case }
			random_owned_province = {
				limit = {
					check_variable = { which = heretics value = 2 }
					religion = catholic
					NOT = { has_province_flag = missionary_order }
				}
				hidden_effect = {
					set_province_flag = missionary_order
				}
				province_event = { id = dg_papacy.064 days = 30 } #missionary order founded
			}
			random_owned_province = {
				limit = {
					NOT = { religion = catholic }
					NOT = { has_province_flag = missionary_order }
					NOT = { owner = { any_owned_province = { has_province_flag = missionary_order } } }
				}
				hidden_effect = {
					set_province_flag = missionary_order
				}
				province_event = { id = dg_papacy.064 days = 30 } #missionary order founded
			}
		}
		hidden_effect = {
			random_known_country = {
				limit = { has_country_flag = last_missionary_order }
				clr_country_flag = last_missionary_order
			}
			random_known_country = {
				limit = { has_country_flag = missionary_case }
				clr_country_flag = last_missionary_order
			}
		}
	}
}

province_event = { #Missionary order founded
	
	id = dg_papacy.064
	title = dg_papacy.064.t
	desc = dg_papacy.064.d
	picture = catholic_monks_preaching
	
	is_triggered_only = yes
	
	option = {
		name = dg_papacy.064.a #We should take advantage of this
		if = {
			limit = { has_province_flag = strong_missionary_order }
			clr_province_flag = strong_missionary_order
			add_province_modifier = { name = missionary_order duration = 3000 }
			owner = { add_opinion = { who = FROM modifier = papacy_good } }
		}
		else = {
			add_province_modifier = { name = missionary_order duration = 1500 }
			owner = { add_opinion = { who = FROM modifier = papacy_great } }
		}
	}
}

country_event = { #Call for Crusade
	
	id = dg_papacy.065
	title = dg_papacy.065.t
	desc = dg_papacy.065.d
	picture = catholic_crusade
	
	trigger = {
		papal_trigger = yes
		has_country_flag = crusader
		is_at_war = no
		NOT = { has_disaster = civil_war }
		NOT = { has_country_modifier = time_of_troubles }
		NOT = { has_country_flag = religious_civil_war }
		NOT = { has_country_flag = peasants_war }
	}
	
	mean_time_to_happen = {
		
		months = 24
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = {
		hidden_effect = { #Rating countries as crusaders
			clr_country_flag = crusader
			every_country = {
				limit = {
					religion = catholic
					piety = -0.20
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					piety = 0.20
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					piety = 0.60
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					num_of_cities = 5
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					num_of_cities = 10
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					num_of_cities = 20
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					num_of_cities = 40
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					num_of_cities = 80
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					has_country_flag = ally_of_pope
					religion = catholic
				}
				change_variable = { which = crusade_leader value = 2 }
			}
			every_country = {
				limit = {
					has_country_flag = friend_of_pope
					religion = catholic
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					has_country_flag = rival_of_pope
					religion = catholic
				}
				change_variable = { which = crusade_leader value = -1 }
			}
			every_country = {
				limit = {
					has_country_flag = enemy_of_pope
					religion = catholic
				}
				change_variable = { which = crusade_leader value = -2 }
			}
			every_country = {
				limit = {
					is_papal_controller = yes
					religion = catholic
					has_country_flag = corrupt_pope
				}
				change_variable = { which = crusade_leader value = 3 }
			}
			every_country = {
				limit = {
					is_papal_controller = yes
					religion = catholic
					has_country_flag = reformer_pope
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					is_papal_controller = yes
					religion = catholic
					has_country_flag = secular_pope
				}
				change_variable = { which = crusade_leader value = 2 }
			}
			every_country = {
				limit = {
					religion = catholic
					any_neighbor_country = { has_country_flag = crusade_target }
				}
				change_variable = { which = crusade_leader value = 2 }
			}
			every_country = {
				limit = {
					religion = catholic
					any_neighbor_country = { any_neighbor_country = { has_country_flag = crusade_target } }
				}
				change_variable = { which = crusade_leader value = 1 }
			}
			every_country = {
				limit = {
					religion = catholic
					any_rival_country = {
						has_country_flag = crusade_target
					}
				}
				change_variable = { which = crusade_leader value = 2 }
			}
			every_country = {
				limit = {
					religion = catholic
					any_enemy_country = {
						has_country_flag = crusade_target
					}
				}
				change_variable = { which = crusade_leader value = 3 }
			}
			every_country = {
				limit = {
					religion = catholic
					any_known_country = {
						has_country_flag = crusade_target
						war_with = ROOT
					}
				}
				change_variable = { which = crusade_leader value = 2 }
			}
			every_country = {
				limit = {
					religion = catholic
					any_known_country = {
						has_country_flag = crusade_target
						truce_with = ROOT
					}
				}
				change_variable = { which = crusade_leader value = -3 }
			}
			every_country = {
				limit = {
					is_at_war = yes
					religion = catholic
				}
				change_variable = { which = crusade_leader value = -2 }
			}
			every_country = {
				limit = {
					has_country_flag = crusader
					religion = catholic
				}
				change_variable = { which = crusade_leader value = 2 }
			}
			every_country = {
				limit = {
					has_country_flag = crusade_sponsor
					religion = catholic
				}
				change_variable = { which = crusade_leader value = 3 }
			}
			every_country = { #Disqualification
				limit = {
					religion = catholic
					OR = {
						has_country_flag = crusades_over
						any_ally = { has_country_flag = crusade_target }
						war_with = PAP
						has_country_flag = excommunicated
					}
				}
				set_variable = { which = crusade_leader value = 0 }
			}
			#Decide which country to give the leadership to
			PAP = { set_country_flag = crusade_leader_decision }
			random_known_country = {
				limit = {
					PAP = { has_country_flag = crusade_leader_decision }
					check_variable = { which = crusade_leader value = 9 }
					religion = catholic
				}
				set_country_flag = crusade_leader_request
				PAP = { clr_country_flag = crusade_leader_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = crusade_leader_decision }
					check_variable = { which = crusade_leader value = 6 }
					religion = catholic
				}
				set_country_flag = crusade_leader_request
				PAP = { clr_country_flag = crusade_leader_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = crusade_leader_decision }
					check_variable = { which = crusade_leader value = 3 }
					religion = catholic
				}
				set_country_flag = crusade_leader_request
				PAP = { clr_country_flag = crusade_leader_decision }
			}
			random_known_country = {
				limit = {
					PAP = { has_country_flag = crusade_leader_decision }
					check_variable = { which = crusade_leader value = 1 }
					religion = catholic
				}
				set_country_flag = crusade_leader_request
				PAP = { clr_country_flag = crusade_leader_decision }
			}
			PAP = { clr_country_flag = crusade_leader_decision }
			every_country = { set_variable = { which = crusade_leader value = 0 } }
		}
	}
	
	option = {
		name = dg_papacy.065.a #Lead by example
		ai_chance = {
			factor = 25
			modifier = {
				war_exhaustion = 5
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 10
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 15
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 20
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.10 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 2
				}
				NOT = { num_of_cities = 2 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 5
				}
				NOT = { num_of_cities = 3 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 10
				}
				NOT = { num_of_cities = 6 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 20
				}
				NOT = { num_of_cities = 11 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 40
				}
				NOT = { num_of_cities = 21 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 80
				}
				NOT = { num_of_cities = 41 }
				factor = 0.7
			}
		}
		every_country = {
			limit = {
				OR = {
					religion = catholic
					has_country_flag = crusade_sponsor
				}
				OR = {
					has_country_flag = crusade_sponsor
					has_country_flag = crusader
					has_country_flag = crusade_target
				}
			}
			add_opinion = { who = ROOT modifier = papacy_good }
		}
		random_known_country = {
			limit = { has_country_flag = crusade_target }
			reverse_add_casus_belli = { type = cb_insult months = 12 target = ROOT } #Should be different
			add_casus_belli = { type = cb_insult months = 12 target = ROOT }
		}
		hidden_effect = {
			random_known_country = {
				limit = { has_country_flag = crusade_leader_request }
				clr_country_flag = crusade_leader_request
			}
		}
	}
	option = {
		name = dg_papacy.065.b #Ask a prince to lead it
		ai_chance = { factor = 75 }
		random_known_country = {
			limit = { has_country_flag = crusade_leader_request }
			country_event = { id = dg_papacy.066 days = 30 }
		}
	}
}

country_event = { #Deus Vult
	
	id = dg_papacy.066
	title = dg_papacy.066.t
	desc = dg_papacy.066.d
	picture = catholic_crusade
	
	is_triggered_only = yes #By event dg_papacy.065
	
	option = {
		name = dg_papacy.066.a #Lead the crusade
		ai_chance = {
			factor = 30
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0
			}
			modifier = {
				any_rival_country = {
					has_country_flag = crusade_target
				}
				factor = 1.4
			}
			modifier = {
				any_enemy_country = {
					has_country_flag = crusade_target
				}
				factor = 1.4
			}
			modifier = {
				any_neighbor_country = {
					has_country_flag = crusade_target
				}
				factor = 1.4
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 2
				}
				NOT = { num_of_cities = 2 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 5
				}
				NOT = { num_of_cities = 3 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 10
				}
				NOT = { num_of_cities = 6 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 20
				}
				NOT = { num_of_cities = 11 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 40
				}
				NOT = { num_of_cities = 21 }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = crusade_target
					num_of_cities = 80
				}
				NOT = { num_of_cities = 41 }
				factor = 0.7
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = 12
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = 9
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = 6
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = 3
		}
	}
	option = {
		name = dg_papacy.066.b #We have no interest
		ai_chance = {
			factor = 50
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -12
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -9
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -6
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -3
		}
	}
	option = {
		name = dg_papacy.066.c #The age of crusades is long over
		ai_chance = {
			factor = 20
		}
		hidden_effect = { set_country_flag = crusades_over }
		if = {
			limit = { piety = 0.60 }
			add_prestige = -24
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -18
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -12
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -6
		}
	}
}

#country_event = { #68 - Monopoly established
#	
#	id = dg_papacy.068
#	title = dg_papacy.068.t
#	desc = dg_papacy.068.d
#	picture = TRADEGOODS_eventPicture
#	
#	is_triggered_only = yes #Papal power
#	
#	option = {
#		name = dg_papacy.068.a
#		tooltip = { add_mercantilism = 1 } #Already added by the papal power
#		add_country_modifier = { name = unhappy_merchants duration = 500 }
#	}
#}

#################
# Papal Reforms # 80s and 90s
#################

country_event = { #81* - Internationalization of the Curia
	
	id = dg_papacy.081
	title = dg_papacy.081.t
	desc = dg_papacy.081.d
	picture = catholic_college_of_cardinals
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = internationalized_curia } }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		
		modifier = {
			any_country = {
				is_papal_controller = yes
				capital_distance = { who = PAP distance = 130 }
			}
			factor = 0.5
		}
		modifier = {
			any_country = {
				is_papal_controller = yes
				capital_distance = { who = PAP distance = 260 }
			}
			factor = 0.5
		}
		modifier = {
			any_country = {
				is_papal_controller = yes
				capital_distance = { who = PAP distance = 390 }
			}
			factor = 0.5
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = internationalized_curia value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = internationalized_curia value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = internationalized_curia value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = internationalized_curia value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = internationalized_curia value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = internationalized_curia value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = internationalized_curia value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = internationalized_curia value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = internationalized_curia value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = internationalized_curia value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = internationalized_curia value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = internationalized_curia value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = internationalized_curia value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = internationalized_curia value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = internationalized_curia value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = internationalized_curia value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = internationalized_curia value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = internationalized_curia value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = internationalized_curia }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = internationalized_curia value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = internationalized_curia value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = internationalized_curia value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = internationalized_curia value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = internationalized_curia value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = internationalized_curia value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = internationalized_curia value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = internationalized_curia value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = internationalized_curia value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = internationalized_curia value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = internationalized_curia value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = internationalized_curia value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = internationalized_curia value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = internationalized_curia value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = internationalized_curia value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = internationalized_curia value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = internationalized_curia value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = internationalized_curia value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = internationalized_curia value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = internationalized_curia value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = internationalized_curia value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = internationalized_curia value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = internationalized_curia value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = internationalized_curia value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = internationalized_curia value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = internationalized_curia }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

country_event = { #82* - The College of Cardinals (limit number of cardinals)
	
	id = dg_papacy.082
	title = dg_papacy.082.t
	desc = dg_papacy.082.d
	picture = catholic_college_of_cardinals
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = curia_limits_established } }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		
		modifier = {
			any_known_country = {
				is_papal_controller = yes
				capital_distance = { who = PAP distance = 130 }
			}
			factor = 0.7
		}
		modifier = {
			any_known_country = {
				is_papal_controller = yes
				capital_distance = { who = PAP distance = 260 }
			}
			factor = 0.7
		}
		modifier = {
			any_known_country = {
				is_papal_controller = yes
				capital_distance = { who = PAP distance = 390 }
			}
			factor = 0.7
		}
		modifier = {
			any_known_country = {
				num_of_cardinals = 1
				capital_distance = { who = PAP distance = 130 }
			}
			factor = 0.7
		}
		modifier = {
			any_known_country = {
				num_of_cardinals = 1
				capital_distance = { who = PAP distance = 260 }
			}
			factor = 0.7
		}
		modifier = {
			any_known_country = {
				num_of_cardinals = 1
				capital_distance = { who = PAP distance = 390 }
			}
			factor = 0.7
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = curia_limits_established value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = curia_limits_established value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = curia_limits_established value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = curia_limits_established value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = curia_limits_established value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = curia_limits_established value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = curia_limits_established value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = curia_limits_established value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = curia_limits_established value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = curia_limits_established value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = curia_limits_established value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = curia_limits_established value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = curia_limits_established value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = curia_limits_established value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = curia_limits_established value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = curia_limits_established value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = curia_limits_established value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = curia_limits_established value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = curia_limits_established }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = curia_limits_established value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = curia_limits_established value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = curia_limits_established value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = curia_limits_established value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = curia_limits_established value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = curia_limits_established value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = curia_limits_established value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = curia_limits_established value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = curia_limits_established value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = curia_limits_established value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = curia_limits_established value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = curia_limits_established value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = curia_limits_established value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = curia_limits_established value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = curia_limits_established value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = curia_limits_established value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = curia_limits_established value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = curia_limits_established value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = curia_limits_established value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = curia_limits_established value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = curia_limits_established value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = curia_limits_established value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = curia_limits_established value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = curia_limits_established value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = curia_limits_established value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = curia_limits_established }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

country_event = { #83 - Conclave Rules
	
	id = dg_papacy.083
	title = dg_papacy.083.t
	desc = dg_papacy.083.d
	picture = catholic_college_of_cardinals
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = conclave_reform } }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		
		modifier = {
			PAP = { has_country_flag = deadlocked_conclave }
			factor = 0.25
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = conclave_reform value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = conclave_reform value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = conclave_reform value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = conclave_reform value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = conclave_reform value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = conclave_reform value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = conclave_reform value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = conclave_reform value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = conclave_reform value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = conclave_reform value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = conclave_reform value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = conclave_reform value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = conclave_reform value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = conclave_reform value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = conclave_reform value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = conclave_reform value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = conclave_reform value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = conclave_reform value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = conclave_reform }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = conclave_reform value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = conclave_reform value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = conclave_reform value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = conclave_reform value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = conclave_reform value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = conclave_reform value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = conclave_reform value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = conclave_reform value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = conclave_reform value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = conclave_reform value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = conclave_reform value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = conclave_reform value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = conclave_reform value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = conclave_reform value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = conclave_reform value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = conclave_reform value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = conclave_reform value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = conclave_reform value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = conclave_reform value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = conclave_reform value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = conclave_reform value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = conclave_reform value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = conclave_reform value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = conclave_reform value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = conclave_reform value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = conclave_reform }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

country_event = { #84 - Index of Prohibited Books
	
	id = dg_papacy.084
	title = dg_papacy.084.t
	desc = dg_papacy.084.d
	picture = all_publishing
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = forbidden_index } }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		
		modifier = {
			is_religion_enabled = protestant
			factor = 0.5
		}
		modifier = {
			is_religion_enabled = reformed
			factor = 0.5
		}
		modifier = {
			has_global_flag = counter_reformation
			factor = 0.5
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = forbidden_index value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = forbidden_index value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = forbidden_index value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = forbidden_index value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = forbidden_index value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = forbidden_index value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = forbidden_index value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = forbidden_index value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = forbidden_index value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = forbidden_index value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = forbidden_index value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = forbidden_index value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = forbidden_index value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = forbidden_index value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = forbidden_index value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = forbidden_index value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = forbidden_index value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = forbidden_index value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				set_country_flag = forbidden_index_banned
				PAP = { set_country_flag = forbidden_index }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = forbidden_index value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = forbidden_index value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = forbidden_index value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = forbidden_index value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = forbidden_index value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = forbidden_index value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = forbidden_index value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = forbidden_index value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = forbidden_index value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = forbidden_index value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = forbidden_index value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = forbidden_index value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = forbidden_index value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = forbidden_index value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = forbidden_index value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = forbidden_index value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = forbidden_index value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = forbidden_index value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = forbidden_index value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = forbidden_index value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = forbidden_index value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = forbidden_index value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = forbidden_index value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = forbidden_index value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = forbidden_index value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				set_country_flag = forbidden_index_banned
				PAP = { set_country_flag = forbidden_index }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

country_event = { #85 - Ad Limina Visits
	
	id = dg_papacy.085
	title = dg_papacy.085.t
	desc = dg_papacy.085.d
	picture = catholic_order_founded
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = ad_limina_bishops } }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		
		modifier = {
			PAP = { has_country_flag = papal_constitution }
			factor = 0.5
		}
		modifier = {
			NOT = { PAP = { check_variable = { which = papal_authority value = 500 } } }
			factor = 0.7
		}
		modifier = {
			NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
			factor = 0.7
		}
		modifier = {
			NOT = { PAP = { check_variable = { which = papal_authority value = 300 } } }
			factor = 0.7
		}
		modifier = {
			NOT = { PAP = { check_variable = { which = papal_authority value = 200 } } }
			factor = 0.7
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = ad_limina_bishops value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = ad_limina_bishops value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = ad_limina_bishops value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = ad_limina_bishops value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = ad_limina_bishops value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = ad_limina_bishops value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = ad_limina_bishops value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = ad_limina_bishops value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = ad_limina_bishops value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = ad_limina_bishops value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = ad_limina_bishops value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = ad_limina_bishops value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = ad_limina_bishops value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = ad_limina_bishops value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = ad_limina_bishops value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = ad_limina_bishops value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = ad_limina_bishops value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = ad_limina_bishops value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = ad_limina_bishops }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = ad_limina_bishops value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = ad_limina_bishops value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = ad_limina_bishops value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = ad_limina_bishops value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = ad_limina_bishops value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = ad_limina_bishops value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = ad_limina_bishops value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = ad_limina_bishops value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = ad_limina_bishops value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = ad_limina_bishops value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = ad_limina_bishops value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = ad_limina_bishops value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = ad_limina_bishops value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = ad_limina_bishops value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = ad_limina_bishops value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = ad_limina_bishops value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = ad_limina_bishops value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = ad_limina_bishops value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = ad_limina_bishops value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = ad_limina_bishops value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = ad_limina_bishops value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = ad_limina_bishops value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = ad_limina_bishops value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = ad_limina_bishops value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = ad_limina_bishops value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = ad_limina_bishops }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

country_event = { #86 - The new Vulgate Bible
	
	id = dg_papacy.086
	title = dg_papacy.086.t
	desc = dg_papacy.086.d
	picture = protestant_translation
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = new_vulgate_bible } }
		PAP = { has_country_flag = new_latin_bible }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			is_religion_enabled = protestant
			factor = 0.5
		}
		modifier = {
			is_religion_enabled = reformed
			factor = 0.5
		}
		modifier = {
			has_global_flag = counter_reformation
			factor = 0.5
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = new_vulgate_bible value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = new_vulgate_bible value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = new_vulgate_bible value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = new_vulgate_bible value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = new_vulgate_bible value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = new_vulgate_bible value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = new_vulgate_bible value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = new_vulgate_bible value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = new_vulgate_bible value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = new_vulgate_bible value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = new_vulgate_bible value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = new_vulgate_bible value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = new_vulgate_bible value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = new_vulgate_bible value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = new_vulgate_bible value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = new_vulgate_bible value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = new_vulgate_bible value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = new_vulgate_bible value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = new_vulgate_bible }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = new_vulgate_bible value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = new_vulgate_bible value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = new_vulgate_bible value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = new_vulgate_bible value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = new_vulgate_bible value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = new_vulgate_bible value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = new_vulgate_bible value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = new_vulgate_bible value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = new_vulgate_bible value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = new_vulgate_bible value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = new_vulgate_bible value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = new_vulgate_bible value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = new_vulgate_bible value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = new_vulgate_bible value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = new_vulgate_bible value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = new_vulgate_bible value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = new_vulgate_bible value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = new_vulgate_bible value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = new_vulgate_bible value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = new_vulgate_bible value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = new_vulgate_bible value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = new_vulgate_bible value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = new_vulgate_bible value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = new_vulgate_bible value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = new_vulgate_bible value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = new_vulgate_bible }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

country_event = { #87 - A Roman Inquisition
	
	id = dg_papacy.087
	title = dg_papacy.087.t
	desc = dg_papacy.087.d
	picture = catholic_heretic_scientist
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = roman_inquisition } }
		PAP = { check_variable = { which = papal_authority value = 400 } }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		
		modifier = {
			PAP = { check_variable = { which = inquisition value = 1 } }
			factor = 0.5
		}
		modifier = {
			is_religion_enabled = hussite
			factor = 0.5
		}
		modifier = {
			is_religion_enabled = protestant
			factor = 0.5
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = roman_inquisition value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = roman_inquisition value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = roman_inquisition value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = roman_inquisition value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		hidden_effect = {
			if = {
				limit = { NOT = { check_variable = { which = inquisition value = 2 } } }
				set_variable = { which = inquisition value = 2 }
			}
		}
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = roman_inquisition value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = roman_inquisition value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = roman_inquisition value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = roman_inquisition value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = roman_inquisition value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = roman_inquisition value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = roman_inquisition value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = roman_inquisition value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = roman_inquisition value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = roman_inquisition value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = roman_inquisition value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = roman_inquisition value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = roman_inquisition value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = roman_inquisition value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = roman_inquisition }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = roman_inquisition value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = roman_inquisition value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = roman_inquisition value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = roman_inquisition value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = roman_inquisition value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = roman_inquisition value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = roman_inquisition value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = roman_inquisition value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = roman_inquisition value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = roman_inquisition value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = roman_inquisition value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = roman_inquisition value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = roman_inquisition value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = roman_inquisition value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = roman_inquisition value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = roman_inquisition value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = roman_inquisition value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = roman_inquisition value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = roman_inquisition value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = roman_inquisition value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = roman_inquisition value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = roman_inquisition value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = roman_inquisition value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = roman_inquisition value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = roman_inquisition value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = roman_inquisition }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

country_event = { #88 - Rules against nepotism
	
	id = dg_papacy.088
	title = dg_papacy.088.t
	desc = dg_papacy.088.d
	picture = catholic_papal_nepotism
	
	trigger = {
		papal_trigger = yes
		religion = catholic
		has_country_flag = papal_reforms_planned
		has_global_flag = living_pope
		NOT = { has_country_modifier = reform_tensions }
		NOT = { PAP = { has_country_flag = nepotism_abolished } }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		
		modifier = {
			has_country_flag = corrupt_pope
			factor = 0.5
		}
		modifier = {
			has_country_flag = last_pope_corrupt
			factor = 0.5
		}
		modifier = {
			any_known_country = {
				num_of_cardinals = 1
				has_country_flag = papal_nepotism
			}
			factor = 0.5
		}
	}
	
	immediate = {
		clr_country_flag = papal_reforms_planned
		if = {
			limit = {
				check_variable = { which = nepotism_abolished value = 75 }
			}
			custom_tooltip = papal_reform_progress_100
		}
		else_if = {
			limit = {
				check_variable = { which = nepotism_abolished value = 50 }
			}
			custom_tooltip = papal_reform_progress_75
		}
		else_if = {
			limit = {
				check_variable = { which = nepotism_abolished value = 25 }
			}
			custom_tooltip = papal_reform_progress_50
		}
		else_if = {
			limit = {
				check_variable = { which = nepotism_abolished value = 1 }
			}
			custom_tooltip = papal_reform_progress_25
		}
		else = {
			custom_tooltip = papal_reform_progress_0
		}
	}
	
	option = {
		name = dg_papacy.081.a #Implement the recommendations of the commission
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = reformer_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = corrupt_pope } }
		add_devotion = -10
		add_country_modifier = { name = reform_tensions duration = 250 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = nepotism_abolished value = 105 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = nepotism_abolished value = 98 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = nepotism_abolished value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = nepotism_abolished value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = nepotism_abolished value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = nepotism_abolished value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = nepotism_abolished value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = nepotism_abolished value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = nepotism_abolished value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = nepotism_abolished value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = nepotism_abolished value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = nepotism_abolished value = 23 } }
			}
			else = {
				PAP = { change_variable = { which = nepotism_abolished value = 15 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = nepotism_abolished value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = nepotism_abolished }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.b #Introduce minor reforms
		ai_chance = { factor = 30 }
		hidden_effect = {
			if = {
				limit = { reform_desire = 1.25 }
				PAP = { change_variable = { which = nepotism_abolished value = 94 } }
			}
			else_if = {
				limit = { reform_desire = 1.20 }
				PAP = { change_variable = { which = nepotism_abolished value = 90 } }
			}
			else_if = {
				limit = { reform_desire = 1.15 }
				PAP = { change_variable = { which = nepotism_abolished value = 86 } }
			}
			else_if = {
				limit = { reform_desire = 1.10 }
				PAP = { change_variable = { which = nepotism_abolished value = 83 } }
			}
			else_if = {
				limit = { reform_desire = 1.05 }
				PAP = { change_variable = { which = nepotism_abolished value = 79 } }
			}
			else_if = {
				limit = { reform_desire = 1.00 }
				PAP = { change_variable = { which = nepotism_abolished value = 75 } }
			}
			else_if = {
				limit = { reform_desire = 0.95 }
				PAP = { change_variable = { which = nepotism_abolished value = 71 } }
			}
			else_if = {
				limit = { reform_desire = 0.90 }
				PAP = { change_variable = { which = nepotism_abolished value = 68 } }
			}
			else_if = {
				limit = { reform_desire = 0.85 }
				PAP = { change_variable = { which = nepotism_abolished value = 64 } }
			}
			else_if = {
				limit = { reform_desire = 0.80 }
				PAP = { change_variable = { which = nepotism_abolished value = 60 } }
			}
			else_if = {
				limit = { reform_desire = 0.75 }
				PAP = { change_variable = { which = nepotism_abolished value = 56 } }
			}
			else_if = {
				limit = { reform_desire = 0.70 }
				PAP = { change_variable = { which = nepotism_abolished value = 53 } }
			}
			else_if = {
				limit = { reform_desire = 0.65 }
				PAP = { change_variable = { which = nepotism_abolished value = 49 } }
			}
			else_if = {
				limit = { reform_desire = 0.60 }
				PAP = { change_variable = { which = nepotism_abolished value = 45 } }
			}
			else_if = {
				limit = { reform_desire = 0.55 }
				PAP = { change_variable = { which = nepotism_abolished value = 41 } }
			}
			else_if = {
				limit = { reform_desire = 0.50 }
				PAP = { change_variable = { which = nepotism_abolished value = 38 } }
			}
			else_if = {
				limit = { reform_desire = 0.45 }
				PAP = { change_variable = { which = nepotism_abolished value = 34 } }
			}
			else_if = {
				limit = { reform_desire = 0.40 }
				PAP = { change_variable = { which = nepotism_abolished value = 30 } }
			}
			else_if = {
				limit = { reform_desire = 0.35 }
				PAP = { change_variable = { which = nepotism_abolished value = 26 } }
			}
			else_if = {
				limit = { reform_desire = 0.30 }
				PAP = { change_variable = { which = nepotism_abolished value = 23 } }
			}
			else_if = {
				limit = { reform_desire = 0.25 }
				PAP = { change_variable = { which = nepotism_abolished value = 19 } }
			}
			else_if = {
				limit = { reform_desire = 0.20 }
				PAP = { change_variable = { which = nepotism_abolished value = 15 } }
			}
			else_if = {
				limit = { reform_desire = 0.15 }
				PAP = { change_variable = { which = nepotism_abolished value = 11 } }
			}
			else = {
				PAP = { change_variable = { which = nepotism_abolished value = 8 } }
			}
		}
		if = {
			limit = { PAP = { check_variable = { which = nepotism_abolished value = 100 } } }
			add_reform_desire = -0.01
			add_prestige = 5
			hidden_effect = {
				PAP = { set_country_flag = nepotism_abolished }
				if = {
					limit = { NOT = { is_religion_enabled = protestant } }
					PAP = { change_variable = { which = reform_desire_negative_papal_reforms value = -1 } }
				}
			}
		}
	}
	option = {
		name = dg_papacy.081.c #Disavow the commission entirely
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = corrupt_pope
				factor = 1.4
			}
		}
		trigger = { NOT = { has_country_flag = reformer_pope } }
		add_prestige = -5
	}
}

#The Council of Constance (1417) modified the rules of the conclave to such an extent that the cardinals of the three obediences took part in it as well as six prelates from each of the five nations. 

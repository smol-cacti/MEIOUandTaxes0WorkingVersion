namespace = dg_confucian
#29 of 30 events completed and optimized
#custom tooltips added
#variables and flags hidden

#########
# Court # 00s
#########

#01 - The $MONARCHTITLE$'s favor
#03 - The search for eternal life
#04 - Poison
#05 - Inadvertent discovery

#####################
# Mandate of Heaven # 10s
#####################

#######################
# Religious Tolerance # 20s through 50s
#######################

#21 - Foreign Religions (Buddhists)
#22 - Foreign Religions (Islam)
#23 - Foreign Religions (Pagans)
#24 - Foreign Religions (Christians)
#25 - Foreign Religions (Jews)
#26 - Foreign Religions (Dharmics)
#27 - Foreign Religions (European Pagans)
#28 - Foreign Religions (New World Pagans)

#31 - $COUNTRY_ADJ$ Buddhists
#32 - $COUNTRY_ADJ$ Muslims
#33 - $COUNTRY_ADJ$ Pagans
#34 - $COUNTRY_ADJ$ Christians
#35 - $COUNTRY_ADJ$ Jews
#36 - $COUNTRY_ADJ$ Dharmics
#37 - $COUNTRY_ADJ$ Pagans (Europe)
#38 - $COUNTRY_ADJ$ Pagans (New World)

#39** - The Catholic Controversy (Chinese Rites Controversy)

#41 - Anti-Buddhist Protests
#42 - Anti-Muslim Protests
#43 - Anti-Pagan Protests
#44 - Anti-Christian Protests
#45 - Anti-Jewish Protests
#46 - Anti-Dharmic Protests
#47 - Anti-European Pagan Protests
#48 - Anti-New World Pagan Protests

#51 - the emperor converts to Buddhism
#52 - the emperor converts to Islam
#53** - the emperor converts to Paganism
#54 - the emperor converts to Christianity
#55 - the emperor converts to Judaism
#56 - the emperor converts to Dharma
#57** - the emperor converts to European Polytheism
#58** - the emperor converts to New World Paganism

#########################
# Imperial Examinations # 80s and 90s
#########################

#81 - The Examination System (by decision)
#82 - Examination System Control (hidden)
#83 - The Eight-Legged Essay (1370 Ming)
#84 - Translated Exams (1661 Qing)
#85 - The Sixth Art (Tang dynasty)
#86 - First Rank Candidate
#87 - Exam Literature
#88 - Large Graduating Class (not with quotas)
#89 - Cheating on the Exams (not with reforms)
#90 - Exam Scandal (not with reforms)
#91 - Exam Frustration (not with bribery)
#92 - Criticism of the Examination System
#93 - Unmet quotas


#########
# Court #
#########

country_event = { #The $MONARCHTITLE$'s favor
	
	id = dg_confucian.001
	title = dg_confucian.001.t
	desc = dg_confucian.001.d
	picture = confucianism_court
	
	is_triggered_only = yes #By dg_setup.003 (new ruler)
	
	option = {
		name = dg_confucian.001.a #Promote Confucianism
		trigger = {
			OR = {
				ADM = 2
				advisor = theologian
				has_country_flag = confucianism_dominates
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { stability = 0 }
				factor = 1.4
			}
			modifier = {
				NOT = { legitimacy = 50 }
				factor = 1.4
			}
			modifier = {
				has_institution = enlightenment # is_westernising = yes # pending discussion on better replacement
				factor = 0.7
			}
			modifier = {
				overlord = {
					has_ruler_modifier = confucianism_dominates
				}
				factor = 2
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = legalism_dominates
					has_country_flag = taoism_dominates
					has_country_flag = buddhism_dominates
				}
			}
			add_adm_power = -10
			clr_country_flag = clerical_advisor
			clr_country_flag = patriarch_zealous
			clr_country_flag = patriarch_theologian
			clr_country_flag = patriarch_obedient
			clr_country_flag = patriarch_controversial
			clr_country_flag = patriarch_corrupt
			clr_country_flag = patriarch_hostile
			clr_country_flag = patriarch_appointed
		}
		add_ruler_modifier = { name = confucianism_dominates }
		every_country = {
			limit = {
				religion = confucianism
				has_ruler_modifier = confucianism_dominates
			}
			if = {
				limit = { piety = 0.6 }
				add_opinion = { who = ROOT modifier = same_doctrine_fanatical }
			}
			else_if = {
				limit = { piety = 0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_pious }
			}
			else_if = {
				limit = { piety = -0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_observant }
			}
		}
		set_country_flag = confucianism_dominates
		clr_country_flag = legalism_dominates
		clr_country_flag = taoism_dominates
		clr_country_flag = buddhism_dominates
		if = {
			limit = {
				japanese_culture_trigger = yes
				any_owned_province = { check_variable = { which = shinto value = 2 } }
			}
			country_event = { id = dg_shinto.001 days = 60 }
		}
	}
	option = {
		name = dg_confucian.001.b #Promote Legalism
		trigger = {
			OR = {
				ADM = 2
				advisor = theologian
				has_country_flag = legalism_dominates
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { stability = 0 }
				factor = 1.4
			}
			modifier = {
				num_of_rebel_controlled_provinces = 1
				factor = 0.7
			}
			modifier = {
				num_of_rebel_controlled_provinces = 2
				factor = 0.7
			}
			modifier = {
				num_of_rebel_controlled_provinces = 4
				factor = 0.7
			}
			modifier = {
				overlord = {
					has_ruler_modifier = legalism_dominates
				}
				factor = 2
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = confucianism_dominates
					has_country_flag = taoism_dominates
					has_country_flag = buddhism_dominates
				}
			}
			add_adm_power = -10
			clr_country_flag = clerical_advisor
			clr_country_flag = patriarch_zealous
			clr_country_flag = patriarch_theologian
			clr_country_flag = patriarch_obedient
			clr_country_flag = patriarch_controversial
			clr_country_flag = patriarch_corrupt
			clr_country_flag = patriarch_hostile
			clr_country_flag = patriarch_appointed
		}
		add_ruler_modifier = { name = legalism_dominates }
		every_country = {
			limit = {
				religion = confucianism
				has_ruler_modifier = legalism_dominates
			}
			if = {
				limit = { piety = 0.6 }
				add_opinion = { who = ROOT modifier = same_doctrine_fanatical }
			}
			else_if = {
				limit = { piety = 0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_pious }
			}
			else_if = {
				limit = { piety = -0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_observant }
			}
		}
		set_country_flag = legalism_dominates
		clr_country_flag = confucianism_dominates
		clr_country_flag = taoism_dominates
		clr_country_flag = buddhism_dominates
		if = {
			limit = {
				japanese_culture_trigger = yes
				any_owned_province = { check_variable = { which = shinto value = 2 } }
			}
			country_event = { id = dg_shinto.001 days = 60 }
		}
	}
	option = {
		name = dg_confucian.001.c #Promote Taoism
		trigger = {
			OR = {
				ADM = 2
				advisor = theologian
				has_country_flag = taoism_dominates
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 1.4
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 1.4
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 1.4
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 1.4
			}
			modifier = {
				overlord = {
					has_ruler_modifier = taoism_dominates
				}
				factor = 2
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = legalism_dominates
					has_country_flag = confucianism_dominates
					has_country_flag = buddhism_dominates
				}
			}
			add_adm_power = -10
			clr_country_flag = clerical_advisor
			clr_country_flag = patriarch_zealous
			clr_country_flag = patriarch_theologian
			clr_country_flag = patriarch_obedient
			clr_country_flag = patriarch_controversial
			clr_country_flag = patriarch_corrupt
			clr_country_flag = patriarch_hostile
			clr_country_flag = patriarch_appointed
		}
		add_ruler_modifier = { name = taoism_dominates }
		every_country = {
			limit = {
				religion = confucianism
				has_ruler_modifier = taoism_dominates
			}
			if = {
				limit = { piety = 0.6 }
				add_opinion = { who = ROOT modifier = same_doctrine_fanatical }
			}
			else_if = {
				limit = { piety = 0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_pious }
			}
			else_if = {
				limit = { piety = -0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_observant }
			}
		}
		set_country_flag = taoism_dominates
		clr_country_flag = confucianism_dominates
		clr_country_flag = legalism_dominates
		clr_country_flag = buddhism_dominates
	}
	option = {
		name = dg_confucian.001.e #Promote Buddhism
		trigger = {
			any_owned_province = {
				culture_group = ROOT
				is_core = ROOT
				OR = {
					check_variable = { which = buddhism value = 6 }
					check_variable = { which = vajrayana value = 6 }
					check_variable = { which = mahayana value = 6 }
				}
			}
			OR = {
				ADM = 2
				advisor = theologian
				has_country_flag = buddhism_dominates
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				check_variable = { which = buddhism_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = mahayana_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = buddhism_population value = 20 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = mahayana_population value = 20 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = buddhism_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = mahayana_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = buddhism_population value = 40 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = mahayana_population value = 40 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = buddhism_population value = 50 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = mahayana_population value = 50 }
				factor = 1.4
			}
			modifier = {
				overlord = {
					OR = {
						has_ruler_modifier = buddhism_dominates
						religion = buddhism
						religion = mahayana
					}
				}
				factor = 2
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = legalism_dominates
					has_country_flag = taoism_dominates
					has_country_flag = confucianism_dominates
				}
			}
			add_adm_power = -10
			clr_country_flag = clerical_advisor
			clr_country_flag = patriarch_zealous
			clr_country_flag = patriarch_theologian
			clr_country_flag = patriarch_obedient
			clr_country_flag = patriarch_controversial
			clr_country_flag = patriarch_corrupt
			clr_country_flag = patriarch_hostile
			clr_country_flag = patriarch_appointed
		}
		add_ruler_modifier = { name = buddhism_dominates }
		every_country = {
			limit = {
				religion = confucianism
				has_ruler_modifier = buddhism_dominates
			}
			if = {
				limit = { piety = 0.6 }
				add_opinion = { who = ROOT modifier = same_doctrine_fanatical }
			}
			else_if = {
				limit = { piety = 0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_pious }
			}
			else_if = {
				limit = { piety = -0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_observant }
			}
		}
		every_country = {
			limit = {
				OR = {
					religion = mahayana
					religion = buddhism
				}
			}
			if = {
				limit = { piety = 0.6 }
				add_opinion = { who = ROOT modifier = same_doctrine_pious }
			}
			else_if = {
				limit = { piety = 0.2 }
				add_opinion = { who = ROOT modifier = same_doctrine_observant }
			}
		}
		country_event = { id = dg_mahayana.001 days = 30 }
		set_country_flag = buddhism_dominates
		clr_country_flag = confucianism_dominates
		clr_country_flag = legalism_dominates
		clr_country_flag = taoism_dominates
	}
	option = {
		name = dg_confucian.001.f #Stay removed from this debate
		trigger = {
			OR = {
				ADM = 3
				advisor = theologian
				AND = {
					NOT = { has_country_flag = confucianism_dominates }
					NOT = { has_country_flag = legalism_dominates }
					NOT = { has_country_flag = taoism_dominates }
					NOT = { has_country_flag = buddhism_dominates }
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				piety = 0.60
				factor = 0.7
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = confucianism_dominates
					has_country_flag = legalism_dominates
					has_country_flag = taoism_dominates
					has_country_flag = buddhism_dominates
				}
			}
			add_adm_power = -5
		}
		clr_country_flag = confucianism_dominates
		clr_country_flag = legalism_dominates
		clr_country_flag = taoism_dominates
		clr_country_flag = buddhism_dominates
		if = {
			limit = {
				japanese_culture_trigger = yes
				any_owned_province = { check_variable = { which = shinto value = 2 } }
			}
			country_event = { id = dg_shinto.001 days = 60 }
		}
	}
	after = {
		dg_patriarch_triggers = yes
	}
}

country_event = { #The search for eternal life
	
	id = dg_confucian.003
	title = dg_confucian.003.t
	desc = dg_confucian.003.d
	picture = confucianism_alchemy
	
	trigger = {
		religion = confucianism
		advisor = natural_scientist
		OR = { has_regency = no has_consort_regency = yes }
		is_at_war = no
		NOT = { has_country_flag = taoist_alchemist } #Removed on new ruler
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
	}
	
	option = {
		name = dg_confucian.003.a #Patronize $NATURAL_SCIENTIST$'s work
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					ADM = 5
					DIP = 5
					MIL = 5
				}
				factor = 0.7
			}
			modifier = {
				NOT = {
					OR = {
						ADM = 3
						DIP = 3
						MIL = 3
					}
				}
				factor = 1.4
			}
			modifier = {
				num_of_loans = 1
				factor = 0.7
			}
			modifier = {
				num_of_loans = 2
				factor = 0.7
			}
			modifier = {
				is_bankrupt = yes
				factor = 0.5
			}
			modifier = {
				NOT = { years_of_income = 0.10 }
				factor = 0.7
			}
			modifier = {
				NOT = { years_of_income = 0.05 }
				factor = 0.7
			}
		}
		hidden_effect = { set_country_flag = taoist_alchemist }
		if = {
			limit = { monthly_income = 500 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 5 }
			add_years_of_income = -0.08
		}
		else = {
			add_treasury = -5
		}
		random_list = {
			10 = { country_event = { id = dg_confucian.004 days = 1000 } } #Poison!
			20 = { country_event = { id = dg_confucian.005 days = 1000 } } #Inadvertent Discovery
			70 = { }
		}
	}
	option = {
		name = dg_confucian.003.b #Return to this idea later
		ai_chance = { factor = 30 }
	}
	option = {
		name = dg_confucian.003.c #Do not waste our money on such frivolities
		ai_chance = { factor = 20 }
		add_prestige = -2
		remove_advisor = natural_scientist
		hidden_effect = { set_country_flag = taoist_alchemist }
	}
}

country_event = { #Poison!
	
	id = dg_confucian.004
	title = dg_confucian.004.t
	desc = dg_confucian.004.d
	picture = confucianism_alchemy
	
	is_triggered_only = yes
	
	option = {
		name = dg_confucian.004.a #Execute the traitor
		kill_ruler = yes
		kill_advisor = natural_scientist
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -5
		}
	}
}

country_event = { #Inadvertent Discovery
	
	id = dg_confucian.005
	title = dg_confucian.005.t
	desc = dg_confucian.005.d
	picture = confucianism_alchemy
	
	is_triggered_only = yes
	
	option = {
		name = dg_confucian.005.a #Immortality is still out of my grasp
		random_list = {
			50 = { add_adm_power = 50 }
			30 = { add_dip_power = 50 }
			20 = { add_mil_power = 50 }
		}
	}
}

#####################
# Mandate of Heaven # 10s
#####################

#######################
# Religious Tolerance # 20s
#######################

country_event = { #21 - Foreign Religions (Buddhists)
	
	id = dg_confucian.021
	title = dg_confucian.021.t
	desc = dg_confucian.021.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = buddhist_presence } #Removed upon new ruler
		NOT = { has_country_flag = buddhists_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = buddhist_population value = 2 }
				NOT = { religion = confucianism }
			}
			AND = {
				religion = confucianism
				check_variable = { which = heretic_population value = 2 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = buddhist_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = buddhists_banned }
			hidden_effect = { clr_country_flag = buddhists_banned }
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = buddhists_permitted
			change_variable = { which = buddhists_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = {
					OR = {
						religion = buddhism
						religion = mahayana
						religion = vajrayana
					}
				}
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					OR = {
						religion = buddhism
						religion = mahayana
						religion = vajrayana
					}
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = buddhists_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = buddhists_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = buddhists_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = buddhists_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		hidden_effect = { change_variable = { which = buddhists_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = buddhists_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
	option = {
		name = dg_confucian.021.e #Ban this religion from our lands
		trigger = { has_country_flag = dharmics_banned }
		ai_chance = { factor = 30 }
	}
}

country_event = { #22 - Foreign Religions (Muslims)
	
	id = dg_confucian.022
	title = dg_confucian.021.t
	desc = dg_confucian.022.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = muslim_presence } #Removed upon new ruler
		NOT = { has_country_flag = muslims_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		check_variable = { which = muslim_population value = 2 }
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = muslim_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = muslims_banned }
			hidden_effect = { clr_country_flag = muslims_banned }
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = muslims_permitted
			change_variable = { which = muslims_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { religion_group = muslim }
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					religion_group = muslim
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = muslims_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = muslims_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = muslims_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = muslims_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		hidden_effect = { change_variable = { which = muslims_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = muslims_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
}

country_event = { #23 - Foreign Religions (Pagans)
	
	id = dg_confucian.023
	title = dg_confucian.021.t
	desc = dg_confucian.023.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = pagan_presence } #Removed upon new ruler
		NOT = { has_country_flag = pagans_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = pagan_population value = 2 }
				NOT = { religion_group = pagan }
			}
			AND = {
				religion_group = pagan
				check_variable = { which = heretic_population value = 2 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = pagan_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 100 }
		if = {
			limit = { has_country_flag = pagans_banned }
			clr_country_flag = pagans_banned
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = pagans_permitted
			change_variable = { which = pagans_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 0
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { religion_group = pagan }
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					religion_group = pagan
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = pagan_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = pagan_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = pagan_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = pagan_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = pagan_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = pagan_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = pagan_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = pagan_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = pagan_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = pagan_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = pagan_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		change_variable = { which = pagan_ignored value = 1 }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 0
			modifier = {
				has_country_flag = pagans_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
}

country_event = { #24 - Foreign Religions (Christians)
	
	id = dg_confucian.024
	title = dg_confucian.021.t
	desc = dg_confucian.024.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = christian_presence } #Removed upon new ruler
		NOT = { has_country_flag = christians_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = christian_population value = 2 }
				NOT = { has_country_flag = chinese_rites_banned }
			}
			check_variable = { which = non_catholic_christian_population value = 2 }
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = christian_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = christians_banned }
			hidden_effect = { clr_country_flag = christians_banned }
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = christians_permitted
			change_variable = { which = christians_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { religion_group = christian }
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					religion_group = christian
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = christians_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = christians_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = christians_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = christians_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		hidden_effect = { change_variable = { which = christians_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = christians_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
}

country_event = { #25 - Foreign Religions (Jews)
	
	id = dg_confucian.025
	title = dg_confucian.021.t
	desc = dg_confucian.025.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = jewish_presence } #Removed upon new ruler
		NOT = { has_country_flag = jews_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		check_variable = { which = jewish_population value = 2 }
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = jewish_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = jews_banned }
			hidden_effect = { clr_country_flag = jews_banned }
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = jews_permitted
			change_variable = { which = jews_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { religion_group = jewish_group }
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					religion_group = jewish_group
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = jews_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = jews_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = jews_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = jews_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		hidden_effect = { change_variable = { which = jews_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = jews_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
}

country_event = { #26 - Foreign Religions (Dharmics)
	
	id = dg_confucian.026
	title = dg_confucian.021.t
	desc = dg_confucian.026.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = dharmic_presence } #Removed upon new ruler
		NOT = { has_country_flag = dharmics_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		check_variable = { which = dharmic_population value = 2 }
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = dharmic_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 100 }
		if = {
			limit = { has_country_flag = dharmics_banned }
			hidden_effect = { clr_country_flag = dharmics_banned }
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = dharmics_permitted
			change_variable = { which = dharmics_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 0
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { religion_group = dharmic }
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					religion_group = dharmic
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = dharmics_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dharmics_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = dharmics_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = dharmics_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		hidden_effect = { change_variable = { which = dharmics_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 0
			modifier = {
				has_country_flag = dharmics_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
}

country_event = { #27 - Foreign Religions (European Pagans)
	
	id = dg_confucian.027
	title = dg_confucian.021.t
	desc = dg_confucian.027.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = european_pagan_presence } #Removed upon new ruler
		NOT = { has_country_flag = european_pagans_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = european_pagan_population value = 2 }
				NOT = { religion_group = european_pagan }
			}
			AND = {
				religion_group = european_pagan
				check_variable = { which = heretic_population value = 2 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = european_pagan_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = european_pagans_banned }
			clr_country_flag = european_pagans_banned
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = european_pagans_permitted
			change_variable = { which = european_pagans_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { religion_group = european_pagan }
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					religion_group = european_pagan
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = european_pagan_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = european_pagan_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = european_pagan_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = european_pagan_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagan_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagan_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagan_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagan_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagan_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagan_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagan_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		change_variable = { which = european_pagan_ignored value = 1 }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = european_pagans_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
}

country_event = { #28 - Foreign Religions (New World Pagans)
	
	id = dg_confucian.028
	title = dg_confucian.021.t
	desc = dg_confucian.028.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		NOT = { has_country_flag = new_world_pagan_presence } #Removed upon new ruler
		NOT = { has_country_flag = new_world_pagans_permitted }
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = new_world_pagan_population value = 2 }
				NOT = { religion_group = new_world_pagan }
			}
			AND = {
				religion_group = new_world_pagan
				check_variable = { which = heretic_population value = 2 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = new_world_pagan_presence }
	
	option = {
		name = dg_confucian.021.a #Permit their presence in our lands
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = new_world_pagans_banned }
			clr_country_flag = new_world_pagans_banned
			add_prestige = -3
		}
		hidden_effect = {
			set_country_flag = new_world_pagans_permitted
			change_variable = { which = new_world_pagans_ignored value = 1 }
		}
		custom_tooltip = permitted_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.021.b #Do not acknowledge their presence
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { religion_group = new_world_pagan }
				factor = 0.7
			}
			modifier = {
				num_of_owned_provinces_with = {
					religion_group = new_world_pagan
					value = 3
				}
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = new_world_pagan_ignored value = 1 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = new_world_pagan_ignored value = 4 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = new_world_pagan_ignored value = 6 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = new_world_pagan_ignored value = 8 } }
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagan_ignored value = 7 }
			}
			add_prestige = -3
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagan_ignored value = 6 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagan_ignored value = 5 }
			}
			add_prestige = -1
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagan_ignored value = 4 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagan_ignored value = 3 }
			}
			add_prestige = 0.5
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagan_ignored value = 2 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagan_ignored value = 1 }
			}
			add_prestige = 1.5
		}
		else = {
			add_prestige = 2
		}
		change_variable = { which = new_world_pagan_ignored value = 1 }
	}
	option = {
		name = dg_confucian.021.c #Condemn their strange ways
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = new_world_pagans_banned
				factor = 4
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		add_piety = 0.20
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 1000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 600 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 200 }
		}
		hidden_effect = {
			clear_permitted_religion = yes
		}
	}
}


country_event = { #31 - $COUNTRY_ADJ$ Buddhists
	
	id = dg_confucian.031
	title = dg_confucian.031.t
	desc = dg_confucian.031.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = buddhists_permitted
		NOT = { has_country_flag = buddhists_tolerated }
		NOT = { has_country_flag = buddhist_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = pagan_population value = 10 }
				NOT = { religion = confucianism }
			}
			AND = {
				religion = confucianism
				check_variable = { which = heretic_population value = 10 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = buddhist_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = buddhists_banned }
			hidden_effect = { clr_country_flag = buddhists_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = buddhists_tolerated
			set_country_flag = tolerated_buddhists
			clr_country_flag = buddhists_banned
			change_variable = { which = buddhists_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = buddhists_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = buddhists_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = buddhists_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = buddhists_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = buddhists_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = buddhists_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				OR = {
					has_country_flag = religious_turmoil_mahayana
					has_country_flag = religious_turmoil_buddhism
					has_country_flag = religious_turmoil_vajrayana
				}
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = buddhism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = buddhism_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = mahayana_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = mahayana_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = vajrayana_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = vajrayana_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = confucianism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = confucianism_population value = 40 }
				factor = 0
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = mahayana value = 2 } } }
				set_country_flag = religious_turmoil_mahayana
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = buddhism value = 2 } } }
				set_country_flag = religious_turmoil_buddhism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = vajrayana value = 2 } } }
				set_country_flag = religious_turmoil_vajrayana
			}
			if = {
				limit = {
					NOT = { religion = confucianism }
					any_owned_province = { check_variable = { which = confucianism value = 2 } }
				}
				set_country_flag = religious_turmoil_confucianism
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = buddhists_permitted
			clr_country_flag = buddhists_tolerated
			set_country_flag = buddhists_banned
		}
	}
}

country_event = { #32 - $COUNTRY_ADJ$ Muslims
	
	id = dg_confucian.032
	title = dg_confucian.032.t
	desc = dg_confucian.032.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = muslims_permitted
		NOT = { has_country_flag = muslims_tolerated }
		NOT = { has_country_flag = muslim_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		check_variable = { which = muslim_population value = 10 }
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = muslim_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = muslims_banned }
			hidden_effect = { clr_country_flag = muslims_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = muslims_tolerated
			set_country_flag = tolerated_muslims
			clr_country_flag = muslims_banned
			change_variable = { which = muslims_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = muslims_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = muslims_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = muslims_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = muslims_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = muslims_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = muslims_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				OR = {
					has_country_flag = religious_turmoil_sunni
					has_country_flag = religious_turmoil_shiite
					has_country_flag = religious_turmoil_druze
					has_country_flag = religious_turmoil_ibadi
					has_country_flag = religious_turmoil_wahhabi
				}
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = sunni_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = sunni_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = shiite_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = shiite_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = wahhabi_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = wahhabi_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = ibadi_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = ibadi_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = druze_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = druze_population value = 40 }
				factor = 0
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = sunni value = 2 } } }
				set_country_flag = religious_turmoil_sunni
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = shiite value = 2 } } }
				set_country_flag = religious_turmoil_shiite
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = druze value = 2 } } }
				set_country_flag = religious_turmoil_druze
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = wahhabi value = 2 } } }
				set_country_flag = religious_turmoil_wahhabi
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = ibadi value = 2 } } }
				set_country_flag = religious_turmoil_ibadi
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = muslims_permitted
			clr_country_flag = muslims_tolerated
			set_country_flag = muslims_banned
		}
	}
}

country_event = { #33 - $COUNTRY_ADJ$ Pagans
	
	id = dg_confucian.033
	title = dg_confucian.033.t
	desc = dg_confucian.033.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = pagans_permitted
		NOT = { has_country_flag = pagans_tolerated }
		NOT = { has_country_flag = pagan_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = pagan_population value = 10 }
				NOT = { religion_group = pagan }
			}
			AND = {
				religion_group = pagan
				check_variable = { which = heretic_population value = 10 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = pagan_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = pagans_banned }
			hidden_effect = { clr_country_flag = pagans_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = pagans_tolerated
			set_country_flag = tolerated_pagans
			clr_country_flag = pagans_banned
			change_variable = { which = pagans_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = pagans_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = pagans_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = pagans_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = pagans_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = pagans_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = pagans_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = pagans_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = pagans_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = pagans_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = pagans_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = pagans_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = pagans_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				OR = {
					has_country_flag = religious_turmoil_tengri_pagan_reformed
					has_country_flag = religious_turmoil_shamanism
					has_country_flag = religious_turmoil_animism
					has_country_flag = religious_turmoil_west_african_pagan_reformed
					has_country_flag = religious_turmoil_polynesian_religion
					has_country_flag = religious_turmoil_adi_dharam
					has_country_flag = religious_turmoil_shinto
				}
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = west_african_pagan_reformed_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = west_african_pagan_reformed_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = polynesian_religion_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = polynesian_religion_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = animism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = animism_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = tengri_pagan_reformed_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = tengri_pagan_reformed_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = shamanism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = shamanism_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = adi_dharam_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = adi_dharam_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = shinto_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = shinto_population value = 40 }
				factor = 0
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = animism value = 2 } } }
				set_country_flag = religious_turmoil_animism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = tengri_pagan_reformed value = 2 } } }
				set_country_flag = religious_turmoil_tengri_pagan_reformed
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = shamanism value = 2 } } }
				set_country_flag = religious_turmoil_shamanism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = west_african_pagan_reformed value = 2 } } }
				set_country_flag = religious_turmoil_west_african_pagan_reformed
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = adi_dharam value = 2 } } }
				set_country_flag = religious_turmoil_adi_dharam
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = shinto value = 2 } } }
				set_country_flag = religious_turmoil_shinto
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = pagans_permitted
			clr_country_flag = pagans_tolerated
			set_country_flag = pagans_banned
		}
	}
}

country_event = { #34 - $COUNTRY_ADJ$ Christians
	
	id = dg_confucian.034
	title = dg_confucian.034.t
	desc = dg_confucian.034.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = christians_permitted
		NOT = { has_country_flag = christians_tolerated }
		NOT = { has_country_flag = christian_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				NOT = { has_country_flag = chinese_rites_banned }
				check_variable = { which = christian_population value = 10 }
			}
			AND = {
				has_country_flag = chinese_rites_banned
				check_variable = { which = non_catholic_christian_population value = 10 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = christian_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = christians_banned }
			hidden_effect = { clr_country_flag = christians_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = christians_tolerated
			set_country_flag = tolerated_christians
			clr_country_flag = christians_banned
			change_variable = { which = christians_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = christians_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = christians_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = christians_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = christians_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = christians_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = christians_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				OR = {
					has_country_flag = religious_turmoil_catholic
					has_country_flag = religious_turmoil_protestant
					has_country_flag = religious_turmoil_hussite
					has_country_flag = religious_turmoil_reformed
					has_country_flag = religious_turmoil_gnostic
					has_country_flag = religious_turmoil_orthodox
					has_country_flag = religious_turmoil_coptic
					has_country_flag = religious_turmoil_chaldean
				}
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = catholic_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = catholic_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = orthodox_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = orthodox_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = protestant_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = protestant_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = reformed_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = reformed_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = hussite_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = hussite_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = gnostic_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = gnostic_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = coptic_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = coptic_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = chaldean_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = chaldean_population value = 40 }
				factor = 0
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = {
					any_owned_province = { check_variable = { which = catholic value = 2 } }
					NOT = { has_country_flag = chinese_rites_banned }
				}
				set_country_flag = religious_turmoil_catholic
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = protestant value = 2 } } }
				set_country_flag = religious_turmoil_protestant
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = hussite value = 2 } } }
				set_country_flag = religious_turmoil_hussite
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = gnostic value = 2 } } }
				set_country_flag = religious_turmoil_gnostic
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = reformed value = 2 } } }
				set_country_flag = religious_turmoil_reformed
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = orthodox value = 2 } } }
				set_country_flag = religious_turmoil_orthodox
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = coptic value = 2 } } }
				set_country_flag = religious_turmoil_coptic
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = chaldean value = 2 } } }
				set_country_flag = religious_turmoil_chaldean
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = christians_permitted
			clr_country_flag = christians_tolerated
			set_country_flag = christians_banned
		}
	}
}

country_event = { #35 - $COUNTRY_ADJ$ Jews
	
	id = dg_confucian.035
	title = dg_confucian.035.t
	desc = dg_confucian.035.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = jews_permitted
		NOT = { has_country_flag = jews_tolerated }
		NOT = { has_country_flag = jewish_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		check_variable = { which = pagan_population value = 10 }
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = jewish_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = jews_banned }
			hidden_effect = { clr_country_flag = jews_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = jews_tolerated
			set_country_flag = tolerated_jews
			clr_country_flag = jews_banned
			change_variable = { which = jews_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = jews_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = jews_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = jews_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = jews_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = jews_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = jews_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = religious_turmoil_jewish
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = jewish_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = jewish_population value = 40 }
				factor = 0
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = jewish value = 2 } } }
				set_country_flag = religious_turmoil_jewish
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = jews_permitted
			clr_country_flag = jews_tolerated
			set_country_flag = jews_banned
		}
	}
}

country_event = { #36 - $COUNTRY_ADJ$ Dharmics
	
	id = dg_confucian.036
	title = dg_confucian.036.t
	desc = dg_confucian.036.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = dharmics_permitted
		NOT = { has_country_flag = dharmics_tolerated }
		NOT = { has_country_flag = dharmic_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		check_variable = { which = dharmic_population value = 10 }
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = dharmic_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = dharmics_banned }
			hidden_effect = { clr_country_flag = dharmics_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = dharmics_tolerated
			set_country_flag = tolerated_dharmics
			clr_country_flag = dharmics_banned
			change_variable = { which = dharmics_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = dharmics_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = dharmics_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = dharmics_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = dharmics_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = dharmics_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = dharmics_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				OR = {
					has_country_flag = religious_turmoil_hinduism
					has_country_flag = religious_turmoil_sikhism
					has_country_flag = religious_turmoil_jain
					has_country_flag = religious_turmoil_zoroastrian
				}
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = hinduism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = hinduism_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = sikhism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = sikhism_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = zoroastrian_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = zoroastrian_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = jain_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = jain_population value = 40 }
				factor = 0
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = hinduism value = 2 } } }
				set_country_flag = religious_turmoil_hinduism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = sikhism value = 2 } } }
				set_country_flag = religious_turmoil_sikhism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = jain value = 2 } } }
				set_country_flag = religious_turmoil_jain
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = zoroastrian value = 2 } } }
				set_country_flag = religious_turmoil_zoroastrian
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = dharmics_permitted
			clr_country_flag = dharmics_tolerated
			set_country_flag = dharmics_banned
		}
	}
}

country_event = { #37 - $COUNTRY_ADJ$ Pagans (Europe)
	
	id = dg_confucian.037
	title = dg_confucian.037.t
	desc = dg_confucian.037.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = european_pagans_permitted
		NOT = { has_country_flag = european_pagans_tolerated }
		NOT = { has_country_flag = european_pagan_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = european_pagan_population value = 10 }
				NOT = { religion_group = european_pagan }
			}
			AND = {
				religion_group = european_pagan
				check_variable = { which = heretic_population value = 10 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = european_pagan_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = european_pagans_banned }
			hidden_effect = { clr_country_flag = european_pagans_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = european_pagans_tolerated
			set_country_flag = tolerated_european_pagans
			clr_country_flag = european_pagans_banned
			change_variable = { which = european_pagans_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = european_pagans_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = european_pagans_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = european_pagans_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = european_pagans_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagans_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagans_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagans_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagans_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagans_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagans_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = european_pagans_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = european_pagans_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				OR = {
					has_country_flag = religious_turmoil_hellenic_pagan
					has_country_flag = religious_turmoil_norse_pagan_reformed
					has_country_flag = religious_turmoil_slavic_pagan_reformed
					has_country_flag = religious_turmoil_finnish_pagan_reformed
					has_country_flag = religious_turmoil_baltic_pagan_reformed
				}
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = inti_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = inti_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = nahuatl_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = nahuatl_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = pantheism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = pantheism_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = totemism_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = totemism_population value = 40 }
				factor = 0
			}
			modifier = {
				check_variable = { which = mesoamerican_religion_population value = 20 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = mesoamerican_religion_population value = 40 }
				factor = 0
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = hellenic_pagan value = 2 } } }
				set_country_flag = religious_turmoil_hellenic_pagan
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = slavic_pagan_reformed value = 2 } } }
				set_country_flag = religious_turmoil_slavic_pagan_reformed
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = norse_pagan_reformed value = 2 } } }
				set_country_flag = religious_turmoil_norse_pagan_reformed
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = finnish_pagan_reformed value = 2 } } }
				set_country_flag = religious_turmoil_finnish_pagan_reformed
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = baltic_pagan_reformed value = 2 } } }
				set_country_flag = religious_turmoil_baltic_pagan_reformed
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = european_pagans_permitted
			clr_country_flag = european_pagans_tolerated
			set_country_flag = european_pagans_banned
		}
	}
}

country_event = { #38 - $COUNTRY_ADJ$ Pagans (New World)
	
	id = dg_confucian.038
	title = dg_confucian.038.t
	desc = dg_confucian.038.d
	picture = all_pilgrims
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		has_country_flag = new_world_pagans_permitted
		NOT = { has_country_flag = new_world_pagans_tolerated }
		NOT = { has_country_flag = new_world_pagan_population } #Removed upon new ruler
		NOT = { has_country_modifier = religious_intolerance }
		OR = {
			AND = {
				check_variable = { which = new_world_pagan_population value = 10 }
				NOT = { religion_group = new_world_pagan }
			}
			AND = {
				religion_group = new_world_pagan
				check_variable = { which = heretic_population value = 10 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = { set_country_flag = new_world_pagan_population }
	
	option = {
		name = dg_confucian.031.a #Give them official state support
		ai_chance = { factor = 40 }
		if = {
			limit = { has_country_flag = new_world_pagans_banned }
			hidden_effect = { clr_country_flag = new_world_pagans_banned }
			add_prestige = -6
		}
		hidden_effect = {
			set_country_flag = new_world_pagans_tolerated
			set_country_flag = tolerated_new_world_pagans
			clr_country_flag = new_world_pagans_banned
			change_variable = { which = new_world_pagans_ignored value = 1 }
		}
		custom_tooltip = tolerated_religion_explained
		add_piety = -0.05
	}
	option = {
		name = dg_confucian.031.b #This matter requires more consideration
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { check_variable = { which = new_world_pagans_ignored value = 2 } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = new_world_pagans_ignored value = 8 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = new_world_pagans_ignored value = 12 }
				factor = 0.5
			}
		}
		if = {
			limit = { check_variable = { which = new_world_pagans_ignored value = 16 } }
			add_prestige = -8
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagans_ignored value = 14 }
			}
			add_prestige = -6
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagans_ignored value = 12 }
			}
			add_prestige = -4
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagans_ignored value = 10 }
			}
			add_prestige = -2
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagans_ignored value = 8 }
			}
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagans_ignored value = 6 }
			}
			add_prestige = 1
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagans_ignored value = 4 }
			}
			add_prestige = 2
		}
		else_if = {
			limit = {
				check_variable = { which = new_world_pagans_ignored value = 2 }
			}
			add_prestige = 3
		}
		else = {
			add_prestige = 4
		}
		hidden_effect = { change_variable = { which = new_world_pagans_ignored value = 1 } }
	}
	option = {
		name = dg_confucian.031.c #Ban this religion
		ai_chance = {
			factor = 20
			modifier = {
				OR = {
					has_country_flag = religious_turmoil_totemism
					has_country_flag = religious_turmoil_pantheism
					has_country_flag = religious_turmoil_mesoamerican_religion
					has_country_flag = religious_turmoil_inti
					has_country_flag = religious_turmoil_nahuatl
				}
				factor = 4
			}
			modifier = {
				religious_unity = 1.00
				factor = 0
			}
			modifier = {
				NOT = { religious_unity = 0.80 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.60 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.40 }
				factor = 2
			}
			modifier = {
				NOT = { religious_unity = 0.20 }
				factor = 2
			}
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 0.7
			}
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = totemism value = 2 } } }
				set_country_flag = religious_turmoil_totemism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = pantheism value = 2 } } }
				set_country_flag = religious_turmoil_pantheism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = inti value = 2 } } }
				set_country_flag = religious_turmoil_inti
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = nahuatl value = 2 } } }
				set_country_flag = religious_turmoil_nahuatl
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = mesoamerican_religion value = 2 } } }
				set_country_flag = religious_turmoil_mesoamerican_religion
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		hidden_effect = {
			clr_country_flag = new_world_pagans_permitted
			clr_country_flag = new_world_pagans_tolerated
			set_country_flag = new_world_pagans_banned
		}
	}
}

country_event = { #39 - the Catholic Controversy
	
	id = dg_confucian.039
	title = dg_confucian.039.t
	desc = dg_confucian.039.d
	picture = catholic_jesuits_asia
	
	trigger = {
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		PAP = { has_country_flag = chinese_rites_banned }
		NOT = { has_country_flag = chinese_rites_banned }
		any_owned_province = { check_variable = { which = catholic value = 2 } }
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = { set_country_flag = chinese_rites_banned }
	
	option = {
		name = dg_confucian.039.a #Ban all Christians
		ai_chance = {
			factor = 75
			modifier = {
				has_country_flag = christians_tolerated
				factor = 0.7
			}
		}
		hidden_effect = {
			clr_country_flag = christians_tolerated
			clr_country_flag = christians_permitted
			set_country_flag = christians_banned
		}
	}
	option = {
		name = dg_confucian.039.b #Ban only Catholics
		ai_chance = { factor = 25 }
		add_prestige = -5
	}
}

country_event = { #41 - Anti-Buddhist Protests
	
	id = dg_confucian.041
	title = dg_confucian.041.t
	desc = dg_confucian.041.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = buddhists_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			religion_group = taoic
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			NOT = { buddhism = 2 }
			factor = 0.7
		}
		modifier = {
			NOT = { buddhism = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { buddhism = -2 }
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = buddhism value = 4 }
					check_variable = { which = mahayana value = 4 }
					check_variable = { which = vajrayana value = 4 }
					AND = {
						NOT = { owner = { religion = confucianism } }
						check_variable = { which = confucianism value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = buddhists_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = buddhists_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = buddhism value = 4 }
					check_variable = { which = mahayana value = 4 }
					check_variable = { which = vajrayana value = 4 }
					AND = {
						NOT = { owner = { religion = confucianism } }
						check_variable = { which = confucianism value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = mahayana value = 2 } } }
				set_country_flag = religious_turmoil_mahayana
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = buddhism value = 2 } } }
				set_country_flag = religious_turmoil_buddhism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = vajrayana value = 2 } } }
				set_country_flag = religious_turmoil_vajrayana
			}
			if = {
				limit = {
					NOT = { religion = confucianism }
					any_owned_province = { check_variable = { which = confucianism value = 2 } }
				}
				set_country_flag = religious_turmoil_confucianism
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = buddhism value = 4 }
					check_variable = { which = mahayana value = 4 }
					check_variable = { which = vajrayana value = 4 }
					AND = {
						NOT = { owner = { religion = confucianism } }
						check_variable = { which = confucianism value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = buddhists_permitted
			clr_country_flag = buddhists_tolerated
			set_country_flag = buddhists_banned
		}
	}
}

country_event = { #42 - Anti-Muslim Protests
	
	id = dg_confucian.042
	title = dg_confucian.042.t
	desc = dg_confucian.042.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = muslims_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			religion_group = muslim
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			NOT = { sunni = 2 }
			factor = 0.7
		}
		modifier = {
			NOT = { sunni = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { sunni = -2 }
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = sunni value = 4 }
					check_variable = { which = shiite value = 4 }
					check_variable = { which = druze value = 4 }
					check_variable = { which = ibadi value = 4 }
					check_variable = { which = wahhabi value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = muslims_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = muslims_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = sunni value = 4 }
					check_variable = { which = shiite value = 4 }
					check_variable = { which = druze value = 4 }
					check_variable = { which = ibadi value = 4 }
					check_variable = { which = wahhabi value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = sunni value = 2 } } }
				set_country_flag = religious_turmoil_sunni
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = shiite value = 2 } } }
				set_country_flag = religious_turmoil_shiite
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = druze value = 2 } } }
				set_country_flag = religious_turmoil_druze
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = ibadi value = 2 } } }
				set_country_flag = religious_turmoil_ibadi
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = wahhabi value = 2 } } }
				set_country_flag = religious_turmoil_wahhabi
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = sunni value = 4 }
					check_variable = { which = shiite value = 4 }
					check_variable = { which = druze value = 4 }
					check_variable = { which = ibadi value = 4 }
					check_variable = { which = wahhabi value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = muslims_permitted
			clr_country_flag = muslims_tolerated
			set_country_flag = muslims_banned
		}
	}
}

country_event = { #43 - Anti-Pagan Protests
	
	id = dg_confucian.043
	title = dg_confucian.043.t
	desc = dg_confucian.043.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = pagans_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			OR = {
				religion_group = pagan
				religion_group = european_pagan
				religion_group = new_world_pagan
			}
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { animism = 2 }
				NOT = { shamanism = 2 }
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { animism = 0 }
				NOT = { shamanism = 0 }
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { animism = -2 }
				NOT = { shamanism = -2 }
			}
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = polynesian_religion } }
						check_variable = { which = polynesian_religion value = 4 }
					}
					AND = {
						NOT = { owner = { religion = animism } }
						check_variable = { which = animism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = tengri_pagan_reformed } }
						check_variable = { which = tengri_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = shamanism } }
						check_variable = { which = shamanism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = west_african_pagan_reformed } }
						check_variable = { which = west_african_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = adi_dharam } }
						check_variable = { which = adi_dharam value = 4 }
					}
					AND = {
						NOT = { owner = { religion = shinto } }
						check_variable = { which = shinto value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = pagans_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = pagans_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = polynesian_religion } }
						check_variable = { which = polynesian_religion value = 4 }
					}
					AND = {
						NOT = { owner = { religion = animism } }
						check_variable = { which = animism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = tengri_pagan_reformed } }
						check_variable = { which = tengri_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = shamanism } }
						check_variable = { which = shamanism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = west_african_pagan_reformed } }
						check_variable = { which = west_african_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = adi_dharam } }
						check_variable = { which = adi_dharam value = 4 }
					}
					AND = {
						NOT = { owner = { religion = shinto } }
						check_variable = { which = shinto value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = {
					NOT = { religion = animism }
					any_owned_province = { check_variable = { which = animism value = 2 } }
				}
				set_country_flag = religious_turmoil_animism
			}
			if = {
				limit = {
					NOT = { religion = tengri_pagan_reformed }
					any_owned_province = { check_variable = { which = tengri_pagan_reformed value = 2 } }
				}
				set_country_flag = religious_turmoil_tengri_pagan_reformed
			}
			if = {
				limit = {
					NOT = { religion = shamanism }
					any_owned_province = { check_variable = { which = shamanism value = 2 } }
				}
				set_country_flag = religious_turmoil_shamanism
			}
			if = {
				limit = {
					NOT = { religion = polynesian_religion }
					any_owned_province = { check_variable = { which = polynesian_religion value = 2 } }
				}
				set_country_flag = religious_turmoil_polynesian_religion
			}
			if = {
				limit = {
					NOT = { religion = west_african_pagan_reformed }
					any_owned_province = { check_variable = { which = west_african_pagan_reformed value = 2 } }
				}
				set_country_flag = religious_turmoil_west_african_pagan_reformed
			}
			if = {
				limit = {
					NOT = { religion = adi_dharam }
					any_owned_province = { check_variable = { which = adi_dharam value = 2 } }
				}
				set_country_flag = religious_turmoil_adi_dharam
			}
			if = {
				limit = {
					NOT = { religion = shinto }
					any_owned_province = { check_variable = { which = shinto value = 2 } }
				}
				set_country_flag = religious_turmoil_shinto
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = polynesian_religion } }
						check_variable = { which = polynesian_religion value = 4 }
					}
					AND = {
						NOT = { owner = { religion = animism } }
						check_variable = { which = animism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = tengri_pagan_reformed } }
						check_variable = { which = tengri_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = shamanism } }
						check_variable = { which = shamanism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = west_african_pagan_reformed } }
						check_variable = { which = west_african_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = adi_dharam } }
						check_variable = { which = adi_dharam value = 4 }
					}
					AND = {
						NOT = { owner = { religion = shinto } }
						check_variable = { which = shinto value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = pagans_permitted
			clr_country_flag = pagans_tolerated
			set_country_flag = pagans_banned
		}
	}
}

country_event = { #44 - Anti-Christian Protests
	
	id = dg_confucian.044
	title = dg_confucian.044.t
	desc = dg_confucian.044.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = christians_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			religion_group = christian
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			NOT = { catholic = 2 }
			factor = 0.7
		}
		modifier = {
			NOT = { catholic = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { catholic = -2 }
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = catholic value = 4 }
					check_variable = { which = protestant value = 4 }
					check_variable = { which = reformed value = 4 }
					check_variable = { which = gnostic value = 4 }
					check_variable = { which = hussite value = 4 }
					check_variable = { which = coptic value = 4 }
					check_variable = { which = chaldean value = 4 }
					check_variable = { which = orthodox value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = christians_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = christians_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = catholic value = 4 }
					check_variable = { which = protestant value = 4 }
					check_variable = { which = reformed value = 4 }
					check_variable = { which = gnostic value = 4 }
					check_variable = { which = hussite value = 4 }
					check_variable = { which = coptic value = 4 }
					check_variable = { which = chaldean value = 4 }
					check_variable = { which = orthodox value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = catholic value = 2 } } }
				set_country_flag = religious_turmoil_catholic
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = protestant value = 2 } } }
				set_country_flag = religious_turmoil_protestant
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = reformed value = 2 } } }
				set_country_flag = religious_turmoil_reformed
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = gnostic value = 2 } } }
				set_country_flag = religious_turmoil_gnostic
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = hussite value = 2 } } }
				set_country_flag = religious_turmoil_hussite
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = coptic value = 2 } } }
				set_country_flag = religious_turmoil_coptic
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = chaldean value = 2 } } }
				set_country_flag = religious_turmoil_chaldean
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = orthodox value = 2 } } }
				set_country_flag = religious_turmoil_orthodox
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = catholic value = 4 }
					check_variable = { which = protestant value = 4 }
					check_variable = { which = reformed value = 4 }
					check_variable = { which = gnostic value = 4 }
					check_variable = { which = hussite value = 4 }
					check_variable = { which = coptic value = 4 }
					check_variable = { which = chaldean value = 4 }
					check_variable = { which = orthodox value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = christians_permitted
			clr_country_flag = christians_tolerated
			set_country_flag = christians_banned
		}
	}
}

country_event = { #45 - Anti-Jewish Protests
	
	id = dg_confucian.045
	title = dg_confucian.045.t
	desc = dg_confucian.045.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = jews_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			religion_group = jewish_group
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			NOT = { jewish = 2 }
			factor = 0.7
		}
		modifier = {
			NOT = { jewish = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { jewish = -2 }
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				check_variable = { which = jewish value = 4 }
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = jews_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = jews_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				check_variable = { which = jewish value = 4 }
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = jewish value = 2 } } }
				set_country_flag = religious_turmoil_jewish
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				check_variable = { which = jewish value = 4 }
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = jews_permitted
			clr_country_flag = jews_tolerated
			set_country_flag = jews_banned
		}
	}
}

country_event = { #46 - Anti-Dharmic Protests
	
	id = dg_confucian.046
	title = dg_confucian.046.t
	desc = dg_confucian.046.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = dharmics_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			religion_group = dharmic
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			NOT = { hinduism = 2 }
			factor = 0.7
		}
		modifier = {
			NOT = { hinduism = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { hinduism = -2 }
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = hinduism value = 4 }
					check_variable = { which = sikhism value = 4 }
					check_variable = { which = zoroastrian value = 4 }
					check_variable = { which = jain value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = dharmics_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = dharmics_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = hinduism value = 4 }
					check_variable = { which = sikhism value = 4 }
					check_variable = { which = zoroastrian value = 4 }
					check_variable = { which = jain value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = { any_owned_province = { check_variable = { which = hinduism value = 2 } } }
				set_country_flag = religious_turmoil_hinduism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = sikhism value = 2 } } }
				set_country_flag = religious_turmoil_sikhism
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = jain value = 2 } } }
				set_country_flag = religious_turmoil_jain
			}
			if = {
				limit = { any_owned_province = { check_variable = { which = zoroastrian value = 2 } } }
				set_country_flag = religious_turmoil_zoroastrian
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				OR = {
					check_variable = { which = hinduism value = 4 }
					check_variable = { which = sikhism value = 4 }
					check_variable = { which = zoroastrian value = 4 }
					check_variable = { which = jain value = 4 }
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = dharmics_permitted
			clr_country_flag = dharmics_tolerated
			set_country_flag = dharmics_banned
		}
	}
}

country_event = { #47 - Anti-Pagan Protests (European)
	
	id = dg_confucian.047
	title = dg_confucian.047.t
	desc = dg_confucian.047.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = european_pagans_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			religion_group = european_pagan
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { hellenic_pagan = 2 }
				NOT = { norse_pagan_reformed = 2 }
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { hellenic_pagan = 0 }
				NOT = { norse_pagan_reformed = 0 }
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { hellenic_pagan = -2 }
				NOT = { norse_pagan_reformed = -2 }
			}
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = hellenic_pagan } }
						check_variable = { which = hellenic_pagan value = 4 }
					}
					AND = {
						NOT = { owner = { religion = baltic_pagan_reformed } }
						check_variable = { which = baltic_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = norse_pagan_reformed } }
						check_variable = { which = norse_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = slavic_pagan_reformed } }
						check_variable = { which = slavic_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = finnish_pagan_reformed } }
						check_variable = { which = finnish_pagan_reformed value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = european_pagans_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = european_pagans_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = hellenic_pagan } }
						check_variable = { which = hellenic_pagan value = 4 }
					}
					AND = {
						NOT = { owner = { religion = baltic_pagan_reformed } }
						check_variable = { which = baltic_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = norse_pagan_reformed } }
						check_variable = { which = norse_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = slavic_pagan_reformed } }
						check_variable = { which = slavic_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = finnish_pagan_reformed } }
						check_variable = { which = finnish_pagan_reformed value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = {
					NOT = { religion = hellenic_pagan }
					any_owned_province = { check_variable = { which = hellenic_pagan value = 2 } }
				}
				set_country_flag = religious_turmoil_hellenic_pagan
			}
			if = {
				limit = {
					NOT = { religion = baltic_pagan_reformed }
					any_owned_province = { check_variable = { which = baltic_pagan_reformed value = 2 } }
				}
				set_country_flag = religious_turmoil_baltic_pagan_reformed
			}
			if = {
				limit = {
					NOT = { religion = norse_pagan_reformed }
					any_owned_province = { check_variable = { which = norse_pagan_reformed value = 2 } }
				}
				set_country_flag = religious_turmoil_norse_pagan_reformed
			}
			if = {
				limit = {
					NOT = { religion = finnish_pagan_reformed }
					any_owned_province = { check_variable = { which = finnish_pagan_reformed value = 2 } }
				}
				set_country_flag = religious_turmoil_finnish_pagan_reformed
			}
			if = {
				limit = {
					NOT = { religion = slavic_pagan_reformed }
					any_owned_province = { check_variable = { which = slavic_pagan_reformed value = 2 } }
				}
				set_country_flag = religious_turmoil_slavic_pagan_reformed
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = hellenic_pagan } }
						check_variable = { which = hellenic_pagan value = 4 }
					}
					AND = {
						NOT = { owner = { religion = baltic_pagan_reformed } }
						check_variable = { which = baltic_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = norse_pagan_reformed } }
						check_variable = { which = norse_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = slavic_pagan_reformed } }
						check_variable = { which = slavic_pagan_reformed value = 4 }
					}
					AND = {
						NOT = { owner = { religion = finnish_pagan_reformed } }
						check_variable = { which = finnish_pagan_reformed value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = european_pagans_permitted
			clr_country_flag = european_pagans_tolerated
			set_country_flag = european_pagans_banned
		}
	}
}

country_event = { #48 - Anti-Pagan Protests (New World)
	
	id = dg_confucian.048
	title = dg_confucian.048.t
	desc = dg_confucian.048.d
	picture = all_massacre
	
	trigger = {
		has_country_flag = new_world_pagans_permitted
		OR = {
			religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = {
			NOT = { religious_unity = 1 }
			has_country_modifier = religious_intolerance
		}
		any_owned_province = {
			religion_group = new_world_pagan
			has_owner_religion = no
			NOT = { has_province_modifier = religious_riots }
		}
	}
	
	mean_time_to_happen = {
		
		years = 166
		
		modifier = {
			NOT = { religious_unity = 0.90 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.80 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.70 }
			factor = 0.7
		}
		modifier = {
			NOT = { religious_unity = 0.60 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = 0 }
			factor = 0.7
		}
		modifier = {
			NOT = { stability = -1 }
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 5
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 10
			factor = 0.7
		}
		modifier = {
			war_exhaustion = 15
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { totemism = 2 }
				NOT = { nahuatl = 2 }
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { totemism = 0 }
				NOT = { nahuatl = 0 }
			}
			factor = 0.7
		}
		modifier = {
			OR = {
				NOT = { totemism = -2 }
				NOT = { nahuatl = -2 }
			}
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			has_country_modifier = religious_intolerance
			factor = 0.25
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_theologian
			factor = 1.4
		}
	}
	
	option = {
		name = dg_confucian.041.a #Send in the army to restore order
		ai_chance = { factor = 30 }
		add_mil_power = -25
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = inti } }
						check_variable = { which = inti value = 4 }
					}
					AND = {
						NOT = { owner = { religion = nahuatl } }
						check_variable = { which = nahuatl value = 4 }
					}
					AND = {
						NOT = { owner = { religion = pantheism } }
						check_variable = { which = pantheism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = mesoamerican_religion } }
						check_variable = { which = mesoamerican_religion value = 4 }
					}
					AND = {
						NOT = { owner = { religion = totemism } }
						check_variable = { which = totemism value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
	}
	option = {
		name = dg_confucian.041.b #Ignore the problem
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = pagans_tolerated }
			add_legitimacy = -6
			custom_tooltip = end_toleration_explained
			hidden_effect = { clr_country_flag = pagans_tolerated }
		}
		else = {
			add_legitimacy = -3
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = inti } }
						check_variable = { which = inti value = 4 }
					}
					AND = {
						NOT = { owner = { religion = nahuatl } }
						check_variable = { which = nahuatl value = 4 }
					}
					AND = {
						NOT = { owner = { religion = pantheism } }
						check_variable = { which = pantheism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = mesoamerican_religion } }
						check_variable = { which = mesoamerican_religion value = 4 }
					}
					AND = {
						NOT = { owner = { religion = totemism } }
						check_variable = { which = totemism value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 400 }
		}
	}
	option = {
		name = dg_confucian.041.c #Strip them of their legal status
		ai_chance = { factor = 40 }
		if = {
			limit = { religious_unity = 0.90 }
			random = { chance = 20 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.80 }
			random = { chance = 40 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.70 }
			random = { chance = 60 subtract_stability_1 = yes }
		}
		else_if = {
			limit = { religious_unity = 0.60 }
			random = { chance = 80 subtract_stability_1 = yes }
		}
		else = {
			subtract_stability_1 = yes
		}
		hidden_effect = {
			set_country_flag = religious_turmoil_happening
			if = {
				limit = {
					NOT = { religion = inti }
					any_owned_province = { check_variable = { which = inti value = 2 } }
				}
				set_country_flag = religious_turmoil_inti
			}
			if = {
				limit = {
					NOT = { religion = pantheism }
					any_owned_province = { check_variable = { which = pantheism value = 2 } }
				}
				set_country_flag = religious_turmoil_pantheism
			}
			if = {
				limit = {
					NOT = { religion = mesoamerican_religion }
					any_owned_province = { check_variable = { which = mesoamerican_religion value = 2 } }
				}
				set_country_flag = religious_turmoil_mesoamerican_religion
			}
			if = {
				limit = {
					NOT = { religion = nahuatl }
					any_owned_province = { check_variable = { which = nahuatl value = 2 } }
				}
				set_country_flag = religious_turmoil_nahuatl
			}
			if = {
				limit = {
					NOT = { religion = totemism }
					any_owned_province = { check_variable = { which = totemism value = 2 } }
				}
				set_country_flag = religious_turmoil_totemism
			}
		}
		country_event = { id = dg_turmoil.049 } #Religious uprising
		if = {
			limit = { has_country_modifier = religious_intolerance }
			add_piety = 0.05
		}
		else = {
			add_piety = 0.25
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = religious_intolerance duration = 2000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1600 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = religious_intolerance duration = 1200 }
		}
		else_if = {
			limit = { piety = -0.60 }
			add_country_modifier = { name = religious_intolerance duration = 800 }
		}
		else = {
			add_country_modifier = { name = religious_intolerance duration = 400 }
		}
		every_owned_province = {
			limit = {
				OR = {
					AND = {
						NOT = { owner = { religion = inti } }
						check_variable = { which = inti value = 4 }
					}
					AND = {
						NOT = { owner = { religion = nahuatl } }
						check_variable = { which = nahuatl value = 4 }
					}
					AND = {
						NOT = { owner = { religion = pantheism } }
						check_variable = { which = pantheism value = 4 }
					}
					AND = {
						NOT = { owner = { religion = mesoamerican_religion } }
						check_variable = { which = mesoamerican_religion value = 4 }
					}
					AND = {
						NOT = { owner = { religion = totemism } }
						check_variable = { which = totemism value = 4 }
					}
				}
				OR = {
					has_owner_religion = yes
					has_owner_culture = yes
				}
			}
			add_province_modifier = { name = religious_riots duration = 200 }
		}
		hidden_effect = {
			clr_country_flag = new_world_pagans_permitted
			clr_country_flag = new_world_pagans_tolerated
			set_country_flag = new_world_pagans_banned
		}
	}
}

country_event = { #51 - The Emperor converts to Buddhism
	
	id = dg_confucian.051
	title = dg_confucian.051.t
	desc = dg_confucian.051.d
	picture = orthodox_hermit_meeting
	
	trigger = {
		has_country_flag = buddhists_permitted
		OR = {
			ruler_religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { check_variable = { which = sympathy_to_old_religion value = 1 } }
		any_owned_province = {
			OR = {
				has_owner_culture = yes
				is_capital = yes
			}
			OR = {
				AND = {
					check_variable = { which = confucianism value = 4 }
					NOT = { owner = { religion = confucianism } }
				}
				check_variable = { which = mahayana value = 4 }
				check_variable = { which = vajrayana value = 4 }
				check_variable = { which = buddhism value = 4 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		years = 1666
		
		modifier = {
			NOT = { months_of_ruling = 25 }
			factor = 0.5
		}
		modifier = {
			NOT = { religious_unity = 1.00 }
			factor = 0.7
		}
		modifier = {
			has_country_flag = buddhists_tolerated
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				religion_group = taoic
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = taoic
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			any_owned_province = {
				religion_group = taoic
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = taoic
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			overlord = { religion_group = taoic }
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = { religion_group = taoic }
			factor = 0.7
		}
		modifier = {
			any_ally = { religion_group = taoic }
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				religion_group = taoic
				army_size = ROOT
			}
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			#makes it possible for the next ruler to try and convert the state religion
			set_variable = { which = sympathy_to_old_religion value = 60 }
			#clears any old religion
			clr_country_flag = was_catholic
			clr_country_flag = was_orthodox
			clr_country_flag = was_gnostic
			clr_country_flag = was_hussite
			clr_country_flag = was_protestant
			clr_country_flag = was_reformed
			clr_country_flag = was_coptic
			clr_country_flag = was_chaldean
			clr_country_flag = was_sunni
			clr_country_flag = was_shiite
			clr_country_flag = was_druze
			clr_country_flag = was_ibadi
			clr_country_flag = was_wahhabi
			clr_country_flag = was_confucianism
			clr_country_flag = was_mahayana
			clr_country_flag = was_buddhism
			clr_country_flag = was_vajrayana
			clr_country_flag = was_hinduism
			clr_country_flag = was_jain
			clr_country_flag = was_zoroastrian
			clr_country_flag = was_sikhism
			clr_country_flag = was_jewish
			clr_country_flag = was_totemism
			clr_country_flag = was_animism
			clr_country_flag = was_west_african_pagan_reformed
			clr_country_flag = was_tengri_pagan_reformed
			clr_country_flag = was_shamanism
			clr_country_flag = was_shinto
			clr_country_flag = was_nahuatl
			clr_country_flag = was_inti
			clr_country_flag = was_baltic_pagan_reformed
			clr_country_flag = was_pantheism
			clr_country_flag = was_finnish_pagan_reformed
			clr_country_flag = was_norse_pagan_reformed
			clr_country_flag = was_slavic_pagan_reformed
			clr_country_flag = was_hellenic_pagan
			clr_country_flag = was_adi_dharam
			clr_country_flag = was_polynesian_religion
			#discovers which religion is strongest
			if = {
				limit = { NOT = { religion = confucianism } }
				every_owned_province = {
					if = {
						limit = { is_capital = yes }
						if = {
							limit = { check_variable = { which = confucianism value = 12 } }
							owner = { change_variable = { which = confucianism_power value = 9 } }
						}
						else_if = {
							limit = { check_variable = { which = confucianism value = 6 } }
							owner = { change_variable = { which = confucianism_power value = 6 } }
						}
						else_if = {
							limit = { check_variable = { which = confucianism value = 2 } }
							owner = { change_variable = { which = confucianism_power value = 3 } }
						}
					}
					else_if = {
						limit = { has_owner_culture = yes }
						if = {
							limit = { check_variable = { which = confucianism value = 12 } }
							owner = { change_variable = { which = confucianism_power value = 6 } }
						}
						else_if = {
							limit = { check_variable = { which = confucianism value = 6 } }
							owner = { change_variable = { which = confucianism_power value = 4 } }
						}
						else_if = {
							limit = {  check_variable = { which = confucianism value = 2 } }
							owner = { change_variable = { which = confucianism_power value = 2 } }
						}
					}
					else = {
						if = {
							limit = { check_variable = { which = confucianism value = 12 } }
							owner = { change_variable = { which = confucianism_power value = 3 } }
						}
						else_if = {
							limit = { check_variable = { which = confucianism value = 6 } }
							owner = { change_variable = { which = confucianism_power value = 2 } }
						}
						else_if = {
							limit = { check_variable = { which = confucianism value = 2 } }
							owner = { change_variable = { which = confucianism_power value = 1 } }
						}
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = mahayana value = 12 } }
						owner = { change_variable = { which = mahayana_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = mahayana value = 6 } }
						owner = { change_variable = { which = mahayana_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = mahayana value = 2 } }
						owner = { change_variable = { which = mahayana_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = mahayana value = 12 } }
						owner = { change_variable = { which = mahayana_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = mahayana value = 6 } }
						owner = { change_variable = { which = mahayana_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = mahayana value = 2 } }
						owner = { change_variable = { which = mahayana_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = mahayana value = 12 } }
						owner = { change_variable = { which = mahayana_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = mahayana value = 6 } }
						owner = { change_variable = { which = mahayana_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = mahayana value = 2 } }
						owner = { change_variable = { which = mahayana_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = vajrayana value = 12 } }
						owner = { change_variable = { which = vajrayana_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = vajrayana value = 6 } }
						owner = { change_variable = { which = vajrayana_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = vajrayana value = 2 } }
						owner = { change_variable = { which = vajrayana_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = vajrayana value = 12 } }
						owner = { change_variable = { which = vajrayana_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = vajrayana value = 6 } }
						owner = { change_variable = { which = vajrayana_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = vajrayana value = 2 } }
						owner = { change_variable = { which = vajrayana_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = vajrayana value = 12 } }
						owner = { change_variable = { which = vajrayana_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = vajrayana value = 6 } }
						owner = { change_variable = { which = vajrayana_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = vajrayana value = 2 } }
						owner = { change_variable = { which = vajrayana_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = buddhism value = 12 } }
						owner = { change_variable = { which = buddhism_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = buddhism value = 6 } }
						owner = { change_variable = { which = buddhism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = buddhism value = 2 } }
						owner = { change_variable = { which = buddhism_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = buddhism value = 12 } }
						owner = { change_variable = { which = buddhism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = buddhism value = 6 } }
						owner = { change_variable = { which = buddhism_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = buddhism value = 2 } }
						owner = { change_variable = { which = buddhism_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = buddhism value = 12 } }
						owner = { change_variable = { which = buddhism_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = buddhism value = 6 } }
						owner = { change_variable = { which = buddhism_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = buddhism value = 2 } }
						owner = { change_variable = { which = buddhism_power value = 1 } }
					}
				}
			}
			#sets appropriate religion as emperor's choice
			if = {
				limit = {
					check_variable = { which = confucianism_power which = mahayana_power }
					check_variable = { which = confucianism_power which = vajrayana_power }
					check_variable = { which = confucianism_power which = buddhism_power }
				}
				set_country_flag = was_confucianism
			}
			else_if = {
				limit = {
					check_variable = { which = mahayana_power which = vajrayana_power }
					check_variable = { which = mahayana_power which = buddhism_power }
				}
				set_country_flag = was_mahayana
			}
			else_if = {
				limit = {
					check_variable = { which = vajrayana_power which = buddhism_power }
				}
				set_country_flag = was_vajrayana
			}
			else = {
				set_country_flag = was_buddhism
			}
			#cleanup
			set_variable = { which = confucianism_power value = 0 }
			set_variable = { which = mahayana_power value = 0 }
			set_variable = { which = vajrayana_power value = 0 }
			set_variable = { which = buddhism_power value = 0 }
		}
	}
	
	option = {
		name = dg_confucian.051.a #$THEOLOGIAN$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = theologian }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.b #$INQUISITOR$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = inquisitor }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.c #Arrange for [Root.Monarch.GetHerHim] to suffer an 'accident'
		trigger = {
			OR = {
				advisor = spymaster
				has_idea_group = spy_ideas
				NOT = { ADM = 2 }
				NOT = { DIP = 2 }
				NOT = { MIL = 2 }
			}
		}
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_1 = yes
		kill_ruler = yes
	}
	option = {
		name = dg_confucian.051.e #Lead a coup d'etat against [Root.Monarch.GetHerHim]
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_3 = yes
		kill_ruler = yes
		capital_scope = {
			spawn_rebels = {
				type = pretender_rebels
				culture = ROOT
				religion = ROOT
				size = 2
			}
		}
	}
	option = {
		name = dg_confucian.051.f #What the $MONARCHTITLE$ does in private is $RULER_ADJ$ business
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		#Allows heirs to convert state religion by event
		hidden_effect = { set_variable = { which = sympathy_to_old_religion value = 60 } }
		#Lowers legitimacy
		if = {
			limit = { piety = 0.60 }
			add_legitimacy = -16
		}
		else_if = {
			limit = { piety = 0.20 }
			add_legitimacy = -12
		}
		else_if = {
			limit = { piety = -0.20 }
			add_legitimacy = -8
		}
		else_if = {
			limit = { piety = -0.60 }
			add_legitimacy = -4
		}
		#Converts 10% of capital, tells player which religion is being chosen, adds better relations with countries
		if = {
			limit = { has_country_flag = was_confucianism }
			set_ruler_religion = confucianism
			capital_scope = {
				hidden_effect = {
					change_variable = { which = confucianism value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = confucianism_10
			}
			every_known_country = {
				limit = {
					religion = confucianism
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_mahayana }
			set_ruler_religion = mahayana
			capital_scope = {
				hidden_effect = {
					change_variable = { which = mahayana value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = mahayana_10
			}
			every_known_country = {
				limit = {
					religion = mahayana
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_vajrayana }
			set_ruler_religion = vajrayana
			capital_scope = {
				hidden_effect = {
					change_variable = { which = vajrayana value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = vajrayana_10
			}
			every_known_country = {
				limit = {
					religion = vajrayana
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_buddhism }
			set_ruler_religion = buddhism
			capital_scope = {
				hidden_effect = {
					change_variable = { which = buddhism value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = buddhism_10
			}
			every_known_country = {
				limit = {
					religion = buddhism
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
	}
}

country_event = { #52 - The Emperor converts to Islam
	
	id = dg_confucian.052
	title = dg_confucian.052.t
	desc = dg_confucian.052.d
	picture = orthodox_hermit_meeting
	
	trigger = {
		has_country_flag = muslims_permitted
		OR = {
			ruler_religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { check_variable = { which = sympathy_to_old_religion value = 1 } }
		any_owned_province = {
			OR = {
				has_owner_culture = yes
				is_capital = yes
			}
			OR = {
				check_variable = { which = sunni value = 4 }
				check_variable = { which = shiite value = 4 }
				check_variable = { which = druze value = 4 }
				check_variable = { which = ibadi value = 4 }
				check_variable = { which = wahhabi value = 4 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		years = 1666
		
		modifier = {
			NOT = { months_of_ruling = 25 }
			factor = 0.5
		}
		modifier = {
			NOT = { religious_unity = 1.00 }
			factor = 0.7
		}
		modifier = {
			has_country_flag = muslims_tolerated
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				religion_group = muslim
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = muslim
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			any_owned_province = {
				religion_group = muslim
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = muslim
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			overlord = { religion_group = muslim }
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = { religion_group = muslim }
			factor = 0.7
		}
		modifier = {
			any_ally = { religion_group = muslim }
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				religion_group = muslim
				army_size = ROOT
			}
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			#makes it possible for the next ruler to try and convert the state religion
			set_variable = { which = sympathy_to_old_religion value = 60 }
			#clears any old religion
			clr_country_flag = was_catholic
			clr_country_flag = was_orthodox
			clr_country_flag = was_gnostic
			clr_country_flag = was_hussite
			clr_country_flag = was_protestant
			clr_country_flag = was_reformed
			clr_country_flag = was_coptic
			clr_country_flag = was_chaldean
			clr_country_flag = was_sunni
			clr_country_flag = was_shiite
			clr_country_flag = was_druze
			clr_country_flag = was_ibadi
			clr_country_flag = was_wahhabi
			clr_country_flag = was_confucianism
			clr_country_flag = was_mahayana
			clr_country_flag = was_buddhism
			clr_country_flag = was_vajrayana
			clr_country_flag = was_hinduism
			clr_country_flag = was_jain
			clr_country_flag = was_zoroastrian
			clr_country_flag = was_sikhism
			clr_country_flag = was_jewish
			clr_country_flag = was_totemism
			clr_country_flag = was_animism
			clr_country_flag = was_west_african_pagan_reformed
			clr_country_flag = was_tengri_pagan_reformed
			clr_country_flag = was_shamanism
			clr_country_flag = was_shinto
			clr_country_flag = was_nahuatl
			clr_country_flag = was_inti
			clr_country_flag = was_baltic_pagan_reformed
			clr_country_flag = was_pantheism
			clr_country_flag = was_finnish_pagan_reformed
			clr_country_flag = was_norse_pagan_reformed
			clr_country_flag = was_slavic_pagan_reformed
			clr_country_flag = was_hellenic_pagan
			clr_country_flag = was_adi_dharam
			clr_country_flag = was_polynesian_religion
			#discovers which religion is strongest
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = sunni value = 12 } }
						owner = { change_variable = { which = sunni_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = sunni value = 6 } }
						owner = { change_variable = { which = sunni_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = sunni value = 2 } }
						owner = { change_variable = { which = sunni_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = sunni value = 12 } }
						owner = { change_variable = { which = sunni_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = sunni value = 6 } }
						owner = { change_variable = { which = sunni_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = sunni value = 2 } }
						owner = { change_variable = { which = sunni_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = sunni value = 12 } }
						owner = { change_variable = { which = sunni_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = sunni value = 6 } }
						owner = { change_variable = { which = sunni_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = sunni value = 2 } }
						owner = { change_variable = { which = sunni_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = shiite value = 12 } }
						owner = { change_variable = { which = shiite_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = shiite value = 6 } }
						owner = { change_variable = { which = shiite_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = shiite value = 2 } }
						owner = { change_variable = { which = shiite_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = shiite value = 12 } }
						owner = { change_variable = { which = shiite_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = shiite value = 6 } }
						owner = { change_variable = { which = shiite_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = shiite value = 2 } }
						owner = { change_variable = { which = shiite_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = shiite value = 12 } }
						owner = { change_variable = { which = shiite_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = shiite value = 6 } }
						owner = { change_variable = { which = shiite_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = shiite value = 2 } }
						owner = { change_variable = { which = shiite_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = druze value = 12 } }
						owner = { change_variable = { which = druze_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = druze value = 6 } }
						owner = { change_variable = { which = druze_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = druze value = 2 } }
						owner = { change_variable = { which = druze_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = druze value = 12 } }
						owner = { change_variable = { which = druze_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = druze value = 6 } }
						owner = { change_variable = { which = druze_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = druze value = 2 } }
						owner = { change_variable = { which = druze_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = druze value = 12 } }
						owner = { change_variable = { which = druze_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = druze value = 6 } }
						owner = { change_variable = { which = druze_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = druze value = 2 } }
						owner = { change_variable = { which = druze_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = ibadi value = 12 } }
						owner = { change_variable = { which = ibadi_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = ibadi value = 6 } }
						owner = { change_variable = { which = ibadi_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = ibadi value = 2 } }
						owner = { change_variable = { which = ibadi_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = ibadi value = 12 } }
						owner = { change_variable = { which = ibadi_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = ibadi value = 6 } }
						owner = { change_variable = { which = ibadi_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = ibadi value = 2 } }
						owner = { change_variable = { which = ibadi_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = ibadi value = 12 } }
						owner = { change_variable = { which = ibadi_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = ibadi value = 6 } }
						owner = { change_variable = { which = ibadi_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = ibadi value = 2 } }
						owner = { change_variable = { which = ibadi_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = wahhabi value = 12 } }
						owner = { change_variable = { which = wahhabi_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = wahhabi value = 6 } }
						owner = { change_variable = { which = wahhabi_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = wahhabi value = 2 } }
						owner = { change_variable = { which = wahhabi_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = wahhabi value = 12 } }
						owner = { change_variable = { which = wahhabi_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = wahhabi value = 6 } }
						owner = { change_variable = { which = wahhabi_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = wahhabi value = 2 } }
						owner = { change_variable = { which = wahhabi_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = wahhabi value = 12 } }
						owner = { change_variable = { which = wahhabi_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = wahhabi value = 6 } }
						owner = { change_variable = { which = wahhabi_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = wahhabi value = 2 } }
						owner = { change_variable = { which = wahhabi_power value = 1 } }
					}
				}
			}
			#sets appropriate religion as emperor's choice
			if = {
				limit = {
					check_variable = { which = druze_power which = sunni_power }
					check_variable = { which = druze_power which = shiite_power }
					check_variable = { which = druze_power which = ibadi_power }
					check_variable = { which = druze_power which = wahhabi_power }
				}
				set_country_flag = was_druze
			}
			else_if = {
				limit = {
					check_variable = { which = sunni_power which = shiite_power }
					check_variable = { which = sunni_power which = ibadi_power }
					check_variable = { which = sunni_power which = wahhabi_power }
				}
				set_country_flag = was_sunni
			}
			else_if = {
				limit = {
					check_variable = { which = shiite_power which = ibadi_power }
					check_variable = { which = shiite_power which = wahhabi_power }
				}
				set_country_flag = was_shiite
			}
			else_if = {
				limit = {
					check_variable = { which = ibadi_power which = wahhabi_power }
				}
				set_country_flag = was_ibadi
			}
			else = {
				set_country_flag = was_wahhabi
			}
			#cleanup
			set_variable = { which = sunni_power value = 0 }
			set_variable = { which = shiite_power value = 0 }
			set_variable = { which = druze_power value = 0 }
			set_variable = { which = ibadi_power value = 0 }
			set_variable = { which = wahhabi_power value = 0 }
		}
	}
	
	option = {
		name = dg_confucian.051.a #$THEOLOGIAN$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = theologian }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.b #$INQUISITOR$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = inquisitor }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.c #Arrange for [Root.Monarch.GetHerHim] to suffer an 'accident'
		trigger = {
			OR = {
				advisor = spymaster
				has_idea_group = spy_ideas
				NOT = { ADM = 2 }
				NOT = { DIP = 2 }
				NOT = { MIL = 2 }
			}
		}
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_1 = yes
		kill_ruler = yes
	}
	option = {
		name = dg_confucian.051.e #Lead a coup d'etat against [Root.Monarch.GetHerHim]
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_3 = yes
		kill_ruler = yes
		capital_scope = {
			add_province_modifier = {
				name = "pretender_organizing"
				duration = 3650
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 10 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_10
		}
	}
	option = {
		name = dg_confucian.051.f #What the $MONARCHTITLE$ does in private is $RULER_ADJ$ business
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		#Allows heirs to convert state religion by event
		hidden_effect = { set_variable = { which = sympathy_to_old_religion value = 60 } }
		#Lowers legitimacy
		if = {
			limit = { piety = 0.60 }
			add_legitimacy = -16
		}
		else_if = {
			limit = { piety = 0.20 }
			add_legitimacy = -12
		}
		else_if = {
			limit = { piety = -0.20 }
			add_legitimacy = -8
		}
		else_if = {
			limit = { piety = -0.60 }
			add_legitimacy = -4
		}
		#Converts 10% of capital, tells player which religion is being chosen, adds better relations with countries
		if = {
			limit = { has_country_flag = was_sunni }
			set_ruler_religion = sunni
			capital_scope = {
				hidden_effect = {
					change_variable = { which = sunni value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = sunni_10
			}
			every_known_country = {
				limit = {
					religion = sunni
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_shiite }
			set_ruler_religion = shiite
			capital_scope = {
				hidden_effect = {
					change_variable = { which = shiite value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = shiite_10
			}
			every_known_country = {
				limit = {
					religion = shiite
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_druze }
			set_ruler_religion = druze
			capital_scope = {
				hidden_effect = {
					change_variable = { which = druze value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = druze_10
			}
			every_known_country = {
				limit = {
					religion = druze
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_ibadi }
			set_ruler_religion = ibadi
			capital_scope = {
				hidden_effect = {
					change_variable = { which = ibadi value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = ibadi_10
			}
			every_known_country = {
				limit = {
					religion = ibadi
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_wahhabi }
			set_ruler_religion = wahhabi
			capital_scope = {
				hidden_effect = {
					change_variable = { which = wahhabi value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = wahhabi_10
			}
			every_known_country = {
				limit = {
					religion = wahhabi
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
	}
}

country_event = { #53 - The Emperor converts to Paganism
	
	id = dg_confucian.053
	title = dg_confucian.053.t
	desc = dg_confucian.053.d
	picture = orthodox_hermit_meeting
	
	trigger = {
		has_country_flag = pagans_permitted
		OR = {
			ruler_religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { check_variable = { which = sympathy_to_old_religion value = 1 } }
		any_owned_province = {
			OR = {
				has_owner_culture = yes
				is_capital = yes
			}
			OR = {
				AND = {
					NOT = { owner = { religion = animism } }
					check_variable = { which = animism value = 4 }
				}
				AND = {
					NOT = { owner = { religion = tengri_pagan_reformed } }
					check_variable = { which = tengri_pagan_reformed value = 4 }
				}
				AND = {
					NOT = { owner = { religion = shamanism } }
					check_variable = { which = shamanism value = 4 }
				}
				AND = {
					NOT = { owner = { religion = adi_dharam } }
					check_variable = { which = adi_dharam value = 4 }
				}
				AND = {
					NOT = { owner = { religion = shinto } }
					check_variable = { which = shinto value = 4 }
				}
				AND = {
					NOT = { owner = { religion = baltic_pagan_reformed } }
					check_variable = { which = baltic_pagan_reformed value = 4 }
				}
				AND = {
					NOT = { owner = { religion = slavic_pagan_reformed } }
					check_variable = { which = slavic_pagan_reformed value = 4 }
				}
				AND = {
					NOT = { owner = { religion = norse_pagan_reformed } }
					check_variable = { which = norse_pagan_reformed value = 4 }
				}
				AND = {
					NOT = { owner = { religion = finnish_pagan_reformed } }
					check_variable = { which = finnish_pagan_reformed value = 4 }
				}
				AND = {
					NOT = { owner = { religion = hellenic_pagan } }
					check_variable = { which = hellenic_pagan value = 4 }
				}
				AND = {
					NOT = { owner = { religion = polynesian_religion } }
					check_variable = { which = polynesian_religion value = 4 }
				}
				AND = {
					NOT = { owner = { religion = west_african_pagan_reformed } }
					check_variable = { which = west_african_pagan_reformed value = 4 }
				}
			}
		}
	}
	
	mean_time_to_happen = {
		
		years = 1666
		
		modifier = {
			NOT = { months_of_ruling = 25 }
			factor = 0.5
		}
		modifier = {
			NOT = { religious_unity = 1.00 }
			factor = 0.7
		}
		modifier = {
			has_country_flag = pagans_tolerated
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			any_owned_province = {
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			overlord = { OR = { religion_group = pagan religion_group = european_pagan religion_group = new_world_pagan } }
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = { OR = { religion_group = pagan religion_group = european_pagan religion_group = new_world_pagan } }
			factor = 0.7
		}
		modifier = {
			any_ally = { OR = { religion_group = pagan religion_group = european_pagan religion_group = new_world_pagan } }
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
				army_size = ROOT
			}
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			#makes it possible for the next ruler to try and convert the state religion
			set_variable = { which = sympathy_to_old_religion value = 60 }
			#clears any old religion
			clr_country_flag = was_catholic
			clr_country_flag = was_orthodox
			clr_country_flag = was_gnostic
			clr_country_flag = was_hussite
			clr_country_flag = was_protestant
			clr_country_flag = was_reformed
			clr_country_flag = was_coptic
			clr_country_flag = was_chaldean
			clr_country_flag = was_sunni
			clr_country_flag = was_shiite
			clr_country_flag = was_druze
			clr_country_flag = was_ibadi
			clr_country_flag = was_wahhabi
			clr_country_flag = was_confucianism
			clr_country_flag = was_mahayana
			clr_country_flag = was_buddhism
			clr_country_flag = was_vajrayana
			clr_country_flag = was_hinduism
			clr_country_flag = was_jain
			clr_country_flag = was_zoroastrian
			clr_country_flag = was_sikhism
			clr_country_flag = was_jewish
			clr_country_flag = was_totemism
			clr_country_flag = was_animism
			clr_country_flag = was_west_african_pagan_reformed
			clr_country_flag = was_tengri_pagan_reformed
			clr_country_flag = was_shamanism
			clr_country_flag = was_shinto
			clr_country_flag = was_nahuatl
			clr_country_flag = was_inti
			clr_country_flag = was_baltic_pagan_reformed
			clr_country_flag = was_pantheism
			clr_country_flag = was_finnish_pagan_reformed
			clr_country_flag = was_norse_pagan_reformed
			clr_country_flag = was_slavic_pagan_reformed
			clr_country_flag = was_hellenic_pagan
			clr_country_flag = was_adi_dharam
			clr_country_flag = was_polynesian_religion
			#discovers which religion is strongest
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = animism value = 12 } }
						owner = { change_variable = { which = animism_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = animism value = 6 } }
						owner = { change_variable = { which = animism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = animism value = 2 } }
						owner = { change_variable = { which = animism_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = animism value = 12 } }
						owner = { change_variable = { which = animism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = animism value = 6 } }
						owner = { change_variable = { which = animism_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = animism value = 2 } }
						owner = { change_variable = { which = animism_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = animism value = 12 } }
						owner = { change_variable = { which = animism_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = animism value = 6 } }
						owner = { change_variable = { which = animism_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = animism value = 2 } }
						owner = { change_variable = { which = animism_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 12 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 6 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 2 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 12 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 6 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = tengri_pagan_reformed value = 2 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 12 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 6 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = tengri_pagan_reformed value = 2 } }
						owner = { change_variable = { which = tengri_pagan_reformed_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = shamanism value = 12 } }
						owner = { change_variable = { which = shamanism_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = shamanism value = 6 } }
						owner = { change_variable = { which = shamanism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = shamanism value = 2 } }
						owner = { change_variable = { which = shamanism_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = shamanism value = 12 } }
						owner = { change_variable = { which = shamanism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = shamanism value = 6 } }
						owner = { change_variable = { which = shamanism_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = shamanism value = 2 } }
						owner = { change_variable = { which = shamanism_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = shamanism value = 12 } }
						owner = { change_variable = { which = shamanism_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = shamanism value = 6 } }
						owner = { change_variable = { which = shamanism_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = shamanism value = 2 } }
						owner = { change_variable = { which = shamanism_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = adi_dharam value = 12 } }
						owner = { change_variable = { which = adi_dharam_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = adi_dharam value = 6 } }
						owner = { change_variable = { which = adi_dharam_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = adi_dharam value = 2 } }
						owner = { change_variable = { which = adi_dharam_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = adi_dharam value = 12 } }
						owner = { change_variable = { which = adi_dharam_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = adi_dharam value = 6 } }
						owner = { change_variable = { which = adi_dharam_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = adi_dharam value = 2 } }
						owner = { change_variable = { which = adi_dharam_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = adi_dharam value = 12 } }
						owner = { change_variable = { which = adi_dharam_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = adi_dharam value = 6 } }
						owner = { change_variable = { which = adi_dharam_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = adi_dharam value = 2 } }
						owner = { change_variable = { which = adi_dharam_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = shinto value = 12 } }
						owner = { change_variable = { which = shinto_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = shinto value = 6 } }
						owner = { change_variable = { which = shinto_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = shinto value = 2 } }
						owner = { change_variable = { which = shinto_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = shinto value = 12 } }
						owner = { change_variable = { which = shinto_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = shinto value = 6 } }
						owner = { change_variable = { which = shinto_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = shinto value = 2 } }
						owner = { change_variable = { which = shinto_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = shinto value = 12 } }
						owner = { change_variable = { which = shinto_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = shinto value = 6 } }
						owner = { change_variable = { which = shinto_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = shinto value = 2 } }
						owner = { change_variable = { which = shinto_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 12 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 6 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 2 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 12 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 6 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = baltic_pagan_reformed value = 2 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 12 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 6 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = baltic_pagan_reformed value = 2 } }
						owner = { change_variable = { which = baltic_pagan_reformed_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 12 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 6 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 2 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 12 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 6 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = slavic_pagan_reformed value = 2 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 12 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 6 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = slavic_pagan_reformed value = 2 } }
						owner = { change_variable = { which = slavic_pagan_reformed_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 12 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 6 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 2 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 12 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 6 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = norse_pagan_reformed value = 2 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 12 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 6 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = norse_pagan_reformed value = 2 } }
						owner = { change_variable = { which = norse_pagan_reformed_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 12 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 6 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 2 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 12 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 6 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = finnish_pagan_reformed value = 2 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 12 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 6 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = finnish_pagan_reformed value = 2 } }
						owner = { change_variable = { which = finnish_pagan_reformed_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = hellenic_pagan value = 12 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = hellenic_pagan value = 6 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = hellenic_pagan value = 2 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = hellenic_pagan value = 12 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = hellenic_pagan value = 6 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = hellenic_pagan value = 2 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = hellenic_pagan value = 12 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = hellenic_pagan value = 6 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = hellenic_pagan value = 2 } }
						owner = { change_variable = { which = hellenic_pagan_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = polynesian_religion value = 12 } }
						owner = { change_variable = { which = polynesian_religion_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = polynesian_religion value = 6 } }
						owner = { change_variable = { which = polynesian_religion_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = polynesian_religion value = 2 } }
						owner = { change_variable = { which = polynesian_religion_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = polynesian_religion value = 12 } }
						owner = { change_variable = { which = polynesian_religion_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = polynesian_religion value = 6 } }
						owner = { change_variable = { which = polynesian_religion_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = polynesian_religion value = 2 } }
						owner = { change_variable = { which = polynesian_religion_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = polynesian_religion value = 12 } }
						owner = { change_variable = { which = polynesian_religion_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = polynesian_religion value = 6 } }
						owner = { change_variable = { which = polynesian_religion_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = polynesian_religion value = 2 } }
						owner = { change_variable = { which = polynesian_religion_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 12 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 6 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 2 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 12 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 6 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = west_african_pagan_reformed value = 2 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 12 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 6 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = west_african_pagan_reformed value = 2 } }
						owner = { change_variable = { which = west_african_pagan_reformed_power value = 1 } }
					}
				}
			}
			#sets appropriate religion as emperor's choice
			if = {
				limit = {
					check_variable = { which = animism_power which = adi_dharam_power }
					check_variable = { which = animism_power which = shinto_power }
					check_variable = { which = animism_power which = tengri_pagan_reformed_power }
					check_variable = { which = animism_power which = shamanism_power }
					check_variable = { which = animism_power which = baltic_pagan_reformed_power }
					check_variable = { which = animism_power which = slavic_pagan_reformed_power }
					check_variable = { which = animism_power which = norse_pagan_reformed_power }
					check_variable = { which = animism_power which = finnish_pagan_reformed_power }
					check_variable = { which = animism_power which = hellenic_pagan_power }
					check_variable = { which = animism_power which = polynesian_religion_power }
					check_variable = { which = animism_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_animism
			}
			else_if = {
				limit = {
					check_variable = { which = adi_dharam_power which = shinto_power }
					check_variable = { which = adi_dharam_power which = tengri_pagan_reformed_power }
					check_variable = { which = adi_dharam_power which = shamanism_power }
					check_variable = { which = adi_dharam_power which = baltic_pagan_reformed_power }
					check_variable = { which = adi_dharam_power which = slavic_pagan_reformed_power }
					check_variable = { which = adi_dharam_power which = norse_pagan_reformed_power }
					check_variable = { which = adi_dharam_power which = finnish_pagan_reformed_power }
					check_variable = { which = adi_dharam_power which = hellenic_pagan_power }
					check_variable = { which = adi_dharam_power which = polynesian_religion_power }
					check_variable = { which = adi_dharam_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_adi_dharam
			}
			else_if = {
				limit = {
					check_variable = { which = shinto_power which = tengri_pagan_reformed_power }
					check_variable = { which = shinto_power which = shamanism_power }
					check_variable = { which = shinto_power which = baltic_pagan_reformed_power }
					check_variable = { which = shinto_power which = slavic_pagan_reformed_power }
					check_variable = { which = shinto_power which = norse_pagan_reformed_power }
					check_variable = { which = shinto_power which = finnish_pagan_reformed_power }
					check_variable = { which = shinto_power which = hellenic_pagan_power }
					check_variable = { which = shinto_power which = polynesian_religion_power }
					check_variable = { which = shinto_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_shinto
			}
			else_if = {
				limit = {
					check_variable = { which = tengri_pagan_reformed_power which = shamanism_power }
					check_variable = { which = tengri_pagan_reformed_power which = baltic_pagan_reformed_power }
					check_variable = { which = tengri_pagan_reformed_power which = slavic_pagan_reformed_power }
					check_variable = { which = tengri_pagan_reformed_power which = norse_pagan_reformed_power }
					check_variable = { which = tengri_pagan_reformed_power which = finnish_pagan_reformed_power }
					check_variable = { which = tengri_pagan_reformed_power which = hellenic_pagan_power }
					check_variable = { which = tengri_pagan_reformed_power which = polynesian_religion_power }
					check_variable = { which = tengri_pagan_reformed_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_tengri_pagan_reformed
			}
			else_if = {
				limit = {
					check_variable = { which = shamanism_power which = baltic_pagan_reformed_power }
					check_variable = { which = shamanism_power which = slavic_pagan_reformed_power }
					check_variable = { which = shamanism_power which = norse_pagan_reformed_power }
					check_variable = { which = shamanism_power which = finnish_pagan_reformed_power }
					check_variable = { which = shamanism_power which = hellenic_pagan_power }
					check_variable = { which = shamanism_power which = polynesian_religion_power }
					check_variable = { which = shamanism_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_shamanism
			}
			else_if = {
				limit = {
					check_variable = { which = baltic_pagan_reformed_power which = slavic_pagan_reformed_power }
					check_variable = { which = baltic_pagan_reformed_power which = norse_pagan_reformed_power }
					check_variable = { which = baltic_pagan_reformed_power which = finnish_pagan_reformed_power }
					check_variable = { which = baltic_pagan_reformed_power which = hellenic_pagan_power }
					check_variable = { which = baltic_pagan_reformed_power which = polynesian_religion_power }
					check_variable = { which = baltic_pagan_reformed_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_baltic_pagan_reformed
			}
			else_if = {
				limit = {
					check_variable = { which = slavic_pagan_reformed_power which = norse_pagan_reformed_power }
					check_variable = { which = slavic_pagan_reformed_power which = finnish_pagan_reformed_power }
					check_variable = { which = slavic_pagan_reformed_power which = hellenic_pagan_power }
					check_variable = { which = slavic_pagan_reformed_power which = polynesian_religion_power }
					check_variable = { which = slavic_pagan_reformed_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_slavic_pagan_reformed
			}
			else_if = {
				limit = {
					check_variable = { which = norse_pagan_reformed_power which = finnish_pagan_reformed_power }
					check_variable = { which = norse_pagan_reformed_power which = hellenic_pagan_power }
					check_variable = { which = norse_pagan_reformed_power which = polynesian_religion_power }
					check_variable = { which = norse_pagan_reformed_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_norse_pagan_reformed
			}
			else_if = {
				limit = {
					check_variable = { which = finnish_pagan_reformed_power which = hellenic_pagan_power }
					check_variable = { which = finnish_pagan_reformed_power which = polynesian_religion_power }
					check_variable = { which = finnish_pagan_reformed_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_finnish_pagan_reformed
			}
			else_if = {
				limit = {
					check_variable = { which = hellenic_pagan_power which = polynesian_religion_power }
					check_variable = { which = hellenic_pagan_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_hellenic_pagan
			}
			else_if = {
				limit = {
					check_variable = { which = polynesian_religion_power which = west_african_pagan_reformed_power }
				}
				set_country_flag = was_polynesian_religion
			}
			else = {
				set_country_flag = was_west_african_pagan_reformed
			}
			#cleanup
			set_variable = { which = animism_power value = 0 }
			set_variable = { which = shinto_power value = 0 }
			set_variable = { which = adi_dharam_power value = 0 }
			set_variable = { which = tengri_pagan_reformed_power value = 0 }
			set_variable = { which = shamanism_power value = 0 }
			set_variable = { which = baltic_pagan_reformed_power value = 0 }
			set_variable = { which = slavic_pagan_reformed_power value = 0 }
			set_variable = { which = norse_pagan_reformed_power value = 0 }
			set_variable = { which = finnish_pagan_reformed_power value = 0 }
			set_variable = { which = hellenic_pagan_power value = 0 }
			set_variable = { which = polynesian_religion_power value = 0 }
			set_variable = { which = west_african_pagan_reformed_power value = 0 }
		}
	}
	
	option = {
		name = dg_confucian.051.a #$THEOLOGIAN$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = theologian }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.b #$INQUISITOR$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = inquisitor }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.c #Arrange for [Root.Monarch.GetHerHim] to suffer an 'accident'
		trigger = {
			OR = {
				advisor = spymaster
				has_idea_group = spy_ideas
				NOT = { ADM = 2 }
				NOT = { DIP = 2 }
				NOT = { MIL = 2 }
			}
		}
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_1 = yes
		kill_ruler = yes
	}
	option = {
		name = dg_confucian.051.e #Lead a coup d'etat against [Root.Monarch.GetHerHim]
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_3 = yes
		kill_ruler = yes
		capital_scope = {
			add_province_modifier = {
				name = "pretender_organizing"
				duration = 3650
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 10 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_10
		}
	}
	option = {
		name = dg_confucian.051.f #What the $MONARCHTITLE$ does in private is $RULER_ADJ$ business
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		#Allows heirs to convert state religion by event
		hidden_effect = { set_variable = { which = sympathy_to_old_religion value = 60 } }
		#Lowers legitimacy
		if = {
			limit = { piety = 0.60 }
			add_legitimacy = -16
		}
		else_if = {
			limit = { piety = 0.20 }
			add_legitimacy = -12
		}
		else_if = {
			limit = { piety = -0.20 }
			add_legitimacy = -8
		}
		else_if = {
			limit = { piety = -0.60 }
			add_legitimacy = -4
		}
		#Converts 10% of capital, tells player which religion is being chosen, adds better relations with countries
		if = {
			limit = { has_country_flag = was_shinto }
			set_ruler_religion = shinto
			capital_scope = {
				hidden_effect = {
					change_variable = { which = shinto value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = shinto_10
			}
			every_known_country = {
				limit = {
					religion = shinto
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_tengri_pagan_reformed }
			set_ruler_religion = tengri_pagan_reformed
			capital_scope = {
				hidden_effect = {
					change_variable = { which = tengri_pagan_reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = tengri_pagan_reformed_10
			}
			every_known_country = {
				limit = {
					religion = tengri_pagan_reformed
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_shamanism }
			set_ruler_religion = shamanism
			capital_scope = {
				hidden_effect = {
					change_variable = { which = shamanism value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = shamanism_10
			}
			every_known_country = {
				limit = {
					religion = shamanism
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_baltic_pagan_reformed }
			set_ruler_religion = baltic_pagan_reformed
			capital_scope = {
				hidden_effect = {
					change_variable = { which = baltic_pagan_reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = baltic_pagan_reformed_10
			}
			every_known_country = {
				limit = {
					religion = baltic_pagan_reformed
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_slavic_pagan_reformed }
			set_ruler_religion = slavic_pagan_reformed
			capital_scope = {
				hidden_effect = {
					change_variable = { which = slavic_pagan_reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = slavic_pagan_reformed_10
			}
			every_known_country = {
				limit = {
					religion = slavic_pagan_reformed
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_norse_pagan_reformed }
			set_ruler_religion = norse_pagan_reformed
			capital_scope = {
				hidden_effect = {
					change_variable = { which = norse_pagan_reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = norse_pagan_reformed_10
			}
			every_known_country = {
				limit = {
					religion = norse_pagan_reformed
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_finnish_pagan_reformed }
			set_ruler_religion = finnish_pagan_reformed
			capital_scope = {
				hidden_effect = {
					change_variable = { which = finnish_pagan_reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = finnish_pagan_reformed_10
			}
			every_known_country = {
				limit = {
					religion = finnish_pagan_reformed
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_hellenic_pagan }
			set_ruler_religion = hellenic_pagan
			capital_scope = {
				hidden_effect = {
					change_variable = { which = hellenic_pagan value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = hellenic_pagan_10
			}
			every_known_country = {
				limit = {
					religion = hellenic_pagan
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_polynesian_religion }
			set_ruler_religion = polynesian_religion
			capital_scope = {
				hidden_effect = {
					change_variable = { which = polynesian_religion value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = polynesian_religion_10
			}
			every_known_country = {
				limit = {
					religion = polynesian_religion
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		else_if = {
			limit = { has_country_flag = was_west_african_pagan_reformed }
			set_ruler_religion = west_african_pagan_reformed
			capital_scope = {
				hidden_effect = {
					change_variable = { which = west_african_pagan_reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = west_african_pagan_reformed_10
			}
			every_known_country = {
				limit = {
					religion = west_african_pagan_reformed
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
	}
}

country_event = { #54 - The Emperor converts to Christianity
	
	id = dg_confucian.054
	title = dg_confucian.054.t
	desc = dg_confucian.054.d
	picture = orthodox_hermit_meeting
	
	trigger = {
		has_country_flag = christians_permitted
		OR = {
			ruler_religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { check_variable = { which = sympathy_to_old_religion value = 1 } }
		any_owned_province = {
			OR = {
				has_owner_culture = yes
				is_capital = yes
			}
			OR = {
				check_variable = { which = catholic value = 4 }
				check_variable = { which = orthodox value = 4 }
				check_variable = { which = coptic value = 4 }
				check_variable = { which = chaldean value = 4 }
				check_variable = { which = gnostic value = 4 }
				check_variable = { which = protestant value = 4 }
				check_variable = { which = reformed value = 4 }
				check_variable = { which = hussite value = 4 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		years = 1666
		
		modifier = {
			NOT = { months_of_ruling = 25 }
			factor = 0.5
		}
		modifier = {
			NOT = { religious_unity = 1.00 }
			factor = 0.7
		}
		modifier = {
			has_country_flag = christians_tolerated
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				religion_group = christian
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = christian
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			any_owned_province = {
				religion_group = christian
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = christian
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			overlord = { religion_group = christian }
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = { religion_group = christian }
			factor = 0.7
		}
		modifier = {
			any_ally = { religion_group = christian }
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				religion_group = christian
				army_size = ROOT
			}
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			#makes it possible for the next ruler to try and convert the state religion
			set_variable = { which = sympathy_to_old_religion value = 60 }
			#clears any old religion
			clr_country_flag = was_catholic
			clr_country_flag = was_orthodox
			clr_country_flag = was_gnostic
			clr_country_flag = was_hussite
			clr_country_flag = was_protestant
			clr_country_flag = was_reformed
			clr_country_flag = was_coptic
			clr_country_flag = was_chaldean
			clr_country_flag = was_sunni
			clr_country_flag = was_shiite
			clr_country_flag = was_druze
			clr_country_flag = was_ibadi
			clr_country_flag = was_wahhabi
			clr_country_flag = was_confucianism
			clr_country_flag = was_mahayana
			clr_country_flag = was_buddhism
			clr_country_flag = was_vajrayana
			clr_country_flag = was_hinduism
			clr_country_flag = was_jain
			clr_country_flag = was_zoroastrian
			clr_country_flag = was_sikhism
			clr_country_flag = was_jewish
			clr_country_flag = was_totemism
			clr_country_flag = was_west_african_pagan_reformed
			clr_country_flag = was_tengri_pagan_reformed
			clr_country_flag = was_shamanism
			clr_country_flag = was_nahuatl
			clr_country_flag = was_inti
			clr_country_flag = was_baltic_pagan_reformed
			clr_country_flag = was_pantheism
			clr_country_flag = was_finnish_pagan_reformed
			clr_country_flag = was_norse_pagan_reformed
			clr_country_flag = was_slavic_pagan_reformed
			clr_country_flag = was_hellenic_pagan
			clr_country_flag = was_shinto
			clr_country_flag = was_polynesian_religion
			#discovers which religion is strongest
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = catholic value = 12 } }
						owner = { change_variable = { which = catholic_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = catholic value = 6 } }
						owner = { change_variable = { which = catholic_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = catholic value = 2 } }
						owner = { change_variable = { which = catholic_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = catholic value = 12 } }
						owner = { change_variable = { which = catholic_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = catholic value = 6 } }
						owner = { change_variable = { which = catholic_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = catholic value = 2 } }
						owner = { change_variable = { which = catholic_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = catholic value = 12 } }
						owner = { change_variable = { which = catholic_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = catholic value = 6 } }
						owner = { change_variable = { which = catholic_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = catholic value = 2 } }
						owner = { change_variable = { which = catholic_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = orthodox value = 12 } }
						owner = { change_variable = { which = orthodox_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = orthodox value = 6 } }
						owner = { change_variable = { which = orthodox_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = orthodox value = 2 } }
						owner = { change_variable = { which = orthodox_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = orthodox value = 12 } }
						owner = { change_variable = { which = orthodox_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = orthodox value = 6 } }
						owner = { change_variable = { which = orthodox_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = orthodox value = 2 } }
						owner = { change_variable = { which = orthodox_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = orthodox value = 12 } }
						owner = { change_variable = { which = orthodox_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = orthodox value = 6 } }
						owner = { change_variable = { which = orthodox_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = orthodox value = 2 } }
						owner = { change_variable = { which = orthodox_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = coptic value = 12 } }
						owner = { change_variable = { which = coptic_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = coptic value = 6 } }
						owner = { change_variable = { which = coptic_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = coptic value = 2 } }
						owner = { change_variable = { which = coptic_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = coptic value = 12 } }
						owner = { change_variable = { which = coptic_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = coptic value = 6 } }
						owner = { change_variable = { which = coptic_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = coptic value = 2 } }
						owner = { change_variable = { which = coptic_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = coptic value = 12 } }
						owner = { change_variable = { which = coptic_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = coptic value = 6 } }
						owner = { change_variable = { which = coptic_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = coptic value = 2 } }
						owner = { change_variable = { which = coptic_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = chaldean value = 12 } }
						owner = { change_variable = { which = chaldean_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = chaldean value = 6 } }
						owner = { change_variable = { which = chaldean_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = chaldean value = 2 } }
						owner = { change_variable = { which = chaldean_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = chaldean value = 12 } }
						owner = { change_variable = { which = chaldean_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = chaldean value = 6 } }
						owner = { change_variable = { which = chaldean_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = chaldean value = 2 } }
						owner = { change_variable = { which = chaldean_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = chaldean value = 12 } }
						owner = { change_variable = { which = chaldean_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = chaldean value = 6 } }
						owner = { change_variable = { which = chaldean_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = chaldean value = 2 } }
						owner = { change_variable = { which = chaldean_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = gnostic value = 12 } }
						owner = { change_variable = { which = gnostic_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = gnostic value = 6 } }
						owner = { change_variable = { which = gnostic_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = gnostic value = 2 } }
						owner = { change_variable = { which = gnostic_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = gnostic value = 12 } }
						owner = { change_variable = { which = gnostic_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = gnostic value = 6 } }
						owner = { change_variable = { which = gnostic_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = gnostic value = 2 } }
						owner = { change_variable = { which = gnostic_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = gnostic value = 12 } }
						owner = { change_variable = { which = gnostic_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = gnostic value = 6 } }
						owner = { change_variable = { which = gnostic_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = gnostic value = 2 } }
						owner = { change_variable = { which = gnostic_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = protestant value = 12 } }
						owner = { change_variable = { which = protestant_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = protestant value = 6 } }
						owner = { change_variable = { which = protestant_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = protestant value = 2 } }
						owner = { change_variable = { which = protestant_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = protestant value = 12 } }
						owner = { change_variable = { which = protestant_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = protestant value = 6 } }
						owner = { change_variable = { which = protestant_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = protestant value = 2 } }
						owner = { change_variable = { which = protestant_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = protestant value = 12 } }
						owner = { change_variable = { which = protestant_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = protestant value = 6 } }
						owner = { change_variable = { which = protestant_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = protestant value = 2 } }
						owner = { change_variable = { which = protestant_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = reformed value = 12 } }
						owner = { change_variable = { which = reformed_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = reformed value = 6 } }
						owner = { change_variable = { which = reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = reformed value = 2 } }
						owner = { change_variable = { which = reformed_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = reformed value = 12 } }
						owner = { change_variable = { which = reformed_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = reformed value = 6 } }
						owner = { change_variable = { which = reformed_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = reformed value = 2 } }
						owner = { change_variable = { which = reformed_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = reformed value = 12 } }
						owner = { change_variable = { which = reformed_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = reformed value = 6 } }
						owner = { change_variable = { which = reformed_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = reformed value = 2 } }
						owner = { change_variable = { which = reformed_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = hussite value = 12 } }
						owner = { change_variable = { which = hussite_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = hussite value = 6 } }
						owner = { change_variable = { which = hussite_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = hussite value = 2 } }
						owner = { change_variable = { which = hussite_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = hussite value = 12 } }
						owner = { change_variable = { which = hussite_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = hussite value = 6 } }
						owner = { change_variable = { which = hussite_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = hussite value = 2 } }
						owner = { change_variable = { which = hussite_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = hussite value = 12 } }
						owner = { change_variable = { which = hussite_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = hussite value = 6 } }
						owner = { change_variable = { which = hussite_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = hussite value = 2 } }
						owner = { change_variable = { which = hussite_power value = 1 } }
					}
				}
			}
			#sets appropriate religion as emperor's choice
			if = {
				limit = {
					check_variable = { which = catholic_power which = orthodox_power }
					check_variable = { which = catholic_power which = coptic_power }
					check_variable = { which = catholic_power which = chaldean_power }
					check_variable = { which = catholic_power which = gnostic_power }
					check_variable = { which = catholic_power which = protestant_power }
					check_variable = { which = catholic_power which = reformed_power }
					check_variable = { which = catholic_power which = hussite_power }
				}
				set_country_flag = was_catholic
			}
			else_if = {
				limit = {
					check_variable = { which = orthodox_power which = coptic_power }
					check_variable = { which = orthodox_power which = chaldean_power }
					check_variable = { which = orthodox_power which = gnostic_power }
					check_variable = { which = orthodox_power which = protestant_power }
					check_variable = { which = orthodox_power which = reformed_power }
					check_variable = { which = orthodox_power which = hussite_power }
				}
				set_country_flag = was_orthodox
			}
			else_if = {
				limit = {
					check_variable = { which = chaldean_power which = gnostic_power }
					check_variable = { which = chaldean_power which = protestant_power }
					check_variable = { which = chaldean_power which = reformed_power }
					check_variable = { which = chaldean_power which = hussite_power }
				}
				set_country_flag = was_chaldean
			}
			else_if = {
				limit = {
					check_variable = { which = coptic_power which = gnostic_power }
					check_variable = { which = coptic_power which = protestant_power }
					check_variable = { which = coptic_power which = reformed_power }
					check_variable = { which = coptic_power which = hussite_power }
				}
				set_country_flag = was_coptic
			}
			else_if = {
				limit = {
					check_variable = { which = gnostic_power which = protestant_power }
					check_variable = { which = gnostic_power which = reformed_power }
					check_variable = { which = gnostic_power which = hussite_power }
				}
				set_country_flag = was_gnostic
			}
			else_if = {
				limit = {
					check_variable = { which = protestant_power which = reformed_power }
					check_variable = { which = protestant_power which = hussite_power }
				}
				set_country_flag = was_protestant
			}
			else_if = {
				limit = {
					check_variable = { which = reformed_power which = hussite_power }
				}
				set_country_flag = was_reformed
			}
			else = {
				set_country_flag = was_hussite
			}
			#cleanup
			set_variable = { which = catholic_power value = 0 }
			set_variable = { which = orthodox_power value = 0 }
			set_variable = { which = coptic_power value = 0 }
			set_variable = { which = chaldean_power value = 0 }
			set_variable = { which = gnostic_power value = 0 }
			set_variable = { which = protestant_power value = 0 }
			set_variable = { which = reformed_power value = 0 }
			set_variable = { which = hussite_power value = 0 }
		}
	}
	
	option = {
		name = dg_confucian.051.a #$THEOLOGIAN$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = theologian }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.b #$INQUISITOR$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = inquisitor }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.c #Arrange for [Root.Monarch.GetHerHim] to suffer an 'accident'
		trigger = {
			OR = {
				advisor = spymaster
				has_idea_group = spy_ideas
				NOT = { ADM = 2 }
				NOT = { DIP = 2 }
				NOT = { MIL = 2 }
			}
		}
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_1 = yes
		kill_ruler = yes
	}
	option = {
		name = dg_confucian.051.e #Lead a coup d'etat against [Root.Monarch.GetHerHim]
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_3 = yes
		kill_ruler = yes
		capital_scope = {
			add_province_modifier = {
				name = "pretender_organizing"
				duration = 3650
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 10 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_10
		}
	}
	option = {
		name = dg_confucian.051.f #What the $MONARCHTITLE$ does in private is $RULER_ADJ$ business
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		#Allows heirs to convert state religion by event
		hidden_effect = { set_variable = { which = sympathy_to_old_religion value = 60 } }
		#Lowers legitimacy
		if = {
			limit = { piety = 0.60 }
			add_legitimacy = -16
		}
		else_if = {
			limit = { piety = 0.20 }
			add_legitimacy = -12
		}
		else_if = {
			limit = { piety = -0.20 }
			add_legitimacy = -8
		}
		else_if = {
			limit = { piety = -0.60 }
			add_legitimacy = -4
		}
		#Converts 10% of capital, tells player which religion is being chosen, adds better relations with countries
		if = {
			limit = { has_country_flag = was_catholic }
			set_ruler_religion = catholic
			capital_scope = {
				hidden_effect = {
					change_variable = { which = catholic value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = catholic_10
			}
			every_known_country = {
				limit = {
					religion = catholic
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_orthodox }
			set_ruler_religion = orthodox
			capital_scope = {
				hidden_effect = {
					change_variable = { which = orthodox value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = orthodox_10
			}
			every_known_country = {
				limit = {
					religion = orthodox
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_coptic }
			set_ruler_religion = coptic
			capital_scope = {
				hidden_effect = {
					change_variable = { which = coptic value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = coptic_10
			}
			every_known_country = {
				limit = {
					religion = coptic
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_chaldean }
			set_ruler_religion = chaldean
			capital_scope = {
				hidden_effect = {
					change_variable = { which = chaldean value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = chaldean_10
			}
			every_known_country = {
				limit = {
					religion = chaldean
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_gnostic }
			set_ruler_religion = gnostic
			capital_scope = {
				hidden_effect = {
					change_variable = { which = gnostic value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = gnostic_10
			}
			every_known_country = {
				limit = {
					religion = gnostic
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_protestant }
			set_ruler_religion = protestant
			capital_scope = {
				hidden_effect = {
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = protestant_10
			}
			every_known_country = {
				limit = {
					religion = protestant
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_reformed }
			set_ruler_religion = reformed
			capital_scope = {
				hidden_effect = {
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = reformed_10
			}
			every_known_country = {
				limit = {
					religion = reformed
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_hussite }
			set_ruler_religion = hussite
			capital_scope = {
				hidden_effect = {
					change_variable = { which = hussite value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = hussite_10
			}
			every_known_country = {
				limit = {
					religion = hussite
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
	}
}

country_event = { #55 - The Emperor converts to Judaism
	
	id = dg_confucian.055
	title = dg_confucian.055.t
	desc = dg_confucian.055.d
	picture = orthodox_hermit_meeting
	
	trigger = {
		has_country_flag = jews_permitted
		OR = {
			ruler_religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { check_variable = { which = sympathy_to_old_religion value = 1 } }
		any_owned_province = {
			OR = {
				has_owner_culture = yes
				is_capital = yes
			}
			check_variable = { which = jewish value = 4 }
		}
	}
	
	mean_time_to_happen = {
		
		years = 1666
		
		modifier = {
			NOT = { months_of_ruling = 25 }
			factor = 0.5
		}
		modifier = {
			NOT = { religious_unity = 1.00 }
			factor = 0.7
		}
		modifier = {
			has_country_flag = jews_tolerated
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				religion_group = jewish_group
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = jewish_group
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			any_owned_province = {
				religion_group = jewish_group
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = jewish_group
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			overlord = { religion_group = jewish_group }
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = { religion_group = jewish_group }
			factor = 0.7
		}
		modifier = {
			any_ally = { religion_group = jewish_group }
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				religion_group = jewish_group
				army_size = ROOT
			}
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			#makes it possible for the next ruler to try and convert the state religion
			set_variable = { which = sympathy_to_old_religion value = 60 }
			#clears any old religion
			clr_country_flag = was_catholic
			clr_country_flag = was_orthodox
			clr_country_flag = was_gnostic
			clr_country_flag = was_hussite
			clr_country_flag = was_protestant
			clr_country_flag = was_reformed
			clr_country_flag = was_coptic
			clr_country_flag = was_chaldean
			clr_country_flag = was_sunni
			clr_country_flag = was_shiite
			clr_country_flag = was_druze
			clr_country_flag = was_ibadi
			clr_country_flag = was_wahhabi
			clr_country_flag = was_confucianism
			clr_country_flag = was_mahayana
			clr_country_flag = was_buddhism
			clr_country_flag = was_vajrayana
			clr_country_flag = was_hinduism
			clr_country_flag = was_jain
			clr_country_flag = was_zoroastrian
			clr_country_flag = was_sikhism
			clr_country_flag = was_jewish
			clr_country_flag = was_totemism
			clr_country_flag = was_west_african_pagan_reformed
			clr_country_flag = was_tengri_pagan_reformed
			clr_country_flag = was_shamanism
			clr_country_flag = was_nahuatl
			clr_country_flag = was_inti
			clr_country_flag = was_baltic_pagan_reformed
			clr_country_flag = was_pantheism
			clr_country_flag = was_finnish_pagan_reformed
			clr_country_flag = was_norse_pagan_reformed
			clr_country_flag = was_slavic_pagan_reformed
			clr_country_flag = was_hellenic_pagan
			clr_country_flag = was_shinto
			clr_country_flag = was_polynesian_religion
			#sets appropriate religion as emperor's choice
			set_country_flag = was_jewish
		}
	}
	
	option = {
		name = dg_confucian.051.a #$THEOLOGIAN$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = theologian }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.b #$INQUISITOR$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = inquisitor }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.c #Arrange for [Root.Monarch.GetHerHim] to suffer an 'accident'
		trigger = {
			OR = {
				advisor = spymaster
				has_idea_group = spy_ideas
				NOT = { ADM = 2 }
				NOT = { DIP = 2 }
				NOT = { MIL = 2 }
			}
		}
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_1 = yes
		kill_ruler = yes
	}
	option = {
		name = dg_confucian.051.e #Lead a coup d'etat against [Root.Monarch.GetHerHim]
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_3 = yes
		kill_ruler = yes
		capital_scope = {
			add_province_modifier = {
				name = "pretender_organizing"
				duration = 3650
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 10 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_10
		}
	}
	option = {
		name = dg_confucian.051.f #What the $MONARCHTITLE$ does in private is $RULER_ADJ$ business
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		#Allows heirs to convert state religion by event
		hidden_effect = { set_variable = { which = sympathy_to_old_religion value = 60 } }
		#Lowers legitimacy
		if = {
			limit = { piety = 0.60 }
			add_legitimacy = -16
		}
		else_if = {
			limit = { piety = 0.20 }
			add_legitimacy = -12
		}
		else_if = {
			limit = { piety = -0.20 }
			add_legitimacy = -8
		}
		else_if = {
			limit = { piety = -0.60 }
			add_legitimacy = -4
		}
		#Converts 10% of capital, tells player which religion is being chosen, adds better relations with countries
		if = {
			limit = { has_country_flag = was_jewish }
			set_ruler_religion = jewish
			capital_scope = {
				hidden_effect = {
					change_variable = { which = jewish value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = jewish_10
			}
			every_known_country = {
				limit = {
					religion = jewish
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
	}
}

country_event = { #56 - The Emperor converts to Dharma
	
	id = dg_confucian.056
	title = dg_confucian.056.t
	desc = dg_confucian.056.d
	picture = orthodox_hermit_meeting
	
	trigger = {
		has_country_flag = dharmics_permitted
		OR = {
			ruler_religion = confucianism
			AND = {
				NOT = { has_dlc = "The Cossacks" }
				OR = {
					religion_group = pagan
					religion_group = european_pagan
					religion_group = new_world_pagan
				}
			}
		}
		OR = { has_regency = no has_consort_regency = yes }
		NOT = { check_variable = { which = sympathy_to_old_religion value = 1 } }
		any_owned_province = {
			OR = {
				has_owner_culture = yes
				is_capital = yes
			}
			OR = {
				check_variable = { which = hinduism value = 4 }
				check_variable = { which = zoroastrian value = 4 }
				check_variable = { which = jain value = 4 }
				check_variable = { which = sikhism value = 4 }
			}
		}
	}
	
	mean_time_to_happen = {
		
		years = 1666
		
		modifier = {
			NOT = { months_of_ruling = 25 }
			factor = 0.5
		}
		modifier = {
			NOT = { religious_unity = 1.00 }
			factor = 0.7
		}
		modifier = {
			has_country_flag = dharmics_tolerated
			factor = 0.5
		}
		modifier = {
			any_owned_province = {
				religion_group = dharmic
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = dharmic
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			any_owned_province = {
				religion_group = dharmic
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			capital_scope = {
				religion_group = dharmic
				has_owner_culture = yes
				has_owner_religion = no
			}
			factor = 0.7
		}
		modifier = {
			overlord = { religion_group = dharmic }
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = { religion_group = dharmic }
			factor = 0.7
		}
		modifier = {
			any_ally = { religion_group = dharmic }
			factor = 0.7
		}
		modifier = {
			any_neighbor_country = {
				religion_group = dharmic
				army_size = ROOT
			}
			factor = 0.7
		}
		modifier = {
			has_country_flag = patriarch_controversial
			factor = 0.7
		}
	}
	
	immediate = {
		hidden_effect = {
			#makes it possible for the next ruler to try and convert the state religion
			set_variable = { which = sympathy_to_old_religion value = 60 }
			#clears any old religion
			clr_country_flag = was_catholic
			clr_country_flag = was_orthodox
			clr_country_flag = was_gnostic
			clr_country_flag = was_hussite
			clr_country_flag = was_protestant
			clr_country_flag = was_reformed
			clr_country_flag = was_coptic
			clr_country_flag = was_chaldean
			clr_country_flag = was_sunni
			clr_country_flag = was_shiite
			clr_country_flag = was_druze
			clr_country_flag = was_ibadi
			clr_country_flag = was_wahhabi
			clr_country_flag = was_confucianism
			clr_country_flag = was_mahayana
			clr_country_flag = was_buddhism
			clr_country_flag = was_vajrayana
			clr_country_flag = was_hinduism
			clr_country_flag = was_jain
			clr_country_flag = was_zoroastrian
			clr_country_flag = was_sikhism
			clr_country_flag = was_jewish
			clr_country_flag = was_totemism
			clr_country_flag = was_west_african_pagan_reformed
			clr_country_flag = was_tengri_pagan_reformed
			clr_country_flag = was_shamanism
			clr_country_flag = was_nahuatl
			clr_country_flag = was_inti
			clr_country_flag = was_baltic_pagan_reformed
			clr_country_flag = was_pantheism
			clr_country_flag = was_finnish_pagan_reformed
			clr_country_flag = was_norse_pagan_reformed
			clr_country_flag = was_slavic_pagan_reformed
			clr_country_flag = was_hellenic_pagan
			clr_country_flag = was_shinto
			clr_country_flag = was_polynesian_religion
			#discovers which religion is strongest
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = hinduism value = 12 } }
						owner = { change_variable = { which = hinduism_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = hinduism value = 6 } }
						owner = { change_variable = { which = hinduism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = hinduism value = 2 } }
						owner = { change_variable = { which = hinduism_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = hinduism value = 12 } }
						owner = { change_variable = { which = hinduism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = hinduism value = 6 } }
						owner = { change_variable = { which = hinduism_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = hinduism value = 2 } }
						owner = { change_variable = { which = hinduism_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = hinduism value = 12 } }
						owner = { change_variable = { which = hinduism_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = hinduism value = 6 } }
						owner = { change_variable = { which = hinduism_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = hinduism value = 2 } }
						owner = { change_variable = { which = hinduism_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = zoroastrian value = 12 } }
						owner = { change_variable = { which = zoroastrian_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = zoroastrian value = 6 } }
						owner = { change_variable = { which = zoroastrian_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = zoroastrian value = 2 } }
						owner = { change_variable = { which = zoroastrian_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = zoroastrian value = 12 } }
						owner = { change_variable = { which = zoroastrian_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = zoroastrian value = 6 } }
						owner = { change_variable = { which = zoroastrian_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = zoroastrian value = 2 } }
						owner = { change_variable = { which = zoroastrian_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = zoroastrian value = 12 } }
						owner = { change_variable = { which = zoroastrian_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = zoroastrian value = 6 } }
						owner = { change_variable = { which = zoroastrian_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = zoroastrian value = 2 } }
						owner = { change_variable = { which = zoroastrian_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = jain value = 12 } }
						owner = { change_variable = { which = jain_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = jain value = 6 } }
						owner = { change_variable = { which = jain_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = jain value = 2 } }
						owner = { change_variable = { which = jain_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = jain value = 12 } }
						owner = { change_variable = { which = jain_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = jain value = 6 } }
						owner = { change_variable = { which = jain_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = jain value = 2 } }
						owner = { change_variable = { which = jain_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = jain value = 12 } }
						owner = { change_variable = { which = jain_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = jain value = 6 } }
						owner = { change_variable = { which = jain_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = jain value = 2 } }
						owner = { change_variable = { which = jain_power value = 1 } }
					}
				}
			}
			every_owned_province = {
				if = {
					limit = { is_capital = yes }
					if = {
						limit = { check_variable = { which = sikhism value = 12 } }
						owner = { change_variable = { which = sikhism_power value = 9 } }
					}
					else_if = {
						limit = { check_variable = { which = sikhism value = 6 } }
						owner = { change_variable = { which = sikhism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = sikhism value = 2 } }
						owner = { change_variable = { which = sikhism_power value = 3 } }
					}
				}
				else_if = {
					limit = { has_owner_culture = yes }
					if = {
						limit = { check_variable = { which = sikhism value = 12 } }
						owner = { change_variable = { which = sikhism_power value = 6 } }
					}
					else_if = {
						limit = { check_variable = { which = sikhism value = 6 } }
						owner = { change_variable = { which = sikhism_power value = 4 } }
					}
					else_if = {
						limit = {  check_variable = { which = sikhism value = 2 } }
						owner = { change_variable = { which = sikhism_power value = 2 } }
					}
				}
				else = {
					if = {
						limit = { check_variable = { which = sikhism value = 12 } }
						owner = { change_variable = { which = sikhism_power value = 3 } }
					}
					else_if = {
						limit = { check_variable = { which = sikhism value = 6 } }
						owner = { change_variable = { which = sikhism_power value = 2 } }
					}
					else_if = {
						limit = { check_variable = { which = sikhism value = 2 } }
						owner = { change_variable = { which = sikhism_power value = 1 } }
					}
				}
			}
			#sets appropriate religion as emperor's choice
			if = {
				limit = {
					check_variable = { which = hinduism_power which = zoroastrian_power }
					check_variable = { which = hinduism_power which = jain_power }
					check_variable = { which = hinduism_power which = sikhism_power }
				}
				set_country_flag = was_hinduism
			}
			else_if = {
				limit = {
					check_variable = { which = zoroastrian_power which = jain_power }
					check_variable = { which = zoroastrian_power which = sikhism_power }
				}
				set_country_flag = was_zoroastrian
			}
			else_if = {
				limit = {
					check_variable = { which = jain_power which = sikhism_power }
				}
				set_country_flag = was_jain
			}
			else = {
				set_country_flag = was_sikhism
			}
			#cleanup
			set_variable = { which = hinduism_power value = 0 }
			set_variable = { which = zoroastrian_power value = 0 }
			set_variable = { which = jain_power value = 0 }
			set_variable = { which = sikhism_power value = 0 }
		}
	}
	
	option = {
		name = dg_confucian.051.a #$THEOLOGIAN$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = theologian }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.b #$INQUISITOR$ talks [Root.Monarch.GetHerHim] out of it
		trigger = { advisor = inquisitor }
		ai_chance = {
			factor = 25
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		if = {
			limit = { piety = 0.60 }
			add_prestige = -4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -3
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -2
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = -1
		}
	}
	option = {
		name = dg_confucian.051.c #Arrange for [Root.Monarch.GetHerHim] to suffer an 'accident'
		trigger = {
			OR = {
				advisor = spymaster
				has_idea_group = spy_ideas
				NOT = { ADM = 2 }
				NOT = { DIP = 2 }
				NOT = { MIL = 2 }
			}
		}
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_1 = yes
		kill_ruler = yes
	}
	option = {
		name = dg_confucian.051.e #Lead a coup d'etat against [Root.Monarch.GetHerHim]
		ai_chance = {
			factor = 15
			modifier = {
				piety = 0.60
				factor = 1.4
			}
			modifier = {
				piety = 0.20
				factor = 1.4
			}
		}
		subtract_stability_3 = yes
		kill_ruler = yes
		capital_scope = {
			add_province_modifier = {
				name = "pretender_organizing"
				duration = 3650
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 10 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_10
		}
	}
	option = {
		name = dg_confucian.051.f #What the $MONARCHTITLE$ does in private is $RULER_ADJ$ business
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
		}
		#Allows heirs to convert state religion by event
		hidden_effect = { set_variable = { which = sympathy_to_old_religion value = 60 } }
		#Lowers legitimacy
		if = {
			limit = { piety = 0.60 }
			add_legitimacy = -16
		}
		else_if = {
			limit = { piety = 0.20 }
			add_legitimacy = -12
		}
		else_if = {
			limit = { piety = -0.20 }
			add_legitimacy = -8
		}
		else_if = {
			limit = { piety = -0.60 }
			add_legitimacy = -4
		}
		#Converts 10% of capital, tells player which religion is being chosen, adds better relations with countries
		if = {
			limit = { has_country_flag = was_hinduism }
			set_ruler_religion = hinduism
			capital_scope = {
				hidden_effect = {
					change_variable = { which = hinduism value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = hinduism_10
			}
			every_known_country = {
				limit = {
					religion = hinduism
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_zoroastrian }
			set_ruler_religion = zoroastrian
			capital_scope = {
				hidden_effect = {
					change_variable = { which = zoroastrian value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = zoroastrian_10
			}
			every_known_country = {
				limit = {
					religion = zoroastrian
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_jain }
			set_ruler_religion = jain
			capital_scope = {
				hidden_effect = {
					change_variable = { which = jain value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = jain_10
			}
			every_known_country = {
				limit = {
					religion = jain
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
		if = {
			limit = { has_country_flag = was_sikhism }
			set_ruler_religion = sikhism
			capital_scope = {
				hidden_effect = {
					change_variable = { which = sikhism value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
				custom_tooltip = sikhism_10
			}
			every_known_country = {
				limit = {
					religion = sikhism
				}
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_observant }
				}
				else_if = {
					limit = { piety = -0.60 }
					add_opinion = { who = ROOT modifier = sympathetic_ruler_decadent }
				}
			}
		}
	}
}

#########################
# Imperial Examinations # 80s and 90s
#########################

country_event = { #81 - The Examination System (by decision)
	
	id = dg_confucian.081
	title = dg_confucian.081.t
	desc = dg_confucian.081.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes #By decision
	
	immediate = {
		if = {
			limit = {
				OR = {
					capital_scope = { has_owner_culture = no }
					NOT = { dominant_culture = capital }
				}
			}
			custom_tooltip = dg_confucian.081.d_outsider
		}
		set_country_flag = event_fired
	}
	
	option = {
		name = dg_confucian.081.same
		ai_chance = { factor = 30 }
		trigger = {
			OR = {
				has_country_modifier = examination_system_classics
				has_country_modifier = examination_system_eight_legged_essay
				has_country_modifier = examination_system_five_studies
				has_country_modifier = examination_system_six_arts
				has_country_modifier = examination_system_quotas
				has_country_modifier = examination_system_translated_exams
			}
		}
		add_adm_power = 25 #Refund
	}
	option = {
		name = dg_confucian.081.five_studies
		ai_chance = { factor = 10 }
		trigger = {
			NOT = { has_country_modifier = examination_system_five_studies }
			NOT = { has_country_modifier = examination_system_six_arts }
		}
		if = {
			limit = { has_country_flag = six_arts }
			add_country_modifier = { name = examination_system_six_arts duration = -1 }
			remove_country_modifier = examination_system_eight_legged_essay
			remove_country_modifier = examination_system_classics
			remove_country_modifier = examination_system_quotas
			remove_country_modifier = examination_system_translated_exams
			remove_country_modifier = examination_system_five_studies
		}
		else = {
			add_country_modifier = { name = examination_system_five_studies duration = -1 }
			remove_country_modifier = examination_system_eight_legged_essay
			remove_country_modifier = examination_system_classics
			remove_country_modifier = examination_system_quotas
			remove_country_modifier = examination_system_translated_exams
			remove_country_modifier = examination_system_six_arts
		}
		set_country_flag = examination_system
	}
	option = {
		name = dg_confucian.081.classics
		ai_chance = {
			factor = 30
			modifier = {
				NOT = { any_owned_province = { has_owner_culture = no } }
				factor = 0.5
			}
			modifier = {
				NOT = { religion = confucianism }
				factor = 0.5
			}
		}
		trigger = {
			NOT = { has_country_modifier = examination_system_classics }
			NOT = { has_country_modifier = examination_system_eight_legged_essay }
		}
		if = {
			limit = { has_country_flag = confucian_eight_legged_essay }
			add_country_modifier = { name = examination_system_eight_legged_essay duration = -1 }
			remove_country_modifier = examination_system_classics
			remove_country_modifier = examination_system_quotas
			remove_country_modifier = examination_system_translated_exams
			remove_country_modifier = examination_system_five_studies
			remove_country_modifier = examination_system_six_arts
		}
		else = {
			add_country_modifier = { name = examination_system_classics duration = -1 }
			remove_country_modifier = examination_system_eight_legged_essay
			remove_country_modifier = examination_system_quotas
			remove_country_modifier = examination_system_translated_exams
			remove_country_modifier = examination_system_five_studies
			remove_country_modifier = examination_system_six_arts
		}
		set_country_flag = examination_system
	}
	option = {
		name = dg_confucian.081.quotas
		trigger = {
			OR = {
				capital_scope = { has_owner_culture = no }
				NOT = { dominant_culture = capital }
			}
			NOT = { has_country_modifier = examination_system_quotas }
			NOT = { has_country_modifier = examination_system_translated_exams }
		}
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = confucian_two_tier_system }
			add_country_modifier = { name = examination_system_translated_exams duration = -1 }
			remove_country_modifier = examination_system_eight_legged_essay
			remove_country_modifier = examination_system_classics
			remove_country_modifier = examination_system_quotas
			remove_country_modifier = examination_system_five_studies
			remove_country_modifier = examination_system_six_arts
		}
		else = {
			add_country_modifier = { name = examination_system_quotas duration = -1 }
			remove_country_modifier = examination_system_eight_legged_essay
			remove_country_modifier = examination_system_classics
			remove_country_modifier = examination_system_translated_exams
			remove_country_modifier = examination_system_five_studies
			remove_country_modifier = examination_system_six_arts
		}
		set_country_flag = examination_system
	}
	after = {
		clr_country_flag = event_fired
	}
}

country_event = { #82 - Examination Maintenance Event (hidden)
	
	id = dg_confucian.082
	title = ai_only.t
	desc = ai_only.d
	picture = ai_only
	
	hidden = yes
	
	is_triggered_only = yes #By dg_conversion.001
	
	option = {
		name = ai_only.a
		random_list = {
			#Reforming the exams
			15 = {
				if = {
					limit = {
						has_country_modifier = examination_system_classics
						NOT = { has_country_flag = confucian_eight_legged_essay_rejected }
					}
					country_event = { id = dg_confucian.083 random = 180 } #The Eight-Legged Essay
				}
				else_if = {
					limit = {
						has_country_modifier = examination_system_quotas
						NOT = { has_country_flag = confucian_translated_exams_rejected }
					}
					country_event = { id = dg_confucian.084 random = 180 } #The Translation System
				}
				else_if = {
					limit = {
						has_country_modifier = examination_system_five_studies
						NOT = { has_country_flag = confucian_six_arts_rejected }
					}
					country_event = { id = dg_confucian.085 random = 180 } #Martial Exams
				}
			}
			#System-based events (the flaws of each system)
			15 = {
				if = {
					limit = {
						OR = {
							has_country_modifier = examination_system_quotas
							has_country_modifier = examination_system_translated_exams
						}
					}
					country_event = { id = dg_confucian.093 random = 180 } #Unmet quotas
				}
				else_if = {
					limit = {
						OR = {
							has_country_modifier = examination_system_classics
							has_country_modifier = examination_system_eight_legged_essay
						}
					}
					set_variable = { which = exam_complaint value = 3 } #Incompetent officials
					country_event = { id = dg_confucian.092 random = 180 } #Criticism of the Examinations
				}
				else_if = {
					limit = {
						OR = {
							has_country_modifier = examination_system_five_studies
							has_country_modifier = examination_system_six_arts
						}
					}
					country_event = { id = dg_confucian.091 random = 180 } #Exam Frustration
				}
			}
			15 = { #Modifier-based
				if = {
					limit = { has_country_modifier = examination_system_corrupt }
					random_list = {
						34 = { set_variable = { which = examination_scandal value = 0 } }
						33 = { set_variable = { which = examination_scandal value = 1 } }
						33 = { set_variable = { which = examination_scandal value = 2 } }
					}
					country_event = { id = dg_confucian.090 random = 180 } #Scandal
				}
				else_if = {
					limit = { has_country_modifier = examination_system_strict }
					country_event = { id = dg_confucian.091 random = 180 } #Exam Frustration
				}
			}
			#Positive Events (all)
			15 = {
				country_event = { id = dg_confucian.086 random = 180 } #First Rank Candidate
			}
			10 = {
				country_event = { id = dg_confucian.087 random = 180 } #Exam Literature
			}
			#Other events
			5 = {
				if = {
					limit = { has_country_modifier = examination_system_quotas }
					country_event = { id = dg_confucian.093 random = 180 } #Unmet quotas
				}
				else_if = {
					limit = { has_country_modifier = examination_system_translated_exams }
					random = { chance = 50 country_event = { id = dg_confucian.093 random = 180 } } #Unmet quotas
				}
				else_if = {
					limit = {
						NOT = { has_country_modifier = examination_system_quotas }
						NOT = { has_country_modifier = examination_system_translated_exams }
						NOT = { has_country_modifier = examination_system_strict }
						#OR = {
						#	NOT = { has_country_flag = examination_system_quotas }
						#	has_country_modifier = examination_system_corrupt
						#}
					}
					country_event = { id = dg_confucian.088 random = 180 } #Large Graduating Class
				}
			}
			5 = {
				random_list = {
					50 = { #Some cheating is inevitable
						country_event = { id = dg_confucian.089 random = 180 } #Cheating on the Exams
					}
					50 = { #Strict rules cut down on this
						if = {
							limit = { NOT = { has_country_modifier = examination_system_strict } }
							country_event = { id = dg_confucian.089 random = 180 } #Cheating on the Exams
						}
					}
				}
			}
			5 = { #Exam Scandal
				random_list = {
					75 = { #Bribery
						random_list = {
							34 = { set_variable = { which = examination_scandal value = 0 } }
							33 = { set_variable = { which = examination_scandal value = 1 } }
							33 = { set_variable = { which = examination_scandal value = 2 } }
						}
						country_event = { id = dg_confucian.090 random = 180 } #Exam Scandal
					}
					25 = { #Women
						if = {
							limit = { NOT = { has_country_modifier = examination_system_women_allowed } }
							set_variable = { which = examination_scandal value = 3 }
							country_event = { id = dg_confucian.090 random = 180 } #Exam Scandal
						}
					}
				}
			}
			5 = {
				if = {
					limit = { NOT = { has_country_modifier = examination_system_corrupt } }
					country_event = { id = dg_confucian.091 random = 180 } #Exam Frustration
				}
			}
			5 = {
				random_list = {
					34 = { set_variable = { which = examination_complaint value = 0 } }
					33 = { set_variable = { which = examination_complaint value = 1 } }
					33 = { set_variable = { which = examination_complaint value = 2 } }
				}
				country_event = { id = dg_confucian.092 random = 180 } #Criticism of the Examinations
			}
		}
	}
}

country_event = { #83 - The Eight-Legged Essay (introduced 1370/standardized 1487)
	
	id = dg_confucian.083
	title = dg_confucian.083.t
	desc = dg_confucian.083.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_confucian.083.encourage
		ai_chance = { factor = 33 }
		trigger = { NOT = { has_country_flag = confucian_eight_legged_essay_encouraged } }
		set_country_flag = confucian_eight_legged_essay_encouraged
		add_adm_power = -10
		custom_tooltip = dg_confucian.083.encourage_explained
	}
	option = {
		name = dg_confucian.083.adopt
		ai_chance = {
			factor = 33
			modifier = {
				NOT = { has_country_flag = confucian_eight_legged_essay_encouraged }
				factor = 0.5
			}
			modifier = {
				has_country_flag = confucian_eight_legged_essay_encouraged
				factor = 2
			}
		}
		if = {
			limit = { has_country_flag = confucian_eight_legged_essay_encouraged }
			add_adm_power = -10
		}
		else = {
			add_adm_power = -50
		}
		remove_country_modifier = examination_system_classics
		add_country_modifier = { name = examination_system_eight_legged_essay duration = -1 }
		set_country_flag = confucian_eight_legged_essay
	}
	option = {
		name = dg_confucian.083.ignore
		ai_chance = {
			factor = 33
			modifier = {
				has_country_flag = confucian_eight_legged_essay_encouraged
				factor = 0.5
			}
		}
		if = {
			limit = { NOT = { has_country_flag = examination_system_eight_legged_essay_spreading } }
			random = {
				chance = 50
				custom_tooltip = dg_confucian.083.ignore_explained
				set_country_flag = confucian_eight_legged_essay_encouraged
			}
		}
	}
	option = {
		name = dg_confucian.083.reject
		ai_chance = { factor = 1 }
		add_adm_power = -5
		custom_tooltip = dg_confucian.083.reject_explained
		set_country_flag = confucian_eight_legged_essay_rejected
	}
}

country_event = { #84 - Translated Exams (introduced 1661/standardized 1722 Qing)
	
	id = dg_confucian.084
	title = dg_confucian.084.t
	desc = dg_confucian.084.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_confucian.083.encourage
		ai_chance = { factor = 33 }
		trigger = { NOT = { has_country_flag = confucian_translated_exams_encouraged } }
		set_country_flag = confucian_translated_exams_encouraged
		add_adm_power = -10
		custom_tooltip = dg_confucian.083.encourage_explained
	}
	option = {
		name = dg_confucian.083.adopt
		ai_chance = {
			factor = 33
			modifier = {
				NOT = { has_country_flag = confucian_translated_exams_encouraged }
				factor = 0.5
			}
			modifier = {
				has_country_flag = confucian_translated_exams_encouraged
				factor = 2
			}
		}
		if = {
			limit = { has_country_flag = confucian_translated_exams_encouraged }
			add_adm_power = -10
		}
		else = {
			add_adm_power = -50
		}
		remove_country_modifier = examination_system_quotas
		add_country_modifier = { name = examination_system_translated_exams duration = -1 }
		set_country_flag = confucian_translated_exams
	}
	option = {
		name = dg_confucian.083.ignore
		ai_chance = {
			factor = 33
			modifier = {
				has_country_flag = confucian_translated_exams_encouraged
				factor = 0.5
			}
		}
		if = {
			limit = { NOT = { has_country_flag = examination_system_translated_exams_spreading } }
			random = {
				chance = 50
				custom_tooltip = dg_confucian.083.ignore_explained
				set_country_flag = confucian_translated_exams_encouraged
			}
		}
	}
	option = {
		name = dg_confucian.083.reject
		ai_chance = { factor = 1 }
		add_adm_power = -5
		custom_tooltip = dg_confucian.083.reject_explained
		set_country_flag = confucian_translated_exams_rejected
	}
}

country_event = { #85 - Translated Exams (17th century Qing)
	
	id = dg_confucian.085
	title = dg_confucian.085.t
	desc = dg_confucian.085.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_confucian.083.encourage
		ai_chance = { factor = 33 }
		trigger = { NOT = { has_country_flag = confucian_six_arts_encouraged } }
		set_country_flag = confucian_six_arts_encouraged
		add_adm_power = -10
		custom_tooltip = dg_confucian.083.encourage_explained
	}
	option = {
		name = dg_confucian.083.adopt
		ai_chance = {
			factor = 33
			modifier = {
				NOT = { has_country_flag = confucian_six_arts_encouraged }
				factor = 0.5
			}
			modifier = {
				has_country_flag = confucian_six_arts_encouraged
				factor = 2
			}
		}
		if = {
			limit = { has_country_flag = confucian_six_arts_encouraged }
			add_adm_power = -10
		}
		else = {
			add_adm_power = -50
		}
		remove_country_modifier = examination_system_five_studies
		add_country_modifier = { name = examination_system_six_arts duration = -1 }
		set_country_flag = confucian_six_arts
	}
	option = {
		name = dg_confucian.083.ignore
		ai_chance = {
			factor = 33
			modifier = {
				has_country_flag = confucian_six_arts_encouraged
				factor = 0.5
			}
		}
		if = {
			limit = { NOT = { has_country_flag = examination_system_six_arts_spreading } }
			random = {
				chance = 50
				custom_tooltip = dg_confucian.083.ignore_explained
				set_country_flag = confucian_six_arts_encouraged
			}
		}
	}
	option = {
		name = dg_confucian.083.reject
		ai_chance = { factor = 1 }
		add_adm_power = -5
		custom_tooltip = dg_confucian.083.reject_explained
		set_country_flag = confucian_six_arts_rejected
	}
}

country_event = { #86 - First Rank Candidate
	
	id = dg_confucian.086
	title = dg_confucian.086.t
	desc = dg_confucian.086.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes #By dg_confucian.082
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					OR = {
						has_country_modifier = examination_system_classics
						has_country_modifier = examination_system_eight_legged_essay
					}
				}
				random_list = {
					40 = { set_country_flag = examination_philosopher }
					40 = { set_country_flag = examination_artist }
					10 = { set_country_flag = examination_treasurer }
					10 = { set_country_flag = examination_master_of_mint }
				}
			}
			else_if = {
				limit = { has_country_modifier = examination_system_six_arts }
				random_list = {
					15 = { set_country_flag = examination_philosopher }
					15 = { set_country_flag = examination_artist }
					10 = { set_country_flag = examination_treasurer }
					10 = { set_country_flag = examination_master_of_mint }
					10 = { set_country_flag = examination_statesman }
					10 = { set_country_flag = examination_quartermaster }
					10 = { set_country_flag = examination_army_organiser }
					10 = { set_country_flag = examination_army_reformer }
				}
			}
			else = {
				random_list = {
					30 = { set_country_flag = examination_philosopher }
					30 = { set_country_flag = examination_artist }
					15 = { set_country_flag = examination_treasurer }
					15 = { set_country_flag = examination_master_of_mint }
					10 = { set_country_flag = examination_statesman }
				}
			}
			random_owned_province = {
				limit = {
					OR = {
						has_owner_culture = yes
						has_owner_accepted_culture = yes
						AND = {
							owner = { total_development = 1200 }
							culture_group = owner
						}
					}
				}
				save_event_target_as = official_province
			}
		}
	}
	
	option = {
		name = dg_confucian.086.a
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = 5
		}
		if = {
			limit = { has_country_flag = examination_philosopher }
			clr_country_flag = examination_philosopher
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = philosopher
				skill = 3
			}
		}
		else_if = {
			limit = { has_country_flag = examination_artist }
			clr_country_flag = examination_artist
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = artist
				skill = 3
			}
		}
		else_if = {
			limit = { has_country_flag = examination_treasurer }
			clr_country_flag = examination_treasurer
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = treasurer
				skill = 3
			}
		}
		else_if = {
			limit = { has_country_flag = examination_army_organiser }
			clr_country_flag = examination_army_organiser
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = army_organiser
				skill = 3
			}
		}
		else_if = {
			limit = { has_country_flag = examination_army_reformer }
			clr_country_flag = examination_army_reformer
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = army_reformer
				skill = 3
			}
		}
		else_if = {
			limit = { has_country_flag = examination_master_of_mint }
			clr_country_flag = examination_master_of_mint
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = master_of_mint
				skill = 3
			}
		}
		else_if = {
			limit = { has_country_flag = examination_statesman }
			clr_country_flag = examination_statesman
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = statesman
				skill = 3
			}
		}
		else_if = {
			limit = { has_country_flag = examination_quartermaster }
			clr_country_flag = examination_quartermaster
			define_advisor = {
				religion = confucianism
				culture = event_target:official_province
				type = quartermaster
				skill = 3
			}
		}
	}
}

country_event = { #87 - Exam Literature
	
	id = dg_confucian.087
	title = dg_confucian.087.t
	desc = dg_confucian.087.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes #By dg_confucian.082
	
	option = {
		name = dg_confucian.087.a
		add_prestige = 5
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = 1
		}
	}
}

country_event = { #88 - Large Graduating Class (not with quotas)
	
	id = dg_confucian.088
	title = dg_confucian.088.t
	desc = dg_confucian.088.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes #By dg_confucian.082
	
	option = {
		name = dg_confucian.088.quotas #Impose strict quotas
		trigger = {
			OR = {
				ADM = 5
				philosopher = 2
				inquisitor = 2
				statesman = 2
				tech_1600_trigger = yes
			}
		}
		ai_chance = { factor = 40 }
		add_adm_power = -25
		set_country_flag = examination_system_quotas
	}
	option = {
		name = dg_confucian.088.unemployed #Allow successful candidates to remain unemployed
		ai_chance = { factor = 30 }
		add_country_modifier = { name = examination_system_frustration duration = 7300 }
	}
	option = {
		name = dg_confucian.088.expansion #Award them all positions in an expanded bureaucracy
		ai_chance = {
			factor = 30
			modifier = {
				years_of_income = 0.5
				factor = 1.4
			}
			modifier = {
				years_of_income = 1
				factor = 1.4
			}
			modifier = {
				NOT = { years_of_income = 0.25 }
				factor = 0.5
			}
			modifier = {
				NOT = { years_of_income = 0.1 }
				factor = 0.5
			}
			modifier = {
				num_of_loans = 2
				factor = 0.5
			}
			modifier = {
				num_of_loans = 4
				factor = 0.5
			}
			modifier = {
				num_of_loans = 8
				factor = 0
			}
			modifier = {
				NOT = { years_of_income = 0.05 }
				factor = 0
			}
		}
		add_years_of_income = -0.05
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = 3
		}
	}
}

country_event = { #89 - Cheating on the Exams (not with reforms)
	
	id = dg_confucian.089
	title = dg_confucian.089.t
	desc = dg_confucian.089.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes #By dg_confucian.082
	
	option = {
		name = dg_confucian.089.enforce #Enforce the rules but do not make waves
		ai_chance = { factor = 40 }
		add_country_modifier = { name = examination_system_frustration duration = 3650 }
	}
	option = {
		name = dg_confucian.089.reforms #Crack down on corruption and impose strict rules
		ai_chance = {
			factor = 30
			modifier = {
				stability = 1
				factor = 0.5
			}
		}
		add_adm_power = -10
		add_country_modifier = { name = examination_system_strict duration = 7300 }
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = 3
		}
	}
	option = {
		name = dg_confucian.089.corruption #Allow some corruption as long as we get a share
		ai_chance = { factor = 30 }
		add_country_modifier = { name = examination_system_corrupt duration = 7300 }
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -3
		}
	}
}

country_event = { #90 - Exam Scandal
	
	id = dg_confucian.090
	title = dg_confucian.090.t
	desc = dg_confucian.090.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes #By dg_confucian.082
	
	immediate = {
		if = {
			limit = { is_variable_equal = { which = examination_scandal value = 3 } }
			custom_tooltip = dg_confucian.090.d_3
		}
		else_if = {
			limit = { is_variable_equal = { which = examination_scandal value = 2 } }
			custom_tooltip = dg_confucian.090.d_2
		}
		else_if = {
			limit = { is_variable_equal = { which = examination_scandal value = 1 } }
			custom_tooltip = dg_confucian.090.d_1
		}
		else_if = {
			limit = { NOT = { check_variable = { which = examination_scandal value = 1 } } }
			custom_tooltip = dg_confucian.090.d_0
		}
	}
	
	option = {
		name = dg_confucian.090.women_allowed #Change the rules to allow women
		trigger = {
			check_variable = { which = examination_scandal value = 3 }
			OR = {
				is_female = yes
				tech_1800_trigger = yes
			}
		}
		ai_chance = { factor = 40 }
		add_adm_power = -10
		add_country_modifier = { name = examination_system_women_allowed duration = -1 }
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -3
		}
	}
	option = {
		name = dg_confucian.090.execute #Execute the official in charge
		trigger = { has_advisor = yes }
		ai_chance = { factor = 20 }
		kill_advisor = random
	}
	option = {
		name = dg_confucian.090.crackdown #Crack down on the examinations in the future
		ai_chance = { factor = 20 }
		add_adm_power = -10
		add_country_modifier = { name = examination_system_strict duration = 7300 }
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = 3
		}
	}
	option = {
		name = dg_confucian.090.ignore #Let the scandal run its course
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { stability = 1 }
				factor = 0.5
			}
			modifier = {
				NOT = { stability = -1 }
				factor = 0
			}
		}
		add_country_modifier = { name = examination_system_scandal duration = 1825 }
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -1.5
		}
	}
}

country_event = { #91 - Exam Frustration (not with bribery)
	
	id = dg_confucian.091
	title = dg_confucian.091.t
	desc = dg_confucian.091.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_country_modifier = examination_system_five_studies }
			custom_tooltip = dg_confucian.091_five_studies
		}
		else_if = {
			limit = { has_country_modifier = examination_system_six_arts }
			custom_tooltip = dg_confucian.091_six_arts
		}
	}
	
	option = {
		name = dg_confucian.091.relax_quotas
		trigger = { has_country_flag = examination_system_quotas }
		ai_chance = { factor = 5 }
		clr_country_flag = examination_system_quotas
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -1.5
		}
	}
	option = {
		name = dg_confucian.091.relax_rules
		trigger = { has_country_modifier = examination_system_strict }
		ai_chance = { factor = 35 }
		remove_country_modifier = examination_system_strict
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -1
		}
	}
	option = {
		name = dg_confucian.091.ignore
		ai_chance = {
			factor = 60
			modifier = {
				num_of_revolts = 1
				factor = 0.5
			}
		}
		add_country_modifier = { name = examination_system_frustration duration = 3650 }
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = 1
		}
	}
}

country_event = { #92 - Criticism of the Examination System
	
	id = dg_confucian.092
	title = dg_confucian.092.t
	desc = dg_confucian.092.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_confucian.092.arrest
		ai_chance = {
			factor = 40
			modifier = {
				government = monarchy
				NOT = { legitimacy = 90 }
				factor = 0.5
			}
			modifier = {
				government = monarchy
				NOT = { legitimacy = 80 }
				factor = 0.5
			}
			modifier = {
				government = monarchy
				NOT = { legitimacy = 60 }
				factor = 0
			}
			modifier = {
				government = republic
				NOT = { republican_tradition = 90 }
				factor = 0.5
			}
			modifier = {
				government = republic
				NOT = { republican_tradition = 80 }
				factor = 0.5
			}
			modifier = {
				government = republic
				NOT = { republican_tradition = 60 }
				factor = 0
			}
			modifier = {
				government = theocracy
				NOT = { devotion = 90 }
				factor = 0.5
			}
			modifier = {
				government = theocracy
				NOT = { devotion = 80 }
				factor = 0.5
			}
			modifier = {
				government = theocracy
				NOT = { devotion = 60 }
				factor = 0
			}
		}
		if = {
			limit = { has_country_modifier = examination_system_corrupt }
			add_legitimacy = -4
			add_republican_tradition = -4
			add_horde_unity = -4
			add_devotion = -4
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -3
			}
		}
		else = {
			add_legitimacy = -2
			add_republican_tradition = -2
			add_horde_unity = -2
			add_devotion = -2
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -1.5
			}
		}
	}
	option = {
		name = dg_confucian.092.execute
		ai_chance = { factor = 30 }
		add_adm_power = -10
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = 1
		}
	}
	option = {
		name = dg_confucian.092.allow
		ai_chance = {
			factor = 20
			modifier = {
				has_country_modifier = examination_system_corrupt
				factor = 0.25
			}
		}
		if = {
			limit = { has_country_modifier = examination_system_corrupt }
			add_prestige = -10
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -5
			}
		}
		else = {
			add_prestige = -5
			if = {
				limit = {
					is_emperor_of_china = yes
				}
				add_mandate = -2.5
			}
		}
	}
}

country_event = { #93 - Unmet quotas
	
	id = dg_confucian.093
	title = dg_confucian.093.t
	desc = dg_confucian.093.d
	picture = confucianism_court #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_confucian.093.relax
		ai_chance = {
			factor = 30
			modifier = {
				government = monarchy
				NOT = { legitimacy = 90 }
				factor = 0.5
			}
			modifier = {
				government = monarchy
				NOT = { legitimacy = 80 }
				factor = 0.5
			}
			modifier = {
				government = monarchy
				NOT = { legitimacy = 60 }
				factor = 0
			}
			modifier = {
				government = republic
				NOT = { republican_tradition = 90 }
				factor = 0.5
			}
			modifier = {
				government = republic
				NOT = { republican_tradition = 80 }
				factor = 0.5
			}
			modifier = {
				government = republic
				NOT = { republican_tradition = 60 }
				factor = 0
			}
			modifier = {
				government = theocracy
				NOT = { devotion = 90 }
				factor = 0.5
			}
			modifier = {
				government = theocracy
				NOT = { devotion = 80 }
				factor = 0.5
			}
			modifier = {
				government = theocracy
				NOT = { devotion = 60 }
				factor = 0
			}
		}
		add_legitimacy = -5
		add_devotion = -5
		add_republican_tradition = -5
		add_horde_unity = -5
	}
	option = {
		name = dg_confucian.093.lower_standards
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { prestige = 0 }
				factor = 0.5
			}
		}
		add_prestige = -5
		add_country_modifier = { name = examination_system_corrupt duration = 7300 }
		if = {
			limit = {
				is_emperor_of_china = yes
			}
			add_mandate = -3
		}
	}
	option = {
		name = dg_confucian.093.shrink
		ai_chance = { factor = 30 }
		add_adm_power = -10
		add_country_modifier = { name = examination_system_frustration duration = 7300 }
	}
}

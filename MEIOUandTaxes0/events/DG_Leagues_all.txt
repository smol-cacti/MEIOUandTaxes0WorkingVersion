namespace = dg_leagues
#finished 22 of 25 events

####################################
# Religious Division in the Empire # 00s
####################################

#01 - The Diet of [Speyer] (1526)
#02 - The Second Diet of [Speyer] (1529)
#03 - Protestation at [Speyer] (1529)
#04 - Reservatum Ecclesiasticum
#05 - Reservatum Urbanum
#06 - Reservatum Regium

###############
# The Leagues # 10s
###############

#11 - The League of [Schmalkalden] (1531 news)
#12 - The Protestant League (1608)
#13 - The Reformed League (ahistorical)
#14 - The Catholic League (ahistorical)
#15 - Foreign Support
#16 - The [Schmalkaldic] War
#17 - The League War
#18 - Divided Empire (ahistorical)
#19 - League War Declared (hidden)

######################################
# The Peace of [Augsburg/Westphalia] # 20s
######################################

#21 - The Peace of [Augsburg] (1555)
#22 - The Peace of [Augsburg] (question of religion)
#23 - Freedom of the Bishops
#24 - Freedom of the Cities
#25 - Freedom of the Princes
#26 - The Treaty of [Westphalia] (hidden)

########
# News # 30s
########

#31 - Will of the Emperor
#32 - Religious Status Quo
#33 - Triumph of the League
#34 - Religious Freedom for the Empire

####################################
# Religious Division in the Empire # 00s
####################################

country_event = { #01 - The Diet of [Speyer]
	
	id = dg_leagues.001
	title = dg_leagues.001.t
	desc = dg_leagues.001.d
	picture = protestant_diet
	
	trigger = {
		has_global_flag = reformation_diet_of_speyer
		is_emperor = yes
		NOT = { has_country_flag = reformation_diet_of_speyer }
		NOT = { has_global_flag = reformation_second_diet_of_speyer }
		is_in_league_war = no
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		set_country_flag = reformation_diet_of_speyer
		hidden_effect = {
			every_elector = {
				if = {
					limit = { religion = ROOT }
					ROOT = { change_variable = { which = heretic_electors value = -1 } }
				}
				if = {
					limit = { NOT = { religion = ROOT } }
					ROOT = { change_variable = { which = heretic_electors value = 1 } }
				}
			}
			regiongroup = {
				region = {
					limit = {
						is_part_of_hre = yes
						NOT = { owned_by = ROOT }
						owner = {
							NOT = { war_with = ROOT }
							religion_group = ROOT
							NOT = { religion = ROOT }
						}
					}
					ROOT = { change_variable = { which = imperial_diet_heretic_support value = 1 } }
				}
			}
		}
	}
	
	option = {
		name = dg_leagues.001.a #Religious tolerance
		ai_chance = {
			factor = 40
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 1.4
			}
			modifier = {
				num_of_loans = 1
				factor = 1.4
			}
			modifier = {
				NOT = { years_of_income = 0.25 }
				factor = 1.4
			}
			modifier = {
				at_war_with_religious_enemy = yes
				factor = 1.4
			}
			modifier = {
				any_neighbor_country = { NOT = { religion_group = ROOT } }
				factor = 1.4
			}
			modifier = {
				has_country_flag = humanism
				religion = catholic
				factor = 2
			}
		}
		set_hre_religion_treaty = yes
		if = {
			limit = { NOT = { check_variable = { which = imperial_diet_heretic_support value = 10 } } }
			add_treasury = 50
			add_manpower = 3
			add_imperial_influence = 5
			add_prestige = -1
			add_papal_influence = -5
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 10 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 20 } }
			}
			add_treasury = 100
			add_manpower = 6
			add_imperial_influence = 10
			add_prestige = -2
			add_papal_influence = -10
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 20 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 30 } }
			}
			add_treasury = 150
			add_manpower = 9
			add_imperial_influence = 15
			add_prestige = -3
			add_papal_influence = -15
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 30 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 40 } }
			}
			add_treasury = 200
			add_manpower = 12
			add_imperial_influence = 20
			add_prestige = -4
			add_papal_influence = -20
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 40 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 50 } }
			}
			add_treasury = 250
			add_manpower = 15
			add_imperial_influence = 25
			add_prestige = -5
			add_papal_influence = -25
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 50 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 60 } }
			}
			add_treasury = 300
			add_manpower = 18
			add_imperial_influence = 30
			add_prestige = -6
			add_papal_influence = -30
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 60 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 70 } }
			}
			add_treasury = 350
			add_manpower = 21
			add_imperial_influence = 35
			add_prestige = -7
			add_papal_influence = -35
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 70 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 80 } }
			}
			add_treasury = 400
			add_manpower = 24
			add_imperial_influence = 40
			add_prestige = -8
			add_papal_influence = -40
		}
		if = {
			limit = {
				check_variable = { which = imperial_diet_heretic_support value = 80 }
				NOT = { check_variable = { which = imperial_diet_heretic_support value = 90 } }
			}
			add_treasury = 450
			add_manpower = 27
			add_imperial_influence = 45
			add_prestige = -9
			add_papal_influence = -45
		}
		if = {
			limit = { check_variable = { which = imperial_diet_heretic_support value = 90 } }
			add_treasury = 500
			add_manpower = 30
			add_imperial_influence = 50
			add_prestige = -10
			add_papal_influence = -50
		}
		hidden_effect = {
			set_variable = { which = imperial_diet_heretic_support value = 0 }
			set_variable = { which = heretic_electors value = 0 }
		}
	}
	option = {
		name = dg_leagues.001.b #Remain Catholic
		trigger = { religion = catholic }
		ai_chance = {
			factor = 30
			modifier = {
				check_variable = { which = heretic_electors value = 1 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = heretic_electors value = 2 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = heretic_electors value = 3 }
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = heretic_electors value = 0 } }
				factor = 1.4
			}
			modifier = {
				NOT = { check_variable = { which = heretic_electors value = -1 } }
				factor = 1.4
			}
			modifier = {
				NOT = { check_variable = { which = heretic_electors value = -2 } }
				factor = 1.4
			}
		}
		add_imperial_influence = -25
		every_elector = {
			limit = {
				NOT = { religion = ROOT }
				NOT = { overlord = { religion = ROOT } }
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_fanatical }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { religion = ROOT }
				OR = {
					is_elector = no
					overlord = { religion = ROOT }
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
		set_hre_religion = catholic
		hidden_effect = {
			set_variable = { which = imperial_diet_heretic_support value = 0 }
			set_variable = { which = heretic_electors value = 0 }
		}
	}
	option = {
		name = dg_leagues.001.b #A [Root.Religion.GetName] Empire
		trigger = {
			OR = {
				religion = protestant
				religion = reformed
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				check_variable = { which = heretic_electors value = 1 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = heretic_electors value = 2 }
				factor = 0.7
			}
			modifier = {
				check_variable = { which = heretic_electors value = 3 }
				factor = 0.7
			}
			modifier = {
				NOT = { check_variable = { which = heretic_electors value = 0 } }
				factor = 1.4
			}
			modifier = {
				NOT = { check_variable = { which = heretic_electors value = -1 } }
				factor = 1.4
			}
			modifier = {
				NOT = { check_variable = { which = heretic_electors value = -2 } }
				factor = 1.4
			}
		}
		add_imperial_influence = -50
		every_elector = {
			limit = {
				NOT = { religion = ROOT }
				NOT = { overlord = { religion = ROOT } }
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_fanatical }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { religion = ROOT }
				OR = {
					is_elector = no
					overlord = { religion = ROOT }
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
		if = {
			limit = { religion = protestant }
			set_hre_religion = protestant
		}
		if = {
			limit = { religion = reformed }
			if = { limit = { NOT = { is_religion_enabled = reformed } }
				hidden_effect = {
					enable_religion = reformed
				}
			}
			set_hre_religion = reformed
		}
		hidden_effect = {
			set_variable = { which = imperial_diet_heretic_support value = 0 }
			set_variable = { which = heretic_electors value = 0 }
		}
	}
}

country_event = { #02 - The Second Diet of [Speyer]
	
	id = dg_leagues.002
	title = dg_leagues.002.t
	desc = dg_leagues.002.d
	picture = protestant_diet
	
	trigger = {
		has_global_flag = reformation_second_diet_of_speyer
		is_emperor = yes
		NOT = { has_country_flag = reformation_second_diet_of_speyer }
		NOT = {
			AND = {
				hre_religion_treaty = yes
				religion_years = { protestant = 60 }
			}
		}
		is_in_league_war = no
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		set_country_flag = reformation_second_diet_of_speyer
	}
	
	option = {
		name = dg_leagues.002.a #Confirm the Diet (tolerance)
		trigger = { hre_religion_treaty = yes }
		ai_chance = {
			factor = 10
		}
		add_imperial_influence = -50
		add_papal_influence = -50
		set_country_flag = tolerant_hre
		if = {
			limit = { religion = catholic }
			country_event = { id = dg_catholic.066 days = 30 }
		}
	}
	option = {
		name = dg_leagues.002.a #Confirm the Diet (Catholic)
		trigger = {
			hre_religion_treaty = no
			hre_religion = catholic
		}
		ai_chance = {
			factor = 15
			modifier = {
				NOT = { religion = catholic }
				factor = 0
			}
		}
		every_elector = {
			limit = {
				NOT = { religion = catholic }
				NOT = { overlord = { religion = catholic } }
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_fanatical }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { religion = catholic }
				OR = {
					is_elector = no
					overlord = { religion = catholic }
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
	}
	option = {
		name = dg_leagues.002.a #Confirm the Diet (Protestant)
		trigger = {
			hre_religion_treaty = no
			hre_religion = protestant
		}
		ai_chance = {
			factor = 15
			modifier = {
				NOT = { religion = protestant }
				factor = 0
			}
		}
		add_papal_influence = -50
		every_elector = {
			limit = {
				NOT = { religion = protestant }
				NOT = { overlord = { religion = protestant } }
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_fanatical }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { religion = protestant }
				OR = {
					is_elector = no
					overlord = { religion = protestant }
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
		if = {
			limit = { religion = catholic }
			country_event = { id = dg_catholic.066 days = 30 }
		}
	}
	option = {
		name = dg_leagues.002.a #Confirm the Diet (Reformed)
		trigger = {
			hre_religion_treaty = no
			hre_religion = reformed
		}
		ai_chance = {
			factor = 15
			modifier = {
				NOT = { religion = reformed }
				factor = 0
			}
		}
		add_papal_influence = -50
		every_elector = {
			limit = {
				NOT = { religion = reformed }
				NOT = { overlord = { religion = reformed } }
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_fanatical }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { religion = reformed }
				OR = {
					is_elector = no
					overlord = { religion = reformed }
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
		if = {
			limit = { religion = catholic }
			country_event = { id = dg_catholic.066 days = 30 }
		}
	}
	option = {
		name = dg_leagues.002.b #Issue a new edict of tolerance
		trigger = { hre_religion_treaty = no }
		ai_chance = {
			factor = 10
			modifier = {
				religion = catholic
				factor = 0.5
			}
		}
		set_hre_religion_treaty = yes
		set_country_flag = tolerant_hre
		if = {
			limit = { religion = catholic }
			country_event = { id = dg_catholic.066 days = 30 }
		}
		every_elector = {
			limit = {
				OR = {
					AND = {
						hre_religion = catholic
						religion = catholic
					}
					AND = {
						hre_religion = protestant
						religion = protestant
					}
					AND = {
						hre_religion = reformed
						religion = reformed
					}
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				is_elector = no
				OR = {
					AND = {
						hre_religion = catholic
						religion = catholic
					}
					AND = {
						hre_religion = protestant
						religion = protestant
					}
					AND = {
						hre_religion = reformed
						religion = reformed
					}
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_observant }
		}
		add_imperial_influence = -50
		add_papal_influence = -50
	}
	option = {
		name = dg_leagues.002.c #Issue a new edict condemning heresy
		trigger = {
			hre_religion_treaty = yes
			OR = {
				AND = {
					hre_religion = catholic
					religion = catholic
				}
				AND = {
					hre_religion = protestant
					religion = protestant
				}
				AND = {
					hre_religion = reformed
					religion = reformed
				}
			}
		}
		ai_chance = {
			factor = 20
		}
		add_papal_influence = 25
		every_elector = {
			limit = {
				NOT = { religion = reformed }
				NOT = { overlord = { religion = reformed } }
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_fanatical }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { religion = reformed }
				OR = {
					is_elector = no
					overlord = { religion = reformed }
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
	}
	option = {
		name = dg_leagues.002.e #Declare the Empire to be [Root.Religion.GetName]
		trigger = {
			hre_religion_treaty = yes
			OR = {
				AND = {
					hre_religion = catholic
					OR = { religion = protestant religion = reformed }
				}
				AND = {
					hre_religion = protestant
					OR = { religion = catholic religion = reformed }
				}
				AND = {
					hre_religion = reformed
					OR = { religion = protestant religion = catholic }
				}
			}
		}
		ai_chance = {
			factor = 15
		}
		add_imperial_influence = -50
		add_papal_influence = 25
		if = {
			limit = { religion = catholic }
			set_hre_religion = catholic
		}
		else_if = {
			limit = { religion = protestant }
			set_hre_religion = protestant
		}
		else_if = {
			limit = { religion = reformed }
			if = { limit = { NOT = { is_religion_enabled = reformed } }
				hidden_effect = {
					enable_religion = reformed
				}
			}
			set_hre_religion = reformed
		}
		every_elector = {
			limit = {
				NOT = { religion = reformed }
				NOT = { overlord = { religion = reformed } }
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_fanatical }
		}
		every_country = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { religion = reformed }
				OR = {
					is_elector = no
					overlord = { religion = reformed }
				}
			}
			add_opinion = { who = ROOT modifier = mistreated_coreligionists_pious }
		}
	}
}

#
#country_event = { #03 - Protestation at [Speyer] (1529)
#	
#	id = dg_leagues.003
#	title = dg_leagues.003.t
#	desc = dg_leagues.003.d
#	picture = protestant_league_peace
#	
#	trigger = {
#		has_global_flag = leagues_divided_empire
#		NOT = { has_global_flag = first_league_war }
#		capital_scope = { is_part_of_hre = yes }
#		NOT = { has_country_flag = hre_religious_league }
#		is_free_or_tributary_trigger = yes
#		hre_heretic_religion = ROOT
#		NOT = { emperor = { religion = ROOT } }
#		is_emperor = no
#		NOT = { in_league = protestant }
#		NOT = { in_league = catholic }
#		NOT = { in_league = reformed }
#	}
#	
#	mean_time_to_happen = {
#		
#		months = 3
#		
#		modifier = {
#			hre_leagues_enabled = yes
#			factor = 0.25
#		}
#		modifier = {
#			NOT = { num_of_cities = 2 }
#			factor = 2
#		}
#		modifier = {
#			NOT = { num_of_cities = 3 }
#			factor = 2
#		}
#		modifier = {
#			num_of_cities = 6
#			factor = 0.5
#		}
#		modifier = {
#			num_of_cities = 12
#			factor = 0.5
#		}
#		modifier = {
#			num_of_cities = 24
#			factor = 0.5
#		}
#		modifier = {
#			num_of_cities = 48
#			factor = 0.5
#		}
#	}
#	
#	immediate = {
#		set_country_flag = hre_religious_league
#		if = {
#			limit = { religion = protestant }
#			custom_tooltip = protestant_name_origins
#		}
#		if = {
#			limit = { hre_leagues_enabled = no }
#			enable_hre_leagues = yes
#			hidden_effect = {
#				every_country = {
#					limit = {
#						OR = {
#							is_emperor = yes
#							is_elector = yes
#							capital_scope = { is_part_of_hre = yes }
#							AND = {
#								OR = {
#									is_papal_controller = yes
#									AND = {
#										government = theocracy
#										religion_group = christian
#									}
#									emperor = { is_rival = PREV }
#									emperor = { is_enemy = PREV }
#									emperor = { overlord_of = PREV }
#									emperor = { war_with = PREV }
#								}
#								has_country_flag = religious_news_major
#							}
#							AND = {
#								has_country_flag = religious_news_trivial
#								OR = {
#									religion = catholic
#									religion = reformed
#									religion = protestant
#									religion = hussite
#								}
#							}
#							OR = {
#								has_country_flag = religious_news_all
#								any_known_country = { capital_scope = { is_part_of_hre = yes } }
#							}
#						}
#						is_colonial_nation = no
#					}
#					country_event = { id = dg_leagues.011 days = 120 }
#				}
#			}
#		}
#	}
#	
#	option = {
#		name = dg_leagues.003.a #Join the League
#		ai_chance = {
#			factor = 90
#			modifier = {
#				overlord = { is_emperor = yes }
#				factor = 0
#			}
#			modifier = {
#				overlord = { NOT = { religion = ROOT } }
#				factor = 0
#			}
#			modifier = {
#				emperor = { is_rival = ROOT }
#				factor = 4
#			}
#			modifier = {
#				emperor = { is_enemy = ROOT }
#				factor = 4
#			}
#			modifier = {
#				emperor = { truce_with = ROOT }
#				factor = 4
#			}
#			modifier = {
#				emperor = { war_with = ROOT }
#				factor = 4
#			}
#			modifier = {
#				emperor = { marriage_with = ROOT }
#				factor = 0.25
#			}
#			modifier = {
#				emperor = { alliance_with = ROOT }
#				factor = 0.25
#			}
#			modifier = {
#				emperor = { dynasty = ROOT }
#				factor = 0.25
#			}
#		}
#		emperor = { add_opinion = { who = ROOT modifier = holy_league_reaction } }
#		if = {
#			limit = { religion = protestant }
#			join_league = protestant
#			every_known_country = {
#				limit = { in_league = protestant religion = protestant }
#				if = {
#					limit = { ROOT = { piety = 0.60 } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_fanatical }
#				}
#				if = {
#					limit = { ROOT = { piety = 0.20 NOT = { piety = 0.60 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_pious }
#				}
#				if = {
#					limit = { ROOT = { piety = -0.20 NOT = { piety = 0.20 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_observant }
#				}
#				if = {
#					limit = { ROOT = { piety = -0.60 NOT = { piety = -0.20 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_decadent }
#				}
#			}
#		}
#		if = {
#			limit = { religion = reformed }
#			join_league = reformed
#			every_known_country = {
#				limit = { in_league = reformed religion = reformed }
#				if = {
#					limit = { ROOT = { piety = 0.60 } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_fanatical }
#				}
#				if = {
#					limit = { ROOT = { piety = 0.20 NOT = { piety = 0.60 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_pious }
#				}
#				if = {
#					limit = { ROOT = { piety = -0.20 NOT = { piety = 0.20 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_observant }
#				}
#				if = {
#					limit = { ROOT = { piety = -0.60 NOT = { piety = -0.20 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_decadent }
#				}
#			}
#		}
#		if = {
#			limit = { religion = catholic }
#			join_league = catholic
#			every_known_country = {
#				limit = { in_league = catholic religion = catholic }
#				if = {
#					limit = { ROOT = { piety = 0.60 } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_fanatical }
#				}
#				if = {
#					limit = { ROOT = { piety = 0.20 NOT = { piety = 0.60 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_pious }
#				}
#				if = {
#					limit = { ROOT = { piety = -0.20 NOT = { piety = 0.20 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_observant }
#				}
#				if = {
#					limit = { ROOT = { piety = -0.60 NOT = { piety = -0.20 } } }
#					reverse_add_opinion = { who = ROOT modifier = holy_league_decadent }
#				}
#			}
#		}
#		add_dip_power = -25
#		add_prestige = 10
#		if = {
#			limit = { is_elector = yes }
#			add_imperial_influence = -10
#		}
#	}
#	option = {
#		name = dg_leagues.003.b #Don't join
#		ai_chance = { factor = 10 }
#		add_prestige = -5
#	}
#}

country_event = { #04 - Reservatum Ecclesiasticum - archbishopric that converts must obey the law or lose capital core
	
	id = dg_leagues.004
	title = dg_leagues.004.t
	desc = dg_leagues.004.d
	picture = catholic_ducal_decree_saffron
	
	trigger = {
		government = theocracy
		capital_scope = { is_part_of_hre = yes is_core = owner }
		hre_religion_locked = yes
		NOT = { hre_religion = ROOT }
		hre_religion_treaty = no
		NOT = { has_country_flag = reservatum_rejected }
		emperor = { hre_religion = PREV }
		religion_group = christian
		NOT = { emperor = { is_subject_of = ROOT } }
		OR = {
			hre_religion = catholic
			hre_religion = reformed
			hre_religion = protestant
		}
	}
	
	mean_time_to_happen = { months = 10 }
	
	option = {
		name = dg_leagues.004.a #Submit to the Emperor
		ai_chance = {
			factor = 50
			modifier = {
				ADM = 5
				factor = 0.7
			}
			modifier = {
				DIP = 5
				factor = 0.7
			}
			modifier = {
				MIL = 5
				factor = 0.7
			}
			modifier = {
				NOT = { ADM = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { DIP = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { MIL = 3 }
				factor = 1.4
			}
			modifier = {
				piety = 0.60
				factor = 0.7
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
			modifier = {
				emperor = { army_size = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { num_of_cities = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { overlord_of = ROOT }
				factor = 2
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 0.7
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 0.7
			}
			modifier = {
				is_elector = yes
				factor = 0.7
			}
			modifier = {
				hre_heretic_religion = ROOT
				OR = {
					in_league = protestant
					in_league = catholic
					in_league = reformed
				}
				factor = 0
			}
		}
		kill_ruler = yes
		if = {
			limit = { piety = 0.60 }
			add_prestige = -40
			add_devotion = -80
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -30
			add_devotion = -60
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -20
			add_devotion = -40
		}
		else = {
			add_prestige = -10
			add_devotion = -20
		}
		if = {
			limit = { hre_religion = catholic }
			change_religion = catholic
		}
		if = {
			limit = { hre_religion = protestant }
			change_religion = protestant
		}
		if = {
			limit = { hre_religion = reformed }
			change_religion = reformed
		}
	}
	option = {
		name = dg_leagues.004.b #Nope
		ai_chance = { factor = 50 }
		capital_scope = { remove_core = ROOT }
		set_country_flag = reservatum_rejected
	}
}

country_event = { #05 - Reservatum Urbanum - imperial cities that convert must obey the law or lose capital core
	
	id = dg_leagues.005
	title = dg_leagues.005.t
	desc = dg_leagues.005.d
	picture = catholic_ducal_decree_saffron
	
	trigger = {
		government = republic
		free_city_trigger = yes
		capital_scope = { is_part_of_hre = yes is_core = owner }
		hre_religion_locked = yes
		hre_reform_level = 3
		NOT = { hre_religion = ROOT }
		hre_religion_treaty = no
		NOT = { has_country_flag = reservatum_rejected }
		emperor = { hre_religion = PREV }
		religion_group = christian
		NOT = { emperor = { is_subject_of = ROOT } }
		OR = {
			hre_religion = catholic
			hre_religion = reformed
			hre_religion = protestant
		}
	}
	
	mean_time_to_happen = { months = 10 }
	
	option = {
		name = dg_leagues.004.a #Submit to the Emperor
		ai_chance = {
			factor = 50
			modifier = {
				ADM = 5
				factor = 0.7
			}
			modifier = {
				DIP = 5
				factor = 0.7
			}
			modifier = {
				MIL = 5
				factor = 0.7
			}
			modifier = {
				NOT = { ADM = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { DIP = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { MIL = 3 }
				factor = 1.4
			}
			modifier = {
				piety = 0.60
				factor = 0.7
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
			modifier = {
				emperor = { army_size = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { num_of_cities = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { overlord_of = ROOT }
				factor = 2
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 0.7
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 0.7
			}
			modifier = {
				is_elector = yes
				factor = 0.7
			}
			modifier = {
				hre_heretic_religion = ROOT
				OR = {
					in_league = protestant
					in_league = catholic
					in_league = reformed
				}
				factor = 0
			}
		}
		kill_ruler = yes
		if = {
			limit = { piety = 0.60 }
			add_prestige = -40
			add_republican_tradition = -20
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -30
			add_republican_tradition = -15
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -20
			add_republican_tradition = -10
		}
		else = {
			add_prestige = -10
			add_republican_tradition = -5
		}
		if = {
			limit = { hre_religion = catholic }
			change_religion = catholic
		}
		if = {
			limit = { hre_religion = protestant }
			change_religion = protestant
		}
		if = {
			limit = { hre_religion = reformed }
			change_religion = reformed
		}
	}
	option = {
		name = dg_leagues.004.b #Nope
		ai_chance = { factor = 50 }
		capital_scope = { remove_core = ROOT }
		set_country_flag = reservatum_rejected
	}
}

country_event = { #06 - Reservatum Regium
	
	id = dg_leagues.006
	title = dg_leagues.006.t
	desc = dg_leagues.006.d
	picture = catholic_ducal_decree_saffron
	
	trigger = {
		capital_scope = { is_part_of_hre = yes is_core = owner }
		hre_religion_locked = yes
		hre_reform_level = 5
		NOT = { hre_religion = ROOT }
		hre_religion_treaty = no
		NOT = { has_country_flag = reservatum_rejected }
		free_city_trigger = no
		NOT = { government = theocracy }
		emperor = { hre_religion = PREV }
		religion_group = christian
		NOT = { emperor = { is_subject_of = ROOT } }
		OR = {
			hre_religion = catholic
			hre_religion = reformed
			hre_religion = protestant
		}
	}
	
	mean_time_to_happen = { months = 10 }
	
	option = {
		name = dg_leagues.004.a #Submit to the Emperor
		ai_chance = {
			factor = 50
			modifier = {
				ADM = 5
				factor = 0.7
			}
			modifier = {
				DIP = 5
				factor = 0.7
			}
			modifier = {
				MIL = 5
				factor = 0.7
			}
			modifier = {
				NOT = { ADM = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { DIP = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { MIL = 3 }
				factor = 1.4
			}
			modifier = {
				piety = 0.60
				factor = 0.7
			}
			modifier = {
				piety = 0.20
				factor = 0.7
			}
			modifier = {
				NOT = { piety = -0.20 }
				factor = 1.4
			}
			modifier = {
				NOT = { piety = -0.60 }
				factor = 1.4
			}
			modifier = {
				emperor = { army_size = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { num_of_cities = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { overlord_of = ROOT }
				factor = 2
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 1.4
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 0.7
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 0.7
			}
			modifier = {
				is_elector = yes
				factor = 0.7
			}
			modifier = {
				hre_heretic_religion = ROOT
				OR = {
					in_league = protestant
					in_league = catholic
					in_league = reformed
				}
				factor = 0
			}
		}
		kill_ruler = yes
		if = {
			limit = { piety = 0.60 }
			add_prestige = -40
			add_legitimacy = -40
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = -30
			add_legitimacy = -30
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = -20
			add_legitimacy = -20
		}
		else = {
			add_prestige = -10
			add_legitimacy = -10
		}
		if = {
			limit = { hre_religion = catholic }
			change_religion = catholic
		}
		if = {
			limit = { hre_religion = protestant }
			change_religion = protestant
		}
		if = {
			limit = { hre_religion = reformed }
			change_religion = reformed
		}
	}
	option = {
		name = dg_leagues.004.b #Nope
		ai_chance = { factor = 50 }
		capital_scope = { remove_core = ROOT }
		set_country_flag = reservatum_rejected
	}
}

###############
# The Leagues # 10s
###############

country_event = { #11 - The League of [Schmalkalden] (1531 news)
	
	id = dg_leagues.011
	title = dg_leagues.011.t
	desc = dg_leagues.011.d
	picture = protestant_league
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				OR = {
					in_league = catholic
					in_league = protestant
					in_league = reformed
					is_emperor = yes
				}
			}
			custom_tooltip = dg_leagues.011.member
		}
		if = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				NOT = { in_league = catholic }
				NOT = { in_league = protestant }
				NOT = { in_league = reformed }
				is_emperor = no
			}
			custom_tooltip = dg_leagues.011.hre
		}
		if = {
			limit = { capital_scope = { is_part_of_hre = no } }
			custom_tooltip = dg_leagues.011.outsider
		}
	}
	
	option = {
		name = dg_leagues.011.a #Look on with interest
		ai_chance = {
			factor = 70
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.60
				factor = 0.5
			}
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.20
				factor = 0.5
			}
		}
		trigger = {
			NOT = { in_league = protestant }
			NOT = { in_league = reformed }
			NOT = { in_league = catholic }
			is_emperor = no
		}
	}
	option = {
		name = dg_leagues.011.b #Onwards to victory!
		ai_chance = { factor = 10 }
		trigger = {
			OR = {
				in_league = protestant
				in_league = reformed
				in_league = catholic
				is_emperor = yes
			}
		}
	}
	option = {
		name = dg_leagues.011.c #Send support to the rebels
		ai_chance = {
			factor = 12
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 0
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 0.5
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 3
			}
		}
		trigger = {
			NOT = { in_league = protestant }
			NOT = { in_league = reformed }
			NOT = { in_league = catholic }
			is_emperor = no
			capital_scope = {
				continent = europe
			}
		}
		if = {
			limit = { hre_heretic_religion = ROOT }
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		every_known_country = {
			limit = { in_league = protestant }
			if = {
				limit = { ROOT = { piety = 0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_fanatical }
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_pious }
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_observant }
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_decadent }
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
	option = {
		name = dg_leagues.011.e #Send support to the Emperor
		ai_chance = {
			factor = 8
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 3
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 0.5
			}
		}
		trigger = {
			NOT = { in_league = protestant }
			NOT = { in_league = reformed }
			NOT = { in_league = catholic }
			is_emperor = no
			capital_scope = {
				continent = europe
			}
		}
		if = {
			limit = {
				OR = {
					AND = {
						hre_religion = protestant
						religion = protestant
					}
					AND = {
						hre_religion = catholic
						religion = catholic
					}
					AND = {
						hre_religion = reformed
						religion = reformed
					}
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				emperor = {
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				emperor = {
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				emperor = {
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
}


country_event = { #12 - The Protestant League (1608)
	
	id = dg_leagues.012
	title = dg_leagues.012.t
	desc = dg_leagues.012.d
	picture = protestant_league
	
	trigger = {
		has_global_flag = first_league_war
		hre_leagues_enabled = yes
		OR = {
			capital_scope = { is_part_of_hre = yes }
			emperor = { is_in_league_war = yes }
		}
		any_known_country = {
			religion = protestant
			hre_heretic_religion = PREV
		}
		NOT = { in_league = protestant }
		NOT = { in_league = catholic }
		NOT = { in_league = reformed }
		hre_religion_treaty = no
		is_colonial_nation = no
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			capital_scope = { is_part_of_hre = yes }
			factor = 0.7
		}
		modifier = {
			any_owned_province = { is_part_of_hre = yes }
			factor = 0.7
		}
		modifier = {
			emperor = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					truce_with = ROOT
					war_with = ROOT
					NOT = { religion = ROOT }
				}
				war_score = 10
			}
			NOT = { has_country_flag = league_support }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					truce_with = ROOT
					war_with = ROOT
					NOT = { religion = ROOT }
				}
				war_score = 50
			}
			NOT = { has_country_flag = league_support_again }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					overlord_of = ROOT
					is_subject_of = ROOT
					AND = {
						religion = ROOT
						ROOT = { government = theocracy }
					}
				}
				NOT = { war_score = -9 }
			}
			NOT = { has_country_flag = league_support }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					overlord_of = ROOT
					is_subject_of = ROOT
					AND = {
						religion = ROOT
						ROOT = { government = theocracy }
					}
				}
				NOT = { war_score = -49 }
			}
			NOT = { has_country_flag = league_support_again }
			factor = 0.3
		}
	}
	
	immediate = {
		if = {
			limit = { has_country_flag = league_support }
			set_country_flag = league_support_again
		}
		else = {
			set_country_flag = league_support
		}
		if = {
			limit = { capital_scope = { is_part_of_hre = yes } }
			custom_tooltip = dg_leagues.012.hre
		}
		else = {
			custom_tooltip = dg_leagues.011.outsider
		}
	}
	
	option = {
		name = dg_leagues.011.a #Look on with interest
		ai_chance = {
			factor = 55
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.60
				factor = 0.5
			}
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.20
				factor = 0.5
			}
			modifier = {
				NOT = { religion = catholic }
				NOT = { religion = reformed }
				NOT = { religion = protestant }
				factor = 2
			}
			modifier = {
				is_at_war = yes
				factor = 2
			}
			modifier = {
				war_exhaustion = 4
				factor = 1.4
			}
			modifier = {
				war_exhaustion = 8
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.10 }
				factor = 1.4
			}
			modifier = {
				num_of_loans = 2
				factor = 1.4
			}
			modifier = {
				num_of_loans = 4
				factor = 1.4
			}
			modifier = {
				num_of_loans = 6
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 2
			}
		}
	}
	option = {
		name = dg_leagues.011.c #Send support to the rebels
		ai_chance = {
			factor = 20
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 0
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 0.5
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 3
			}
			modifier = {
				emperor = { war_score = 10 }
				factor = 2
			}
			modifier = {
				emperor = { war_score = 50 }
				factor = 2
			}
		}
		if = {
			limit = { hre_heretic_religion = ROOT }
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		every_known_country = {
			limit = { in_league = protestant }
			if = {
				limit = { ROOT = { piety = 0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_fanatical }
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_pious }
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_observant }
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_decadent }
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
	option = {
		name = dg_leagues.011.e #Send support to the Emperor
		ai_chance = {
			factor = 10
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 3
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 0.5
			}
			modifier = {
				emperor = { NOT = { war_score = -9 } }
				factor = 2
			}
			modifier = {
				emperor = { NOT = { war_score = -49 } }
				factor = 2
			}
		}
		if = {
			limit = { hre_religion = ROOT }
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				emperor = {
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				emperor = {
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				emperor = {
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
	option = {
		name = dg_leagues.011.f #Join the League against the Emperor
		trigger = {
			emperor = {
				OR = {
					NOT = { religion = ROOT }
					is_rival = ROOT
					is_enemy = ROOT
					war_with = ROOT
					truce_with = ROOT
				}
			}
			is_subject = no
			is_at_war = no
		}
		ai_chance = {
			factor = 10
			modifier = {
				is_part_of_hre = yes
				factor = 2
			}
			modifier = {
				emperor = { NOT = { army_size = ROOT } }
				factor = 2
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.5
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0
			}
			modifier = {
				num_of_loans = 2
				factor = 0.5
			}
			modifier = {
				num_of_loans = 4
				factor = 0
			}
			modifier = {
				emperor = { war_score = 10 }
				factor = 2
			}
			modifier = {
				emperor = { war_score = 50 }
				factor = 2
			}
		}
		if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = catholic
				}
			}
			join_league = catholic
		}
		else_if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = protestant
				}
			}
			join_league = protestant
		}
		else_if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = reformed
				}
			}
			join_league = reformed
		}
	}
	option = {
		name = dg_leagues.011.g #Join the Emperor against the League
		trigger = {
			OR = {
				hre_religion = ROOT
				emperor = {
					OR = {
						alliance_with = ROOT
						marriage_with = ROOT
						dynasty = ROOT
					}
				}
			}
			is_subject = no
			is_at_war = no
		}
		ai_chance = {
			factor = 5
			modifier = {
				is_part_of_hre = yes
				factor = 2
			}
			modifier = {
				emperor = { NOT = { army_size = ROOT } }
				factor = 2
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.5
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0
			}
			modifier = {
				num_of_loans = 2
				factor = 0.5
			}
			modifier = {
				num_of_loans = 4
				factor = 0
			}
			modifier = {
				emperor = { NOT = { war_score = -9 } }
				factor = 2
			}
			modifier = {
				emperor = { NOT = { war_score = -49 } }
				factor = 2
			}
		}
		if = {
			limit = { hre_religion = protestant }
			join_league = protestant
		}
		else_if = {
			limit = { hre_religion = reformed }
			join_league = reformed
		}
		else_if = {
			limit = { hre_religion = catholic }
			join_league = catholic
		}
		else = {
			if = {
				limit = { emperor = { religion = protestant } }
				join_league = protestant
			}
			else_if = {
				limit = { emperor = { religion = reformed } }
				join_league = reformed
			}
			else_if = {
				limit = { emperor = { religion = catholic } }
				join_league = catholic
			}
		}
	}
	option = {
		name = dg_leagues.011.h #We have to follow our overlord
		trigger = {
			is_subject = yes
			is_at_war = no
		}
		if = {
			limit = { overlord = { in_league = catholic } }
			join_league = catholic
		}
		else_if = {
			limit = { overlord = { in_league = protestant } }
			join_league = protestant
		}
		else_if = {
			limit = { overlord = { in_league = reformed } }
			join_league = reformed
		}
	}
}

country_event = { #13 - The Reformed League (ahistorical)
	
	id = dg_leagues.013
	title = dg_leagues.013.t
	desc = dg_leagues.013.d
	picture = protestant_league
	
	trigger = {
		has_global_flag = first_league_war
		hre_leagues_enabled = yes
		OR = {
			capital_scope = { is_part_of_hre = yes }
			emperor = { is_in_league_war = yes }
		}
		any_known_country = {
			religion = reformed
			hre_heretic_religion = PREV
		}
		NOT = { in_league = protestant }
		NOT = { in_league = catholic }
		NOT = { in_league = reformed }
		hre_religion_treaty = no
		is_colonial_nation = no
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			capital_scope = { is_part_of_hre = yes }
			factor = 0.7
		}
		modifier = {
			any_owned_province = { is_part_of_hre = yes }
			factor = 0.7
		}
		modifier = {
			emperor = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					truce_with = ROOT
					war_with = ROOT
					NOT = { religion = ROOT }
				}
				war_score = 10
			}
			NOT = { has_country_flag = league_support }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					truce_with = ROOT
					war_with = ROOT
					NOT = { religion = ROOT }
				}
				war_score = 50
			}
			NOT = { has_country_flag = league_support_again }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					overlord_of = ROOT
					is_subject_of = ROOT
					AND = {
						religion = ROOT
						ROOT = { government = theocracy }
					}
				}
				NOT = { war_score = -9 }
			}
			NOT = { has_country_flag = league_support }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					overlord_of = ROOT
					is_subject_of = ROOT
					AND = {
						religion = ROOT
						ROOT = { government = theocracy }
					}
				}
				NOT = { war_score = -49 }
			}
			NOT = { has_country_flag = league_support_again }
			factor = 0.3
		}
	}
	
	immediate = {
		if = {
			limit = { has_country_flag = league_support }
			set_country_flag = league_support_again
		}
		set_country_flag = league_support
		if = {
			limit = { capital_scope = { is_part_of_hre = yes } }
			custom_tooltip = dg_leagues.012.hre
		}
		if = {
			limit = { capital_scope = { is_part_of_hre = no } }
			custom_tooltip = dg_leagues.011.outsider
		}
	}
	
	option = {
		name = dg_leagues.011.a #Look on with interest
		ai_chance = {
			factor = 55
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.60
				factor = 0.5
			}
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.20
				factor = 0.5
			}
			modifier = {
				NOT = { religion = catholic }
				NOT = { religion = reformed }
				NOT = { religion = protestant }
				factor = 2
			}
			modifier = {
				is_at_war = yes
				factor = 2
			}
			modifier = {
				war_exhaustion = 4
				factor = 1.4
			}
			modifier = {
				war_exhaustion = 8
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.10 }
				factor = 1.4
			}
			modifier = {
				num_of_loans = 2
				factor = 1.4
			}
			modifier = {
				num_of_loans = 4
				factor = 1.4
			}
			modifier = {
				num_of_loans = 6
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 2
			}
		}
	}
	option = {
		name = dg_leagues.011.c #Send support to the rebels
		ai_chance = {
			factor = 20
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 0
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 0.5
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 3
			}
			modifier = {
				emperor = { war_score = 10 }
				factor = 2
			}
			modifier = {
				emperor = { war_score = 50 }
				factor = 2
			}
		}
		if = {
			limit = { hre_heretic_religion = ROOT }
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		every_known_country = {
			limit = { in_league = reformed }
			if = {
				limit = { ROOT = { piety = 0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_fanatical }
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_pious }
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_observant }
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_decadent }
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
	option = {
		name = dg_leagues.011.e #Send support to the Emperor
		ai_chance = {
			factor = 10
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 3
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 0.5
			}
			modifier = {
				emperor = { NOT = { war_score = -9 } }
				factor = 2
			}
			modifier = {
				emperor = { NOT = { war_score = -49 } }
				factor = 2
			}
		}
		if = {
			limit = { hre_religion = ROOT }
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				emperor = {
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				emperor = {
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				emperor = {
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
	option = {
		name = dg_leagues.011.f #Join the League against the Emperor
		trigger = {
			emperor = {
				OR = {
					NOT = { religion = ROOT }
					is_rival = ROOT
					is_enemy = ROOT
					war_with = ROOT
					truce_with = ROOT
				}
			}
			is_subject = no
			is_at_war = no
		}
		ai_chance = {
			factor = 10
			modifier = {
				is_part_of_hre = yes
				factor = 2
			}
			modifier = {
				emperor = { NOT = { army_size = ROOT } }
				factor = 2
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.5
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0
			}
			modifier = {
				num_of_loans = 2
				factor = 0.5
			}
			modifier = {
				num_of_loans = 4
				factor = 0
			}
			modifier = {
				emperor = { war_score = 10 }
				factor = 2
			}
			modifier = {
				emperor = { war_score = 50 }
				factor = 2
			}
		}
		if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = catholic
				}
			}
			join_league = catholic
		}
		else_if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = protestant
				}
			}
			join_league = protestant
		}
		else_if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = reformed
				}
			}
			join_league = reformed
		}
	}
	option = {
		name = dg_leagues.011.g #Join the Emperor against the League
		trigger = {
			OR = {
				hre_religion = ROOT
				emperor = {
					OR = {
						alliance_with = ROOT
						marriage_with = ROOT
						dynasty = ROOT
					}
				}
			}
			is_subject = no
			is_at_war = no
		}
		ai_chance = {
			factor = 5
			modifier = {
				is_part_of_hre = yes
				factor = 2
			}
			modifier = {
				emperor = { NOT = { army_size = ROOT } }
				factor = 2
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.5
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0
			}
			modifier = {
				num_of_loans = 2
				factor = 0.5
			}
			modifier = {
				num_of_loans = 4
				factor = 0
			}
			modifier = {
				emperor = { NOT = { war_score = -9 } }
				factor = 2
			}
			modifier = {
				emperor = { NOT = { war_score = -49 } }
				factor = 2
			}
		}
		if = {
			limit = { hre_religion = protestant }
			join_league = protestant
		}
		else_if = {
			limit = { hre_religion = reformed }
			join_league = reformed
		}
		else_if = {
			limit = { hre_religion = catholic }
			join_league = catholic
		}
		else = {
			if = {
				limit = { emperor = { religion = protestant } }
				join_league = protestant
			}
			else_if = {
				limit = { emperor = { religion = reformed } }
				join_league = reformed
			}
			else_if = {
				limit = { emperor = { religion = catholic } }
				join_league = catholic
			}
		}
	}
	option = {
		name = dg_leagues.011.h #We have to follow our overlord
		trigger = {
			is_subject = yes
			is_at_war = no
		}
		if = {
			limit = { overlord = { in_league = catholic } }
			join_league = catholic
		}
		else_if = {
			limit = { overlord = { in_league = protestant } }
			join_league = protestant
		}
		else_if = {
			limit = { overlord = { in_league = reformed } }
			join_league = reformed
		}
	}
}

country_event = { #14 - The Catholic League (ahistorical)
	
	id = dg_leagues.014
	title = dg_leagues.014.t
	desc = dg_leagues.014.d
	picture = protestant_league
	
	trigger = {
		has_global_flag = first_league_war
		hre_leagues_enabled = yes
		OR = {
			capital_scope = { is_part_of_hre = yes }
			emperor = { is_in_league_war = yes }
		}
		any_known_country = {
			religion = catholic
			hre_heretic_religion = PREV
		}
		NOT = { in_league = protestant }
		NOT = { in_league = catholic }
		NOT = { in_league = reformed }
		hre_religion_treaty = no
		is_colonial_nation = no
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			capital_scope = { is_part_of_hre = yes }
			factor = 0.7
		}
		modifier = {
			any_owned_province = { is_part_of_hre = yes }
			factor = 0.7
		}
		modifier = {
			emperor = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					truce_with = ROOT
					war_with = ROOT
					NOT = { religion = ROOT }
				}
				war_score = 10
			}
			NOT = { has_country_flag = league_support }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					is_rival = ROOT
					is_enemy = ROOT
					truce_with = ROOT
					war_with = ROOT
					NOT = { religion = ROOT }
				}
				war_score = 50
			}
			NOT = { has_country_flag = league_support_again }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					overlord_of = ROOT
					is_subject_of = ROOT
					AND = {
						religion = ROOT
						ROOT = { government = theocracy }
					}
				}
				NOT = { war_score = -9 }
			}
			NOT = { has_country_flag = league_support }
			factor = 0.3
		}
		modifier = {
			emperor = {
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					overlord_of = ROOT
					is_subject_of = ROOT
					AND = {
						religion = ROOT
						ROOT = { government = theocracy }
					}
				}
				NOT = { war_score = -49 }
			}
			NOT = { has_country_flag = league_support_again }
			factor = 0.3
		}
	}
	
	immediate = {
		if = {
			limit = { has_country_flag = league_support }
			set_country_flag = league_support_again
		}
		set_country_flag = league_support
		if = {
			limit = { capital_scope = { is_part_of_hre = yes } }
			custom_tooltip = dg_leagues.012.hre
		}
		if = {
			limit = { capital_scope = { is_part_of_hre = no } }
			custom_tooltip = dg_leagues.011.outsider
		}
	}
	
	option = {
		name = dg_leagues.011.a #Look on with interest
		ai_chance = {
			factor = 55
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.60
				factor = 0.5
			}
			modifier = {
				OR = {
					religion = catholic
					religion = reformed
					religion = protestant
				}
				piety = 0.20
				factor = 0.5
			}
			modifier = {
				NOT = { religion = catholic }
				NOT = { religion = reformed }
				NOT = { religion = protestant }
				factor = 2
			}
			modifier = {
				is_at_war = yes
				factor = 2
			}
			modifier = {
				war_exhaustion = 4
				factor = 1.4
			}
			modifier = {
				war_exhaustion = 8
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.10 }
				factor = 1.4
			}
			modifier = {
				num_of_loans = 2
				factor = 1.4
			}
			modifier = {
				num_of_loans = 4
				factor = 1.4
			}
			modifier = {
				num_of_loans = 6
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 2
			}
		}
	}
	option = {
		name = dg_leagues.011.c #Send support to the rebels
		ai_chance = {
			factor = 20
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 0
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 0.5
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 3
			}
			modifier = {
				emperor = { war_score = 10 }
				factor = 2
			}
			modifier = {
				emperor = { war_score = 50 }
				factor = 2
			}
		}
		if = {
			limit = { hre_heretic_religion = ROOT }
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		every_known_country = {
			limit = { in_league = catholic }
			if = {
				limit = { ROOT = { piety = 0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_fanatical }
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_pious }
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_observant }
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				reverse_add_opinion = { who = ROOT modifier = holy_league_decadent }
			}
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				random_known_country = {
					limit = { is_league_leader = yes is_emperor = no }
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
	option = {
		name = dg_leagues.011.e #Send support to the Emperor
		ai_chance = {
			factor = 10
			modifier = {
				emperor = { alliance_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { marriage_with = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { dynasty = ROOT }
				factor = 3
			}
			modifier = {
				emperor = { is_rival = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { is_enemy = ROOT }
				factor = 0.5
			}
			modifier = {
				emperor = { religion = ROOT }
				factor = 3
			}
			modifier = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = ROOT
				}
				factor = 0.5
			}
			modifier = {
				emperor = { NOT = { war_score = -9 } }
				factor = 2
			}
			modifier = {
				emperor = { NOT = { war_score = -49 } }
				factor = 2
			}
		}
		if = {
			limit = { hre_religion = ROOT }
			if = {
				limit = { piety = 0.60 }
				add_prestige = 8
				add_legitimacy = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 6
				add_legitimacy = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 4
				add_legitimacy = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 2
				add_legitimacy = 1
			}
		}
		add_yearly_manpower = -0.10
		if = {
			limit = { monthly_income = 250 }
			add_treasury = -500
		}
		else_if = {
			limit = { monthly_income = 2 }
			add_years_of_income = -0.16
		}
		else = {
			add_treasury = -4
		}
		hidden_effect = {
			if = {
				limit = { NOT = { max_manpower = 2 } }
				emperor = {
					change_variable = { which = crusade_manpower value = 0.1 }
				}
			}
			if = {
				limit = {
					max_manpower = 2
					NOT = { max_manpower = 4 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 4
					NOT = { max_manpower = 8 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.4 }
				}
			}
			if = {
				limit = {
					max_manpower = 8
					NOT = { max_manpower = 16 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 0.8 }
				}
			}
			if = {
				limit = {
					max_manpower = 16
					NOT = { max_manpower = 32 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 1.6 }
				}
			}
			if = {
				limit = {
					max_manpower = 32
					NOT = { max_manpower = 64 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 3.2 }
				}
			}
			if = {
				limit = {
					max_manpower = 64
					NOT = { max_manpower = 128 }
				}
				emperor = {
					change_variable = { which = crusade_manpower value = 6.4 }
				}
			}
			if = {
				limit = { max_manpower = 128 }
				emperor = {
					change_variable = { which = crusade_manpower value = 12.8 }
				}
			}
			if = {
				limit = { NOT = { monthly_income = 5 } }
				emperor = {
					change_variable = { which = crusade_funding value = 4 }
				}
			}
			if = {
				limit = {
					monthly_income = 5
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 10
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 15
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 20
				}
				emperor = {
					change_variable = { which = crusade_funding value = 10 }
				}
			}
			if = {
				limit = {
					monthly_income = 30
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 40
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 60
				}
				emperor = {
					change_variable = { which = crusade_funding value = 20 }
				}
			}
			if = {
				limit = {
					monthly_income = 80
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 100
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 120
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 140
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 160
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 180
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 200
				}
				emperor = {
					change_variable = { which = crusade_funding value = 40 }
				}
			}
			if = {
				limit = {
					monthly_income = 225
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
			if = {
				limit = {
					monthly_income = 250
				}
				emperor = {
					change_variable = { which = crusade_funding value = 50 }
				}
			}
		}
	}
	option = {
		name = dg_leagues.011.f #Join the League against the Emperor
		trigger = {
			emperor = {
				OR = {
					NOT = { religion = ROOT }
					is_rival = ROOT
					is_enemy = ROOT
					war_with = ROOT
					truce_with = ROOT
				}
			}
			is_subject = no
			is_at_war = no
		}
		ai_chance = {
			factor = 10
			modifier = {
				is_part_of_hre = yes
				factor = 2
			}
			modifier = {
				emperor = { NOT = { army_size = ROOT } }
				factor = 2
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.5
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0
			}
			modifier = {
				num_of_loans = 2
				factor = 0.5
			}
			modifier = {
				num_of_loans = 4
				factor = 0
			}
			modifier = {
				emperor = { war_score = 10 }
				factor = 2
			}
			modifier = {
				emperor = { war_score = 50 }
				factor = 2
			}
		}
		if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = catholic
				}
			}
			join_league = catholic
		}
		else_if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = protestant
				}
			}
			join_league = protestant
		}
		else_if = {
			limit = {
				any_known_country = {
					is_league_leader = yes
					is_emperor = no
					religion = reformed
				}
			}
			join_league = reformed
		}
	}
	option = {
		name = dg_leagues.011.g #Join the Emperor against the League
		trigger = {
			OR = {
				hre_religion = ROOT
				emperor = {
					OR = {
						alliance_with = ROOT
						marriage_with = ROOT
						dynasty = ROOT
					}
				}
			}
			is_subject = no
			is_at_war = no
		}
		ai_chance = {
			factor = 5
			modifier = {
				is_part_of_hre = yes
				factor = 2
			}
			modifier = {
				emperor = { NOT = { army_size = ROOT } }
				factor = 2
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.5
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0
			}
			modifier = {
				num_of_loans = 2
				factor = 0.5
			}
			modifier = {
				num_of_loans = 4
				factor = 0
			}
			modifier = {
				emperor = { NOT = { war_score = -9 } }
				factor = 2
			}
			modifier = {
				emperor = { NOT = { war_score = -49 } }
				factor = 2
			}
		}
		if = {
			limit = { hre_religion = protestant }
			join_league = protestant
		}
		else_if = {
			limit = { hre_religion = reformed }
			join_league = reformed
		}
		else_if = {
			limit = { hre_religion = catholic }
			join_league = catholic
		}
		else = {
			if = {
				limit = { emperor = { religion = protestant } }
				join_league = protestant
			}
			else_if = {
				limit = { emperor = { religion = reformed } }
				join_league = reformed
			}
			else_if = {
				limit = { emperor = { religion = catholic } }
				join_league = catholic
			}
		}
	}
	option = {
		name = dg_leagues.011.h #We have to follow our overlord
		trigger = {
			is_subject = yes
			is_at_war = no
		}
		if = {
			limit = { overlord = { in_league = catholic } }
			join_league = catholic
		}
		else_if = {
			limit = { overlord = { in_league = protestant } }
			join_league = protestant
		}
		else_if = {
			limit = { overlord = { in_league = reformed } }
			join_league = reformed
		}
	}
}

country_event = { #15 - Support for the War
	
	id = dg_leagues.015
	title = dg_leagues.015.t
	desc = dg_leagues.015.d
	picture = christian_league_reinforcements_saffron
	
	trigger = {
		OR = {
			is_league_leader = yes
			is_emperor = yes
		}
		is_in_league_war = yes
		OR = {
			check_variable = { which = crusade_funding value = 1 }
			check_variable = { which = crusade_manpower value = 1 }
		}
	}
	
	mean_time_to_happen = { months = 3 }
	
	option = {
		name = dg_leagues.015.a #We are doing God's work
		if = {
			limit = {
				check_variable = { which = crusade_manpower value = 1 }
				NOT = { check_variable = { which = crusade_manpower value = 2 } }
			}
			mercenary_infantry = capital
			add_war_exhaustion = -0.10
			hidden_effect = { change_variable = { which = crusade_manpower value = -1 } }
		}
		if = {
			limit = {
				check_variable = { which = crusade_manpower value = 2 }
				NOT = { check_variable = { which = crusade_manpower value = 4 } }
			}
			capital_scope = { mercenary_infantry = ROOT }
			add_manpower = 1
			add_war_exhaustion = -0.25
			hidden_effect = { change_variable = { which = crusade_manpower value = -2 } }
		}
		if = {
			limit = {
				check_variable = { which = crusade_manpower value = 4 }
				NOT = { check_variable = { which = crusade_manpower value = 8 } }
			}
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			add_manpower = 2
			add_war_exhaustion = -0.5
			hidden_effect = { change_variable = { which = crusade_manpower value = -4 } }
		}
		if = {
			limit = {
				check_variable = { which = crusade_manpower value = 8 }
				NOT = { check_variable = { which = crusade_manpower value = 16 } }
			}
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			add_manpower = 4
			add_war_exhaustion = -1
			hidden_effect = { change_variable = { which = crusade_manpower value = -8 } }
		}
		if = {
			limit = {
				check_variable = { which = crusade_manpower value = 16 }
				NOT = { check_variable = { which = crusade_manpower value = 32 } }
			}
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			add_manpower = 8
			add_war_exhaustion = -2
			hidden_effect = { change_variable = { which = crusade_manpower value = -16 } }
		}
		if = {
			limit = {
				check_variable = { which = crusade_manpower value = 32 }
				NOT = { check_variable = { which = crusade_manpower value = 64 } }
			}
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			add_manpower = 16
			add_war_exhaustion = -4
			hidden_effect = { change_variable = { which = crusade_manpower value = -32 } }
		}
		if = {
			limit = {
				check_variable = { which = crusade_manpower value = 64 }
			}
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_infantry = ROOT }
			capital_scope = { mercenary_cavalry = ROOT }
			add_manpower = 32
			add_war_exhaustion = -8
			hidden_effect = { change_variable = { which = crusade_manpower value = -64 } }
		}
		if = {
			limit = { check_variable = { which = crusade_funding value = 512 } }
			add_treasury = 512
			hidden_effect = { change_variable = { which = crusade_funding value = -512 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 256 } }
			add_treasury = 256
			hidden_effect = { change_variable = { which = crusade_funding value = -256 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 128 } }
			add_treasury = 128
			hidden_effect = { change_variable = { which = crusade_funding value = -128 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 64 } }
			add_treasury = 64
			hidden_effect = { change_variable = { which = crusade_funding value = -64 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 32 } }
			add_treasury = 32
			hidden_effect = { change_variable = { which = crusade_funding value = -32 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 16 } }
			add_treasury = 16
			hidden_effect = { change_variable = { which = crusade_funding value = -16 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 8 } }
			add_treasury = 8
			hidden_effect = { change_variable = { which = crusade_funding value = -8 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 4 } }
			add_treasury = 4
			hidden_effect = { change_variable = { which = crusade_funding value = -4 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 2 } }
			add_treasury = 2
			hidden_effect = { change_variable = { which = crusade_funding value = -2 } }
		}
		else_if = {
			limit = { check_variable = { which = crusade_funding value = 1 } }
			add_treasury = 1
			hidden_effect = { change_variable = { which = crusade_funding value = -1 } }
		}
	}
}

country_event = { #16 - The [Schmalkaldic] War
	
	id = dg_leagues.016
	title = dg_leagues.016.t
	desc = dg_leagues.016.d
	picture = protestant_league_war
	
	trigger = {
		emperor = { is_in_league_war = yes }
		NOT = { has_global_flag = first_league_war }
		OR = {
			AND = {
				ai = no
				is_league_leader = yes
			}
			is_emperor = yes
		}
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		set_global_flag = first_league_war #Never removed
		set_global_flag = league_war #Removed upon peace
		hidden_effect = {
			if = {
				limit = { hre_religion = catholic }
				set_global_flag = hre_leagues_catholic
			}
			if = {
				limit = { hre_religion = protestant }
				set_global_flag = hre_leagues_protestant
			}
			if = {
				limit = { hre_religion = reformed }
				set_global_flag = hre_leagues_reformed
			}
			if = {
				limit = { any_known_country = { in_league = protestant } }
				set_global_flag = hre_leagues_protestant
			}
			if = {
				limit = { any_known_country = { in_league = reformed } }
				set_global_flag = hre_leagues_reformed
			}
			if = {
				limit = { any_known_country = { in_league = catholic } }
				set_global_flag = hre_leagues_catholic
			}
			if = {
				limit = {
					any_known_country = {
						capital_scope = { is_part_of_hre = yes }
						NOT = { num_of_cities = 2 }
						is_emperor = no
						is_elector = no
					}
				}
				random_known_country = {
					limit = {
						capital_scope = { is_part_of_hre = yes }
						NOT = { num_of_cities = 2 }
						is_emperor = no
						is_elector = no
					}
					capital_scope = { save_global_event_target_as = imperial_diet_of_augsburg }
				}
			}
			if = {
				limit = {
					NOT = {
						any_known_country = {
							capital_scope = { is_part_of_hre = yes }
							NOT = { num_of_cities = 2 }
							is_emperor = no
							is_elector = no
						}
					}
				}
				emperor = { capital_scope = { save_global_event_target_as = imperial_diet_of_augsburg } }
			}
		}
	}
	
	option = {
		name = dg_leagues.016.a #Let us decide the fate of the empire
	}
}

country_event = { #17 - The League Wars (1618)
	
	id = dg_leagues.017
	title = dg_leagues.017.t
	desc = dg_leagues.016.d
	picture = protestant_league_war
	
	trigger = {
		emperor = { is_in_league_war = yes }
		OR = {
			AND = {
				ai = no
				is_league_leader = yes
			}
			is_emperor = yes
		}
		has_global_flag = first_league_war
		NOT = { has_global_flag = league_war }
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		set_global_flag = league_war #Removed upon peace
		hidden_effect = {
			emperor = { set_country_flag = league_war_emperor }
			if = {
				limit = { hre_religion = catholic }
				set_global_flag = hre_leagues_catholic
			}
			if = {
				limit = { hre_religion = protestant }
				set_global_flag = hre_leagues_protestant
			}
			if = {
				limit = { hre_religion = reformed }
				set_global_flag = hre_leagues_reformed
			}
			if = {
				limit = { any_country = { in_league = protestant } }
				set_global_flag = hre_leagues_protestant
			}
			if = {
				limit = { any_country = { in_league = reformed } }
				set_global_flag = hre_leagues_reformed
			}
			if = {
				limit = { any_country = { in_league = catholic } }
				set_global_flag = hre_leagues_catholic
			}
			if = {
				limit = {
					any_known_country = {
						capital_scope = { is_part_of_hre = yes }
						NOT = { num_of_cities = 2 }
						is_emperor = no
						is_elector = no
					}
				}
				random_known_country = {
					limit = {
						capital_scope = { is_part_of_hre = yes }
						NOT = { num_of_cities = 2 }
						is_emperor = no
						is_elector = no
					}
					capital_scope = { save_global_event_target_as = imperial_diet_of_augsburg }
				}
			}
			if = {
				limit = {
					NOT = {
						any_known_country = {
							capital_scope = { is_part_of_hre = yes }
							NOT = { num_of_cities = 2 }
							is_emperor = no
							is_elector = no
						}
					}
				}
				emperor = { capital_scope = { save_global_event_target_as = imperial_diet_of_augsburg } }
			}
		}
	}
	
	option = {
		name = dg_leagues.016.a #Let us decide the fate of the empire
	}
}

country_event = { #18 - The Divided Empire
	
	id = dg_leagues.018
	title = dg_leagues.018.t
	desc = dg_leagues.018.d
	picture = protestant_league_war
	
	trigger = {
		is_emperor = yes
		had_global_flag = { flag = leagues_divided_empire days = 7200 }
		hre_leagues_enabled = yes
		is_in_league_war = no
		NOT = { has_global_flag = leagues_peace_of_augsburg }
		OR = {
			NOT = { has_global_flag = leagues_peace_of_westphalia }
			had_global_flag = { flag = leagues_peace_of_westphalia days = 7200 }
		}
		NOT = { has_global_flag = league_war }
	}
	
	mean_time_to_happen = { months = 50 }
	
	option = {
		name = dg_leagues.018.a #Start a league war
		ai_chance = {
			factor = 50
			modifier = {
				is_at_war = yes
				factor = 0.5
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.10 }
				factor = 0
			}
			modifier = {
				war_exhaustion = 4
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 8
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 12
				factor = 0
			}
			modifier = {
				any_ally = { is_league_leader = yes }
				factor = 0
			}
		}
		hidden_effect = {
			if = {
				limit = { ROOT = { religion = catholic } }
				every_country = {
					limit = {
						in_league = catholic
						NOT = { tag = ROOT }
						NOT = { war_with = ROOT }
					}
					create_guarantee = ROOT
				}
			}
			if = {
				limit = { ROOT = { religion = protestant } }
				every_country = {
					limit = {
						in_league = protestant
						NOT = { tag = ROOT }
						NOT = { war_with = ROOT }
					}
					create_guarantee = ROOT
				}
			}
			if = {
				limit = { ROOT = { religion = reformed } }
				every_country = {
					limit = {
						in_league = reformed
						NOT = { tag = ROOT }
						NOT = { war_with = ROOT }
					}
					create_guarantee = ROOT
				}
			}
		}
		random_known_country = {
			limit = { is_league_leader = yes is_emperor = no }
			country_event = { id = dg_leagues.019 }
		}
	}
	option = {
		name = dg_leagues.018.b #Call a diet
		ai_chance = { factor = 30 }
		if = {
			limit = { ROOT = { piety = 0.60 } }
			add_prestige = -20
		}
		else_if = {
			limit = { ROOT = { piety = 0.20 } }
			add_prestige = -15
		}
		else_if = {
			limit = { ROOT = { piety = -0.20 } }
			add_prestige = -10
		}
		else_if = {
			limit = { ROOT = { piety = -0.60 } }
			add_prestige = -5
		}
		set_global_flag = league_war
		hidden_effect = {
			if = {
				limit = {
					any_known_country = {
						capital_scope = { is_part_of_hre = yes }
						NOT = { num_of_cities = 2 }
						is_emperor = no
						is_elector = no
					}
				}
				random_known_country = {
					limit = {
						capital_scope = { is_part_of_hre = yes }
						NOT = { num_of_cities = 2 }
						is_emperor = no
						is_elector = no
					}
					capital_scope = { save_global_event_target_as = imperial_diet_of_augsburg }
				}
			}
			if = {
				limit = {
					NOT = {
						any_known_country = {
							capital_scope = { is_part_of_hre = yes }
							NOT = { num_of_cities = 2 }
							is_emperor = no
							is_elector = no
						}
					}
				}
				emperor = { capital_scope = { save_global_event_target_as = imperial_diet_of_augsburg } }
			}
		}
	}
	option = {
		name = dg_leagues.018.c #Delay
		ai_chance = { factor = 10 }
		add_dip_power = -25
	}
}

country_event = { #19 - League War Declared
	
	id = dg_leagues.019
	title = dg_leagues.019.t
	desc = dg_leagues.019.d
	picture = protestant_league_war
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = dg_leagues.019.a
		declare_war_with_cb = {
			who = FROM
			casus_belli = cb_religious_league_minor
		}
		set_global_flag = league_war
	}
}

#########
# Peace # 20s
#########

country_event = { #21 - The Peace of [Augsburg]
	
	id = dg_leagues.021
	title = dg_leagues.021.t
	desc = dg_leagues.021.d
	picture = protestant_league_surrender
	
	trigger = {
		is_emperor = yes
		has_global_flag = league_war
		is_in_league_war = no
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = dg_leagues.021.a
		clr_global_flag = league_war
		clr_global_flag = leagues_divided_empire
		set_global_flag = leagues_peace_of_augsburg
		hidden_effect = {
			if = {
				limit = { hre_religion = catholic }
				set_global_flag = hre_leagues_catholic
			}
			if = {
				limit = { hre_religion = protestant }
				set_global_flag = hre_leagues_protestant
			}
			if = {
				limit = { hre_religion = reformed }
				set_global_flag = hre_leagues_reformed
			}
			if = {
				limit = { any_country = { in_league = protestant } }
				set_global_flag = hre_leagues_protestant
			}
			if = {
				limit = { any_country = { in_league = reformed } }
				set_global_flag = hre_leagues_reformed
			}
			if = {
				limit = { any_country = { in_league = catholic } }
				set_global_flag = hre_leagues_catholic
			}
			enable_hre_leagues = no
			if = {
				limit = {
					has_global_flag = fourth_league_war
					NOT = { has_global_flag = fifth_league_war }
				}
				set_global_flag = fifth_league_war
			}
			if = {
				limit = {
					has_global_flag = third_league_war
					NOT = { has_global_flag = fourth_league_war }
				}
				set_global_flag = fourth_league_war
			}
			if = {
				limit = {
					has_global_flag = second_league_war
					NOT = { has_global_flag = third_league_war }
				}
				set_global_flag = third_league_war
			}
			if = {
				limit = {
					has_global_flag = first_league_war_ended
					NOT = { has_global_flag = second_league_war }
				}
				set_global_flag = second_league_war
			}
			if = {
				limit = { NOT = { has_global_flag = first_league_war } }
				set_global_flag = first_league_war_ended
			}
			save_global_event_target_as = imperial_edict_of_augsburg
			every_country = {
				limit = {
					OR = {
						capital_scope = { is_part_of_hre = yes }
						is_elector = yes
						is_emperor = yes
					}
				}
				set_variable = { which = imperial_votes value = 1 }
				if = {
					limit = {
						OR = {
							is_elector = yes
							is_emperor = yes
						}
					}
					change_variable = { which = imperial_votes value = 3 }
					if = {
						limit = {
							OR = {
								hre_size = 20
								NOT = { num_of_electors = 9 }
							}
						}
						change_variable = { which = imperial_votes value = 1 }
						if = {
							limit = {
								OR = {
									hre_size = 30
									NOT = { num_of_electors = 8 }
								}
							}
							change_variable = { which = imperial_votes value = 1 }
							if = {
								limit = {
									OR = {
										hre_size = 40
										NOT = { num_of_electors = 7 }
									}
								}
								change_variable = { which = imperial_votes value = 1 }
								if = {
									limit = {
										OR = {
											hre_size = 50
											NOT = { num_of_electors = 6 }
										}
									}
									change_variable = { which = imperial_votes value = 1 }
									if = {
										limit = {
											OR = {
												hre_size = 60
												NOT = { num_of_electors = 5 }
											}
										}
										change_variable = { which = imperial_votes value = 1 }
										if = {
											limit = {
												OR = {
													hre_size = 70
													NOT = { num_of_electors = 4 }
												}
											}
											change_variable = { which = imperial_votes value = 1 }
											if = {
												limit = {
													OR = {
														hre_size = 80
														NOT = { num_of_electors = 3 }
													}
												}
												change_variable = { which = imperial_votes value = 1 }
												if = {
													limit = {
														OR = {
															hre_size = 90
															NOT = { num_of_electors = 2 }
														}
													}
													change_variable = { which = imperial_votes value = 1 }
												}
											}
										}
									}
								}
							}
						}
					}
				}
				if = {
					limit = { is_emperor = yes }
					change_variable = { which = imperial_votes value = 3 }
					if = {
						limit = { hre_reform_level = 1 }
						change_variable = { which = imperial_votes value = 3 }
						if = {
							limit = { hre_reform_level = 2 }
							change_variable = { which = imperial_votes value = 3 }
							if = {
								limit = { hre_reform_level = 3 }
								change_variable = { which = imperial_votes value = 3 }
								if = {
									limit = { hre_reform_level = 4 }
									change_variable = { which = imperial_votes value = 3 }
									if = {
										limit = { hre_reform_level = 5 }
										change_variable = { which = imperial_votes value = 3 }
										if = {
											limit = { hre_reform_level = 6 }
											change_variable = { which = imperial_votes value = 3 }
											if = {
												limit = { hre_reform_level = 7 }
												change_variable = { which = imperial_votes value = 3 }
											}
										}
									}
								}
							}
						}
					}
					if = {
						limit = {
							NOT = { has_country_flag = league_war_emperor }
							any_known_country = { has_country_flag = league_war_emperor NOT = { religion = ROOT } }
						}
						set_variable = { which = imperial_votes_opposite which = imperial_votes }
						set_variable = { which = imperial_votes value = 1 }
					}
					every_country = { clr_country_flag = league_war_emperor }
				}
			}
		}
		hidden_effect = {
			every_country = {
				limit = {
					check_variable = { which = imperial_votes value = 1 }
				}
				if = {
					limit = {
						is_elector = no
						is_subject_other_than_tributary_trigger = no
						is_emperor = no
					}
					country_event = { id = dg_leagues.022 days = 30 }
				}
				if = {
					limit = {
						is_elector = yes
						is_subject_other_than_tributary_trigger = no
						is_emperor = no
					}
					country_event = { id = dg_leagues.022 days = 90 }
				}
				if = {
					limit = {
						is_subject_other_than_tributary_trigger = yes
						is_emperor = no
					}
					country_event = { id = dg_leagues.022 days = 150 }
				}
				if = {
					limit = { is_emperor = yes }
					country_event = { id = dg_leagues.022 days = 200 }
				}
			}
		}
	}
}

country_event = { #22 - The Peace of [Augsburg]
	
	id = dg_leagues.022
	title = dg_leagues.021.t
	desc = dg_leagues.021.d
	picture = protestant_league_surrender
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = imperial_diet_voted_religion
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_protestant
			}
			custom_tooltip = vote_standings_cath_prot
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_reformed
			}
			custom_tooltip = vote_standings_cath_ref
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_reformed
				has_global_flag = hre_leagues_protestant
			}
			custom_tooltip = vote_standings_ref_prot
		}
		if = {
			limit = {
				is_elector = no
				is_emperor = no
			}
			custom_tooltip = how_vote_member
		}
		if = {
			limit = {
				OR = {
					is_emperor = yes
					is_elector = yes
				}
			}
			custom_tooltip = how_vote_elector
		}
	}
	
	option = {
		name = dg_leagues.022.a #Catholic
		trigger = {
			OR = {
				hre_religion = catholic
				any_known_country = {
					religion = catholic
					hre_heretic_religion = PREV
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				emperor = {
					religion = catholic
					truce_with = ROOT
					NOT = { religion = ROOT }
					NOT = { overlord_of = ROOT }
				}
				factor = 0
			}
			modifier = {
				in_league = catholic
				factor = 2
			}
			modifier = {
				NOT = { religion = catholic }
				factor = 0.25
			}
			modifier = {
				overlord = { OR = { religion = protestant religion = reformed } }
				factor = 0
			}
			modifier = {
				overlord = { religion = catholic }
				factor = 2
			}
			modifier = {
				is_force_converted = yes
				NOT = { religion = catholic }
				is_free_or_tributary_trigger = yes
				factor = 0
			}
		}
		hidden_effect = {
			event_target:imperial_diet_of_augsburg = {
				set_variable = { which = imperial_votes which = PREV }
				change_variable = { which = imperial_vote_religion_catholic which = imperial_votes }
				change_variable = { which = imperial_vote_religion which = imperial_votes }
				set_variable = { which = imperial_votes value = 0 }
				ROOT = { set_variable = { which = imperial_votes value = 0 } }
			}
		}
		hidden_effect = {
			if = {
				limit = { is_emperor = yes }
				if = {
					limit = { check_variable = { which = imperial_votes_opposite value = 1 } }
					if = {
						limit = { hre_heretic_religion = catholic }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_catholic which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = protestant }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_protestant which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = reformed }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_reformed which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
				}
				country_event = { id = dg_leagues.026 days = 1 }
			}
		}
	}
	option = {
		name = dg_leagues.022.b #Protestant
		trigger = {
			OR = {
				hre_religion = protestant
				any_known_country = {
					religion = protestant
					hre_heretic_religion = PREV
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				emperor = {
					religion = protestant
					truce_with = ROOT
					NOT = { religion = ROOT }
					NOT = { overlord_of = ROOT }
				}
				factor = 0
			}
			modifier = {
				in_league = protestant
				factor = 2
			}
			modifier = {
				NOT = { religion = protestant }
				factor = 0.25
			}
			modifier = {
				overlord = { OR = { religion = catholic religion = reformed } }
				factor = 0
			}
			modifier = {
				overlord = { religion = protestant }
				factor = 2
			}
			modifier = {
				is_force_converted = yes
				NOT = { religion = protestant }
				is_free_or_tributary_trigger = yes
				factor = 0
			}
		}
		hidden_effect = {
			event_target:imperial_diet_of_augsburg = {
				set_variable = { which = imperial_votes which = PREV }
				change_variable = { which = imperial_vote_religion_protestant which = imperial_votes }
				change_variable = { which = imperial_vote_religion which = imperial_votes }
				set_variable = { which = imperial_votes value = 0 }
				ROOT = { set_variable = { which = imperial_votes value = 0 } }
			}
		}
		hidden_effect = {
			if = {
				limit = { is_emperor = yes }
				if = {
					limit = { check_variable = { which = imperial_votes_opposite value = 1 } }
					if = {
						limit = { hre_heretic_religion = catholic }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_catholic which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = protestant }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_protestant which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = reformed }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_reformed which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
				}
				country_event = { id = dg_leagues.026 days = 1 }
			}
		}
	}
	option = {
		name = dg_leagues.022.c #Reformed
		trigger = {
			OR = {
				hre_religion = reformed
				any_known_country = {
					religion = reformed
					hre_heretic_religion = PREV
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				emperor = {
					religion = reformed
					truce_with = ROOT
					NOT = { religion = ROOT }
					NOT = { overlord_of = ROOT }
				}
				factor = 0
			}
			modifier = {
				in_league = reformed
				factor = 2
			}
			modifier = {
				NOT = { religion = reformed }
				factor = 0.25
			}
			modifier = {
				overlord = { OR = { religion = protestant religion = catholic } }
				factor = 0
			}
			modifier = {
				overlord = { religion = reformed }
				factor = 2
			}
			modifier = {
				is_force_converted = yes
				NOT = { religion = reformed }
				is_free_or_tributary_trigger = yes
				factor = 0
			}
		}
		hidden_effect = {
			event_target:imperial_diet_of_augsburg = {
				set_variable = { which = imperial_votes which = PREV }
				change_variable = { which = imperial_vote_religion_reformed which = imperial_votes }
				change_variable = { which = imperial_vote_religion which = imperial_votes }
				set_variable = { which = imperial_votes value = 0 }
				ROOT = { set_variable = { which = imperial_votes value = 0 } }
			}
		}
		hidden_effect = {
			if = {
				limit = { is_emperor = yes }
				if = {
					limit = { check_variable = { which = imperial_votes_opposite value = 1 } }
					if = {
						limit = { hre_heretic_religion = catholic }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_catholic which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = protestant }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_protestant which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = reformed }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_reformed which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
				}
				country_event = { id = dg_leagues.026 days = 1 }
			}
		}
	}
	option = {
		name = dg_leagues.022.e #Toleration
		ai_chance = {
			factor = 10
			modifier = {
				has_global_flag = fifth_league_war
				factor = 2
			}
			modifier = {
				has_global_flag = fourth_league_war
				factor = 2
			}
			modifier = {
				has_global_flag = third_league_war
				factor = 2
			}
			modifier = {
				NOT = { has_global_flag = second_league_war }
				OR = {
					hre_religion = ROOT
					hre_heretic_religion = ROOT
				}
				factor = 0
			}
			modifier = {
				overlord = { OR = { religion = catholic religion = protestant religion = reformed } }
				factor = 0.2
			}
			modifier = {
				is_force_converted = yes
				OR = {
					AND = {
						religion = protestant
						OR = {
							hre_religion = ROOT
							hre_heretic_religion = ROOT
						}
					}
					AND = {
						religion = catholic
						OR = {
							hre_religion = ROOT
							hre_heretic_religion = ROOT
						}
					}
					AND = {
						religion = reformed
						OR = {
							hre_religion = ROOT
							hre_heretic_religion = ROOT
						}
					}
				}
				is_free_or_tributary_trigger = yes
				factor = 0
			}
		}
		hidden_effect = {
			event_target:imperial_diet_of_augsburg = {
				set_variable = { which = imperial_votes which = PREV }
				change_variable = { which = imperial_vote_religion_tolerance which = imperial_votes }
				change_variable = { which = imperial_vote_religion which = imperial_votes }
				set_variable = { which = imperial_votes value = 0 }
				ROOT = { set_variable = { which = imperial_votes value = 0 } }
			}
		}
		hidden_effect = {
			if = {
				limit = { is_emperor = yes }
				if = {
					limit = { check_variable = { which = imperial_votes_opposite value = 1 } }
					if = {
						limit = { hre_heretic_religion = catholic }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_catholic which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = protestant }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_protestant which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
					if = {
						limit = { hre_heretic_religion = reformed }
						set_variable = { which = imperial_votes which = imperial_votes_opposite }
						event_target:imperial_diet_of_augsburg = {
							set_variable = { which = imperial_votes which = PREV }
							change_variable = { which = imperial_vote_religion_reformed which = imperial_votes }
							change_variable = { which = imperial_vote_religion which = imperial_votes }
							set_variable = { which = imperial_votes value = 0 }
							ROOT = { set_variable = { which = imperial_votes value = 0 } }
							ROOT = { set_variable = { which = imperial_votes_opposite value = 0 } }
						}
					}
				}
				country_event = { id = dg_leagues.026 days = 1 }
			}
		}
	}
}

country_event = { #26 - Treaty of [Westphalia] (hidden)
	
	id = dg_leagues.026
	title = dg_leagues.026.t
	desc = dg_leagues.026.d
	picture = protestant_league_peace
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = dg_leagues.026.a
		event_target:imperial_diet_of_augsburg = {
			set_variable = { which = imperial_vote_catholic which = imperial_vote_religion_catholic }
			set_variable = { which = imperial_vote_protestant which = imperial_vote_religion_protestant }
			set_variable = { which = imperial_vote_reformed which = imperial_vote_religion_reformed }
			set_variable = { which = imperial_vote_tolerance which = imperial_vote_religion_tolerance }
			#if = {
			#	limit = {
			#		is_variable_equal = {
			#			which = imperial_vote_religion
			#			value = 0
			#		}
			#	}
			#	
			#	# log = "<ERROR><BBF23878><THIS:[This.GetName]><PREV:[Prev.GetName]><ROOT:[Root.GetName]><FROM:[From.GetName]> Division by zero!"
			#	
			#}
			#else = {
				divide_variable = {
					which = imperial_vote_religion_catholic
					which = imperial_vote_religion
				}
			#}
			#if = {
			#	limit = {
			#		is_variable_equal = {
			#			which = imperial_vote_religion
			#			value = 0
			#		}
			#	}
			#	
			#	# log = "<ERROR><1D35C690><THIS:[This.GetName]><PREV:[Prev.GetName]><ROOT:[Root.GetName]><FROM:[From.GetName]> Division by zero!"
			#	
			#}
			#else = {
				divide_variable = {
					which = imperial_vote_religion_protestant
					which = imperial_vote_religion
				}
			#}
			#if = {
			#	limit = {
			#		is_variable_equal = {
			#			which = imperial_vote_religion
			#			value = 0
			#		}
			#	}
			#	
			#	# log = "<ERROR><B79AC730><THIS:[This.GetName]><PREV:[Prev.GetName]><ROOT:[Root.GetName]><FROM:[From.GetName]> Division by zero!"
			#	
			#}
			#else = {
				divide_variable = {
					which = imperial_vote_religion_reformed
					which = imperial_vote_religion
				}
			#}
		}
		clr_global_flag = leagues_peace_of_augsburg
		set_global_flag = leagues_peace_of_westphalia
		hidden_effect = { treaty_of_westphalia_effect = yes }
		if = {
			limit = {
				event_target:imperial_diet_of_augsburg = {
					check_variable = { which = imperial_vote_religion_catholic value = 0.65 }
				}
			}
			every_country = {
				limit = {
					OR = {
						capital_scope = { is_part_of_hre = yes }
						is_elector = yes
						is_emperor = yes
						AND = {
							ai = no
							has_country_flag = religious_news_major
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 100 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_trivial
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 200 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_all
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 400 } }
							}
						}
					}
				}
				set_hre_religion = catholic
				set_hre_religion_locked = yes
				enable_hre_leagues = no
				if = {
					limit = { emperor = { religion = catholic } }
					country_event = { id = dg_leagues.031 days = 1 } #Will of the Emperor
				}
				if = {
					limit = { emperor = { NOT = { religion = catholic } } }
					country_event = { id = dg_leagues.033 days = 1 } #Triumph of the League
				}
			}
		}
		if = {
			limit = {
				event_target:imperial_diet_of_augsburg = {
					check_variable = { which = imperial_vote_religion_protestant value = 0.65 }
				}
			}
			every_country = {
				limit = {
					OR = {
						capital_scope = { is_part_of_hre = yes }
						is_elector = yes
						is_emperor = yes
						AND = {
							ai = no
							has_country_flag = religious_news_major
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 100 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_trivial
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 200 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_all
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 400 } }
							}
						}
					}
				}
				set_hre_religion = protestant
				set_hre_religion_locked = yes
				enable_hre_leagues = no
				if = {
					limit = { emperor = { religion = protestant } }
					country_event = { id = dg_leagues.031 days = 1 } #Will of the Emperor
				}
				if = {
					limit = { emperor = { NOT = { religion = protestant } }	}
					country_event = { id = dg_leagues.033 days = 1 } #Triumph of the League
				}
			}
		}
		if = {
			limit = {
				event_target:imperial_diet_of_augsburg = {
					check_variable = { which = imperial_vote_religion_reformed value = 0.65 }
				}
			}
			every_country = {
				limit = {
					OR = {
						capital_scope = { is_part_of_hre = yes }
						is_elector = yes
						is_emperor = yes
						AND = {
							ai = no
							has_country_flag = religious_news_major
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 100 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_trivial
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 200 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_all
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 400 } }
							}
						}
					}
				}
				if = { limit = { NOT = { is_religion_enabled = reformed } }
					hidden_effect = {
						enable_religion = reformed
					}
				}
				set_hre_religion = reformed
				set_hre_religion_locked = yes
				enable_hre_leagues = no
				if = {
					limit = { emperor = { religion = reformed } }
					country_event = { id = dg_leagues.031 days = 1 } #Will of the Emperor
				}
				if = {
					limit = { emperor = { NOT = { religion = reformed } } }
					country_event = { id = dg_leagues.033 days = 1 } #Triumph of the League
				}
			}
		}
		if = {
			limit = {
				event_target:imperial_diet_of_augsburg = {
					OR = {
						check_variable = { which = imperial_vote_religion_catholic value = 0.50 }
						check_variable = { which = imperial_vote_religion_protestant value = 0.50 }
						check_variable = { which = imperial_vote_religion_reformed value = 0.50 }
					}
					NOT = { check_variable = { which = imperial_vote_religion_catholic value = 0.65 } }
					NOT = { check_variable = { which = imperial_vote_religion_protestant value = 0.65 } }
					NOT = { check_variable = { which = imperial_vote_religion_reformed value = 0.65 } }
				}
			}
			set_hre_religion_treaty = no
			enable_hre_leagues = no
			every_country = {
				limit = {
					OR = {
						capital_scope = { is_part_of_hre = yes }
						is_elector = yes
						is_emperor = yes
						AND = {
							ai = no
							has_country_flag = religious_news_major
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 100 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_trivial
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 200 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_all
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 400 } }
							}
						}
					}
				}
				country_event = { id = dg_leagues.032 days = 1 } #Status Quo
			}
		}
		if = {
			limit = {
				event_target:imperial_diet_of_augsburg = {
					NOT = { check_variable = { which = imperial_vote_religion_catholic value = 0.50 } }
					NOT = { check_variable = { which = imperial_vote_religion_protestant value = 0.50 } }
					NOT = { check_variable = { which = imperial_vote_religion_reformed value = 0.50 } }
				}
			}
			set_hre_religion_treaty = yes
			enable_hre_leagues = no
			every_country = {
				limit = {
					OR = {
						capital_scope = { is_part_of_hre = yes }
						is_elector = yes
						is_emperor = yes
						AND = {
							ai = no
							has_country_flag = religious_news_major
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 100 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_trivial
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 200 } }
							}
						}
						AND = {
							ai = no
							has_country_flag = religious_news_all
							any_known_country = {
								capital_scope = { is_part_of_hre = yes }
								NOT = { border_distance = { who = ROOT distance = 400 } }
							}
						}
					}
				}
				country_event = { id = dg_leagues.034 days = 1 } #The Empire Divided
			}
		}
	}
}

country_event = { #31 - Will of the Emperor (news)
	
	id = dg_leagues.031
	title = dg_leagues.031.t
	desc = dg_leagues.031.d
	picture = protestant_league_surrender
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_prot_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_reformed
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_ref
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_ref_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_reformed
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_ref_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_ref_prot_only
			}
		}
		custom_tooltip = dg_leagues.031.not_over_yet
		hidden_effect = {
			set_variable = { which = imperial_votes value = 0 }
			clr_country_flag = imperial_diet_voted_religion
			country_event = { id = dg_leagues.035 days = 180 } #enough time to see the results
		}
		if = {
			limit = {
				hre_religion = catholic
				hre_religion_locked = yes
			}
			tooltip = {
				set_hre_religion = catholic
				set_hre_religion_locked = yes
			}
		}
		if = {
			limit = {
				hre_religion = protestant
				hre_religion_locked = yes
			}
			tooltip = {
				set_hre_religion = protestant
				set_hre_religion_locked = yes
			}
		}
		if = {
			limit = {
				hre_religion = reformed
				hre_religion_locked = yes
			}
			tooltip = {
				set_hre_religion = reformed
				set_hre_religion_locked = yes
			}
		}
	}
	
	option = {
		name = dg_leagues.031.good
		trigger = { hre_religion = ROOT }
		if = {
			limit = { is_emperor = yes }
			add_imperial_influence = 100
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = 40
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = 30
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = 20
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = 10
			}
		}
		if = {
			limit = {
				is_emperor = no
				capital_scope = { is_part_of_hre = yes }
			}
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = 20
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = 15
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = 10
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = 5
			}
		}
	}
	option = {
		name = dg_leagues.031.bad
		trigger = {
			NOT = { hre_religion = ROOT }
			OR = {
				AND = {
					religion = catholic
					has_global_flag = hre_leagues_catholic
				}
				AND = {
					religion = protestant
					has_global_flag = hre_leagues_protestant
				}
				AND = {
					religion = reformed
					has_global_flag = hre_leagues_reformed
				}
			}
		}
		if = {
			limit = { is_emperor = yes }
			add_imperial_influence = -100
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = -40
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = -30
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = -20
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = -10
			}
		}
		if = {
			limit = {
				is_emperor = no
				capital_scope = { is_part_of_hre = yes }
			}
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = -20
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = -15
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = -10
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = -5
			}
		}
	}
	option = {
		name = dg_leagues.031.neutral
		trigger = {
			NOT = { hre_religion = ROOT }
			NOT = {
				OR = {
					AND = {
						religion = catholic
						has_global_flag = hre_leagues_catholic
					}
					AND = {
						religion = protestant
						has_global_flag = hre_leagues_protestant
					}
					AND = {
						religion = reformed
						has_global_flag = hre_leagues_reformed
					}
				}
			}
		}
	}
}

country_event = { #32 - Status Quo
	
	id = dg_leagues.032
	title = dg_leagues.032.t
	desc = dg_leagues.032.d
	picture = protestant_league_peace
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_prot_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_reformed
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_ref
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_ref_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_reformed
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_ref_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_ref_prot_only
			}
		}
		custom_tooltip = dg_leagues.031.not_over_yet
		hidden_effect = {
			set_variable = { which = imperial_votes value = 0 }
			clr_country_flag = imperial_diet_voted_religion
			country_event = { id = dg_leagues.035 days = 180 } #enough time to see the results
		}
		if = {
			limit = {
				hre_religion = catholic
				hre_religion_locked = yes
			}
			tooltip = {
				set_hre_religion = catholic
				set_hre_religion_locked = yes
			}
		}
		if = {
			limit = {
				hre_religion = protestant
				hre_religion_locked = yes
			}
			tooltip = {
				set_hre_religion = protestant
				set_hre_religion_locked = yes
			}
		}
		if = {
			limit = {
				hre_religion = reformed
				hre_religion_locked = yes
			}
			tooltip = {
				set_hre_religion = reformed
				set_hre_religion_locked = yes
			}
		}
	}
	
	option = {
		name = dg_leagues.031.good
		trigger = { hre_religion = ROOT }
		if = {
			limit = { is_emperor = yes }
			add_imperial_influence = 50
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = 20
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = 15
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = 10
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = 5
			}
		}
		if = {
			limit = {
				is_emperor = no
				capital_scope = { is_part_of_hre = yes }
			}
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = 10
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = 7.5
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = 5
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = 2.5
			}
		}
	}
	option = {
		name = dg_leagues.031.bad
		trigger = {
			NOT = { hre_religion = ROOT }
			OR = {
				AND = {
					religion = catholic
					has_global_flag = hre_leagues_catholic
				}
				AND = {
					religion = protestant
					has_global_flag = hre_leagues_protestant
				}
				AND = {
					religion = reformed
					has_global_flag = hre_leagues_reformed
				}
			}
		}
		if = {
			limit = { is_emperor = yes }
			add_imperial_influence = -50
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = -20
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = -15
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = -10
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = -5
			}
		}
		if = {
			limit = {
				is_emperor = no
				capital_scope = { is_part_of_hre = yes }
			}
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = -20
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = -15
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = -10
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = -5
			}
		}
	}
	option = {
		name = dg_leagues.031.neutral
		trigger = {
			NOT = { hre_religion = ROOT }
			NOT = {
				OR = {
					AND = {
						religion = catholic
						has_global_flag = hre_leagues_catholic
					}
					AND = {
						religion = protestant
						has_global_flag = hre_leagues_protestant
					}
					AND = {
						religion = reformed
						has_global_flag = hre_leagues_reformed
					}
				}
			}
		}
	}
}

country_event = { #33 - League Triumphant
	
	id = dg_leagues.033
	title = dg_leagues.033.t
	desc = dg_leagues.033.d
	picture = protestant_league_peace
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_prot_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_reformed
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_ref
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_ref_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_reformed
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_ref_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_ref_prot_only
			}
		}
		custom_tooltip = dg_leagues.031.not_over_yet
		hidden_effect = {
			set_variable = { which = imperial_votes value = 0 }
			clr_country_flag = imperial_diet_voted_religion
			country_event = { id = dg_leagues.035 days = 180 } #enough time to see the results
		}
		if = {
			limit = { hre_religion = catholic }
			tooltip = { set_hre_religion = catholic }
		}
		if = {
			limit = { hre_religion = protestant }
			tooltip = { set_hre_religion = protestant }
		}
		if = {
			limit = { hre_religion = reformed }
			tooltip = { set_hre_religion = reformed }
		}
	}
	
	option = {
		name = dg_leagues.031.good
		trigger = { hre_religion = ROOT }
		if = {
			limit = { is_emperor = yes }
			add_imperial_influence = 100
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = 40
			}
			if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = 30
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = 20
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = 10
			}
		}
		if = {
			limit = {
				is_emperor = no
				capital_scope = { is_part_of_hre = yes }
			}
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = 20
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = 15
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = 10
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = 5
			}
		}
	}
	option = {
		name = dg_leagues.031.bad
		trigger = {
			NOT = { hre_religion = ROOT }
			OR = {
				AND = {
					religion = catholic
					has_global_flag = hre_leagues_catholic
				}
				AND = {
					religion = protestant
					has_global_flag = hre_leagues_protestant
				}
				AND = {
					religion = reformed
					has_global_flag = hre_leagues_reformed
				}
			}
		}
		if = {
			limit = { is_emperor = yes }
			add_imperial_influence = -100
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = -40
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = -30
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = -20
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = -10
			}
		}
		if = {
			limit = {
				is_emperor = no
				capital_scope = { is_part_of_hre = yes }
			}
			if = {
				limit = { ROOT = { piety = 0.60 } }
				add_prestige = -20
			}
			else_if = {
				limit = { ROOT = { piety = 0.20 } }
				add_prestige = -15
			}
			else_if = {
				limit = { ROOT = { piety = -0.20 } }
				add_prestige = -10
			}
			else_if = {
				limit = { ROOT = { piety = -0.60 } }
				add_prestige = -5
			}
		}
	}
	option = {
		name = dg_leagues.031.neutral
		trigger = {
			NOT = { hre_religion = ROOT }
			NOT = {
				OR = {
					AND = {
						religion = catholic
						has_global_flag = hre_leagues_catholic
					}
					AND = {
						religion = protestant
						has_global_flag = hre_leagues_protestant
					}
					AND = {
						religion = reformed
						has_global_flag = hre_leagues_reformed
					}
				}
			}
		}
	}
}

country_event = { #34 - Cuius Regio, Eius Religio
	
	id = dg_leagues.034
	title = dg_leagues.034.t
	desc = dg_leagues.034.d
	picture = protestant_league_peace
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_prot_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_catholic
				has_global_flag = hre_leagues_reformed
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_cath_ref
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_cath_ref_only
			}
		}
		if = {
			limit = {
				has_global_flag = hre_leagues_reformed
				has_global_flag = hre_leagues_protestant
			}
			if = {
				limit = {
					event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } }
				}
				custom_tooltip = vote_results_ref_prot
			}
			if = {
				limit = {
					NOT = { event_target:imperial_diet_of_augsburg = { check_variable = { which = imperial_vote_tolerance value = 1 } } }
				}
				custom_tooltip = vote_results_ref_prot_only
			}
		}
		hidden_effect = {
			set_variable = { which = imperial_votes value = 0 }
			clr_country_flag = imperial_diet_voted_religion
			country_event = { id = dg_leagues.035 days = 180 } #enough time to see the results
		}
		tooltip = { set_hre_religion_treaty = yes }
	}
	
	option = {
		name = dg_leagues.034.bad
		trigger = {
			is_emperor = yes
		}
	}
	option = {
		name = dg_leagues.034.good
		trigger = {
			is_emperor = no
		}
	}
}

country_event = { #35 - Cleanup (hidden)
	
	id = dg_leagues.035
	title = ai_only.t
	desc = ai_only.d
	picture = ai_only
	
	hidden = yes
	
	is_triggered_only = yes
	
	option = {
		name = ai_only.a
		event_target:imperial_diet_of_augsburg = {
			set_variable = { which = imperial_vote_religion value = 0 }
			set_variable = { which = imperial_vote_religion_catholic value = 0 }
			set_variable = { which = imperial_vote_religion_protestant value = 0 }
			set_variable = { which = imperial_vote_religion_reformed value = 0 }
			set_variable = { which = imperial_vote_religion_tolerance value = 0 }
			set_variable = { which = imperial_vote_catholic value = 0 }
			set_variable = { which = imperial_vote_protestant value = 0 }
			set_variable = { which = imperial_vote_reformed value = 0 }
			set_variable = { which = imperial_vote_tolerance value = 0 }
		}
	}
}
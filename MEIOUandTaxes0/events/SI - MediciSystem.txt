#by Marco Dandolo

#Events concerning the rise of the Medici

#0 Welcome message and setup

#Events 1-4: Keeping the Medici in power until the death of Lorenzo

#1 Piero de' Medici
#2 Lorenzo de' Medici
#3 No more Medici
#4 Gonfaloniere election

#Events 5-10: The Medici bank

#5 Founding Medici bank
#6 Plundering Medici bank
#7 Medici notification
#8 Papal dividends
#9 Milan dividends
#10 Venice dividends
#11 Naples dividends

#Events 12-13: Rise of the Medici

#12 No more Gonfaloniere
#13 The Signoria

#Events 14-19: Gonfaloniere events

#14 Popular Gonfaloniere goes against Artisans
#15 Popular Gonfaloniere goes against Merchants
#16 Artisan Gonfaloniere makes unpopular choice
#17 Artisan Gonfaloniere has 'merchant friends'
#18 Merchant Gonfaloniere's son
#19 Merchant Gonfaloniere embezzles money

#Event 20: No war!

#20 Citizens against war
#21 Peace again, citizens calm down

#Events 22-29 Pisan insurrection

#22 Pisan question
#23 Pisan insurrection
#24 Pisa searches help
#25 Pisa questions help
#26 Pisa gains help
#27 Pisa fortifies
#28 Florence wins
#29 Pisa wins
#30 Florence builds channel
#31 Pisa against channel
#32 Florence engages miners
#33 Pisa against miners
#34 Florence bribes fort expert
#35 Pisa loses fort expert
#36 Florence attempt failed
#37 Florence attempt success

#Events 38-40 Advisors

#38 Sandro Botticelli
#39 Pico della Mirandola
#40 La nascità Venere

#Events 41-45 Dante experience (Part I)

#41 Introduction
#42 Nel mezzo del cammin di nostra vita
#43 Per me si va ne la città dolente
#44 Ed ecco verso noi venir per nave
#45 Cosí discesi del cerchio primaio

#Events 46-47 Pazzi and Savonarola by neondt

#46 Pazzi conspiracy
#47 Bonfire of the vanities

#Events 48-50 Siena events

#48 Prior election
#49 Prior has died
#50 Pandolfo Petrucci

#ADDITIONAL EVENTS

#Events 51-52 More florentine flavor

#51 Simonetta Vespucci
#52 Marsilio Ficino

#Events 53-56 More Gonfaloniere events

#53 In times of dire need
#54 Justice does not descend from its own pinnacle
#55 Small projects
#56 Some go and others come

#Events 57-72 Tuscan flavor events

#57 Medici porcelain
#58 Galileo Galilei
#59 The Assayer
#60 The Assayer for other Italians
#61 The Dialogue
#62 Tuscany's reaction
#63 The Trial
#64 The Trial for others
#65 Galileo stays in Tuscany
#66 Luigi Boccherini
#67 Boccherini to Spain
#68 Boccherini in Spain
#69 Giovanni Battista Lulli
#70 Jean Baptiste Lully
#71 Galileo away
#72 Bocherini away

#Events 73-74 No more dividends

#73 Medici bank in crisis
#74 Foreign dynasty

#Events 75-79 Dante experience (Part II)

#75 Quel color che viltà di fuor mi pinse
#76 Vexilla regis prodeunt inferni

#Events 80-83 Medici CoA

#80 The CoA of the house of Medici
#81 A Florentine request
#82 The French King agrees
#83 The French King insulted us
#84 La Signoria

namespace = medici_system

####################################

#Welcome message and setup
country_event = {
	id = medici_system.0
	title = "medici_system.EVTNAME0"
	desc = "medici_system.EVTDESC0"
	picture = MEDICI_COSIMO_eventPicture
	
	fire_only_once = yes
	
	mean_time_to_happen = { months = 1 }
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = italian_power
		NOT = { has_country_flag = giovanni_bicci_medici }
	}
	
	option = {
		name = "medici_system.EVTOPTA0"	#If you want to test a man's character, give him power.
		
		trigger = {
			is_year = 1434
			NOT = { is_year = 1444 }
		}
		
		2530 = {
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
		add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		PAP = {
			add_opinion = {
				who = FIR
				modifier = opinion_flo_medici_bank
			}
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1434
		set_country_flag = medici_system_triggers_active
		set_country_flag = cosimo_medici_in_power
		set_country_flag = Medici_new
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
		
		set_variable = {
			which = "popolo_favor"
			value = 5
		}
		set_variable = {
			which = "artigiani_favor"
			value = 4
		}
		set_variable = {
			which = "mercanti_favor"
			value = 3
		}
		medici_favor_set_effect = yes
	}
	
	option = {
		name = "medici_system.EVTOPTA0"	#If you want to test a man's character, give him power.
		
		trigger = {
			is_year = 1444
			NOT = { is_year = 1460 }
		}
		
		2530 = {
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
		add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		PAP = {
			add_opinion = {
				who = FIR
				modifier = opinion_flo_medici_bank
			}
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1444
		set_country_flag = medici_system_triggers_active
		set_country_flag = cosimo_medici_in_power
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
		
		set_variable = {
			which = "popolo_favor"
			value = 5
		}
		set_variable = {
			which = "artigiani_favor"
			value = 5
		}
		set_variable = {
			which = "mercanti_favor"
			value = 5
		}
		medici_favor_set_effect = yes
	}
	
	option = {
		name = "medici_system.EVTOPTA0"	#If you want to test a man's character, give him power.
		
		trigger = {
			is_year = 1460
			NOT = { is_year = 1465 }
		}
		
		2530 = {
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
		add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		PAP = {
			add_opinion = {
				who = FIR
				modifier = opinion_flo_medici_bank
			}
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1460
		set_country_flag = medici_system_triggers_active
		set_country_flag = cosimo_medici_in_power
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
		
		set_variable = {
			which = "popolo_favor"
			value = 9
		}
		set_variable = {
			which = "artigiani_favor"
			value = 8
		}
		set_variable = {
			which = "mercanti_favor"
			value = 8
		}
		medici_favor_set_effect = yes
	}
	
	option = {
		name = "medici_system.EVTOPTA0"	#If you want to test a man's character, give him power.
		
		trigger = {
			is_year = 1465
			NOT = { is_year = 1470 }
		}
		
		2530 = {
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
		add_opinion = {
			who = PAP
			modifier = opinion_flo_medici_bank
		}
		PAP = {
			add_opinion = {
				who = FIR
				modifier = opinion_flo_medici_bank
			}
		}
		custom_tooltip = medici_system_setup
		custom_tooltip = medici_system_start_1465
		set_country_flag = medici_system_triggers_active
		set_country_flag = piero_medici_in_power
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
		
		set_variable = {
			which = "popolo_favor"
			value = 8
		}
		set_variable = {
			which = "artigiani_favor"
			value = 7
		}
		set_variable = {
			which = "mercanti_favor"
			value = 7
		}
		medici_favor_set_effect = yes
	}
}


###############################
# Keeping the Medici in power #
###############################

#Piero de' Medici
country_event = {
	id = medici_system.1
	title = "medici_system.EVTNAME1"
	desc = "medici_system.EVTDESC1"
	picture = MEDICI_PIERO_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = cosimo_medici_in_power
		NOT = { has_country_flag = piero_medici_in_power }
	}
	
	
	option = {
		name = "medici_system.EVTOPTA1"	#The Medici will stay
		
		ai_chance = {
			factor = 100
		}
		clr_country_flag = cosimo_medici_in_power
		set_country_flag = piero_medici_in_power
		add_republican_tradition = -10
		# add_prestige = -5
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
		define_ruler = {
			name = "Piero de' Medici"
			adm = 3
			dip = 2
			mil = 2
			fixed = yes
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB1"     #Long live the republic
		
		ai_chance = {
			factor = 0
		}
		remove_country_modifier = "medici_system_information"
		clr_country_flag = cosimo_medici_in_power
		add_republican_tradition = 5
		# add_prestige = 5
		custom_tooltip = new_ruler
		custom_tooltip = medici_system_will_be_disabled
		hidden_effect = {
			random_list = {
				33 = {
					define_ruler = { adm = 1 }
				}
				34 = {
					define_ruler = { dip = 1 }
				}
				33 = {
					define_ruler = { mil = 1 }
				}
			}
		}
	}
}

#Lorenzo de' Medici
country_event = {
	id = medici_system.2
	title = "medici_system.EVTNAME2"
	desc = "medici_system.EVTDESC2"
	picture = MEDICI_LORENZO_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = piero_medici_in_power
		NOT = { has_country_flag = lorenzo_medici_in_power }
	}
	
	
	option = {
		name = "medici_system.EVTOPTA2"	#The Medici will stay
		
		ai_chance = {
			factor = 100
		}
		set_country_flag = lorenzo_medici_in_power
		clr_country_flag = piero_medici_in_power
		add_republican_tradition = -10
		# add_prestige = -5
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
		define_ruler = {
			name = "Lorenzo de' Medici"
			adm = 5
			dip = 6
			mil = 3
			fixed = yes
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB2"     #Long live the republic
		
		ai_chance = {
			factor = 0
		}
		remove_country_modifier = "medici_system_information"
		clr_country_flag = piero_medici_in_power
		add_republican_tradition = 5
		# add_prestige = 5
		custom_tooltip = new_ruler
		custom_tooltip = medici_system_will_be_disabled
		hidden_effect = {
			random_list = {
				33 = {
					define_ruler = { adm = 1 }
				}
				34 = {
					define_ruler = { dip = 1 }
				}
				33 = {
					define_ruler = { mil = 1 }
				}
			}
		}
	}
}

#No more Medici
country_event = {
	id = medici_system.3
	title = "medici_system.EVTNAME3"
	desc = "medici_system.EVTDESC3"
	picture = MEDICI_FIRENZE_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_flag = lorenzo_medici_in_power
	}
	
	option = {
		name = "medici_system.EVTOPTA3"     #Long live the republic
		
		remove_country_modifier = "medici_system_information"
		clr_country_flag = lorenzo_medici_in_power
		add_republican_tradition = 5
		# add_prestige = 5
		custom_tooltip = new_ruler
		hidden_effect = {
			random_list = {
				33 = {
					define_ruler = { adm = 1 }
				}
				34 = {
					define_ruler = { dip = 1 }
				}
				33 = {
					define_ruler = { mil = 1 }
				}
			}
		}
	}
}

#Gonfaloniere
country_event = {
	id = medici_system.4
	title = "medici_system.EVTNAME4"
	desc = "medici_system.EVTDESC4"
	picture = MEDICI_PALAZZO_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_country_modifier = "medici_system_information"
	}
	
	immediate = {
		remove_country_modifier = gonfaloniere_popolo
		remove_country_modifier = gonfaloniere_artigiani
		remove_country_modifier = gonfaloniere_mercanti
	}
	
	option = {
		name = "medici_system.EVTOPTA4"     #The people
		add_country_modifier = {
			name = "gonfaloniere_popolo"
			duration = -1
		}
		custom_tooltip = popolo_medium_add
		popolo_favor_medium_add_effect = yes
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
	}
	
	option = {
		name = "medici_system.EVTOPTB4"     #The artisans
		add_country_modifier = {
			name = "gonfaloniere_artigiani"
			duration = -1
		}
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		custom_tooltip = artigiani_medium_add
		artigiani_favor_medium_add_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
	}
	
	option = {
		name = "medici_system.EVTOPTC4"     #The merchants
		add_country_modifier = {
			name = "gonfaloniere_mercanti"
			duration = -1
		}
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		custom_tooltip = mercanti_medium_add
		mercanti_favor_medium_add_effect = yes
	}
	
	option = {
		
		trigger = {
			ai = yes
		}
		
		name = "medici_system.EVTOPTD4"     #The AI has privileges
		ai_chance = {
			factor = 100
		}
	}
}

###################
# The Medici bank #
###################

#Founding Medici bank
country_event = {
	id = medici_system.5
	title = "medici_system.EVTNAME5"
	desc = "medici_system.EVTDESC5"
	picture = MEDICI_FAMILY_eventPicture
	
	is_triggered_only = yes
	
	
	option = {
		name = "medici_system.EVTOPTA5"     #Peace is good for business
		
		add_republican_tradition = 5
		# add_prestige = 1
		add_opinion = {
			who = FROM
			modifier = opinion_flo_medici_bank
		}
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = opinion_flo_medici_bank
			}
		}
		capital_scope = {
			add_province_modifier = {
				name = "provincial_medici_bank"
				duration = -1
			}
		}
	}
}

#Plundering Medici bank
country_event = {
	id = medici_system.6
	title = "medici_system.EVTNAME6"
	desc = "medici_system.EVTDESC6"
	picture = MEDICI_FAMILY_eventPicture
	
	trigger = {
		OR = {
			war_with = FIR
			war_with = TUS
		}
		any_owned_province = {
			has_province_modifier = provincial_medici_bank
		}
		OR = {
			any_known_country = {
				has_country_modifier = "medici_system_information"
			}
			any_known_country = {
				has_country_flag = medici_signoria
			}
		}
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA6"     #War is good for business
		
		add_years_of_income = 0.33
		every_owned_province = {
			remove_province_modifier = provincial_medici_bank
		}
		every_country = {
			limit = {
				OR = {
					has_country_modifier = "medici_system_information"
					has_country_flag = medici_signoria
				}
			}
			country_event = {
				id = medici_system.7
			}
		}
	}
}

#Medici notification
country_event = {
	id = medici_system.7
	title = "medici_system.EVTNAME7"
	desc = "medici_system.EVTDESC7"
	picture = MEDICI_FAMILY_eventPicture
	
	is_triggered_only = yes
	
	
	option = {
		name = "medici_system.EVTOPTA7"     #
		
		# add_prestige = -1
		remove_opinion = {
			who = FROM
			modifier = opinion_flo_medici_bank
		}
		FROM = {
			remove_opinion = {
				who = ROOT
				modifier = opinion_flo_medici_bank
			}
		}
	}
}

#Papal dividends
country_event = {
	id = medici_system.8
	title = "medici_system.EVTNAME8"
	desc = "medici_system.EVTDESC8"
	picture = MEDICI_DIVIDENDS_eventPicture
	
	trigger = {
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		2530 = { has_province_modifier = provincial_medici_bank }
		NOT = { has_country_modifier = yearly_papal_dividends }
		NOT = { has_country_flag = no_medici_dividends }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA8"     #Money is the ressource of our power
		
		trigger = { has_country_modifier = "medici_system_information" }
		
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_papal_dividends"
			duration = 365
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB8"     #A Prince has no time for Merchant's 'business'
		
		trigger = { has_country_flag = medici_signoria }
		
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_papal_dividends"
			duration = 365
		}
	}
}

#Milan dividends
country_event = {
	id = medici_system.9
	title = "medici_system.EVTNAME9"
	desc = "medici_system.EVTDESC9"
	picture = MEDICI_DIVIDENDS_eventPicture
	
	trigger = {
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		104 = { has_province_modifier = provincial_medici_bank }
		NOT = { has_country_modifier = yearly_milan_dividends }
		NOT = { has_country_flag = no_medici_dividends }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA8"     #Money is the ressource of our power
		
		trigger = { has_country_modifier = "medici_system_information" }
		
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_milan_dividends"
			duration = 365
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB8"     #A Prince has no time for Merchant's 'business'
		
		trigger = { has_country_flag = medici_signoria }
		
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_milan_dividends"
			duration = 365
		}
	}
}

#Venice dividends
country_event = {
	id = medici_system.10
	title = "medici_system.EVTNAME10"
	desc = "medici_system.EVTDESC10"
	picture = MEDICI_DIVIDENDS_eventPicture
	
	trigger = {
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		112 = { has_province_modifier = provincial_medici_bank }
		NOT = { has_country_modifier = yearly_venice_dividends }
		NOT = { has_country_flag = no_medici_dividends }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA8"     #Money is the ressource of our power
		
		trigger = { has_country_modifier = "medici_system_information" }
		
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_venice_dividends"
			duration = 365
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB8"     #A Prince has no time for Merchant's 'business'
		
		trigger = { has_country_flag = medici_signoria }
		
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_venice_dividends"
			duration = 365
		}
	}
}

#Naples dividends
country_event = {
	id = medici_system.11
	title = "medici_system.EVTNAME11"
	desc = "medici_system.EVTDESC11"
	picture = MEDICI_DIVIDENDS_eventPicture
	
	trigger = {
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		2531 = { has_province_modifier = provincial_medici_bank }
		NOT = { has_country_modifier = yearly_naples_dividends }
		NOT = { has_country_flag = no_medici_dividends }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA8"     #Money is the ressource of our power
		
		trigger = { has_country_modifier = "medici_system_information" }
		
		add_treasury = 25
		add_country_modifier = {
			name = "yearly_naples_dividends"
			duration = 365
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB8"     #A Prince has no time for Merchant's 'business'
		
		trigger = { has_country_flag = medici_signoria }
		
		add_treasury = 10
		add_country_modifier = {
			name = "yearly_naples_dividends"
			duration = 365
		}
	}
}

######################
# Rise of the Medici #
######################

#No more Gonfaloniere
country_event = {
	id = medici_system.12
	title = "medici_system.EVTNAME12"
	desc = "medici_system.EVTDESC12"
	picture = MEDICI_PALAZZO_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = medici_signoria
	}
	option = {
		name = "EVTOPTA700"	# Current ruler stays
		trigger = {
			has_regency = no
			NOT = { has_ruler_flag = leader_has_been_pushed_out }
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				NOT = { republican_tradition = 25 }
			}
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 50 }
			}
			modifier = {
				factor = 0.5
				NOT = { republican_tradition = 75 }
			}
			modifier = {
				factor = 2.0
				republican_tradition = 90
			}
		}
		custom_tooltip = remains_ruler
		add_scaled_republican_tradition = -10
		hidden_effect = {
			change_variable = { which = ms_var value = 1 }
		}
	}
	option = {
		name = "EVTOPTB700"	# option A
		ai_chance = { factor = 0 }
		define_ruler = {
		}
		hidden_effect = {
			set_variable = { which = ms_var value = 0 }
		}
		clr_country_flag = medici_signoria
	}
	option = {
		name = "EVTOPTC700"	# option B
		ai_chance = { factor = 0 }
		define_ruler = {
		}
		hidden_effect = {
			set_variable = { which = ms_var value = 0 }
		}
		clr_country_flag = medici_signoria
	}
}

#The Signoria
country_event = {
	id = medici_system.13
	title = "medici_system.EVTNAME13"
	desc = "medici_system.EVTDESC13"
	picture = MEDICI_COSIMO_eventPicture
	
	is_triggered_only = yes
	major = yes
	
	trigger = {
		has_dlc = "Dharma"
		has_country_flag = medici_signoria
	}
	
	immediate = {
		administratisation_effect = yes
		if = {
			limit = { NOT = { has_country_modifier = title_4 has_country_modifier = title_5 has_country_modifier = title_6 } }
			change_title_4 = yes
		}
		add_legitimacy = 75
	}
	
	option = {
		trigger = {
			has_country_flag = cosimo_medici_in_power
		}
		name = "medici_system.EVTOPTA13"     #Long live Piero I de Medici
		define_ruler = {
			name = "Piero"
			dynasty = "de' Medici"
			adm = 3
			dip = 2
			mil = 2
			fixed = yes
		}
		define_heir = {
			name = "Lorenzo"
			dynasty = "de' Medici"
			claim = 100
			adm = 5
			dip = 6
			mil = 3
		}
	}
	
	option = {
		trigger = {
			has_country_flag = piero_medici_in_power
		}
		name = "medici_system.EVTOPTB13"     #Long live Lorenzo I de Medici
		define_ruler = {
			name = "Lorenzo"
			dynasty = "de' Medici"
			adm = 5
			dip = 6
			mil = 3
			fixed = yes
		}
		define_heir = {
			name = "Piero"
			dynasty = "de' Medici"
			claim = 100
			adm = 3
			dip = 5
			mil = 4
		}
	}
	
	option = {
		trigger = {
			has_country_flag = lorenzo_medici_in_power
		}
		name = "medici_system.EVTOPTC13"     #Long live Piero II de Medici
		define_ruler = {
			name = "Piero"
			dynasty = "de' Medici"
			adm = 3
			dip = 5
			mil = 4
			fixed = yes
		}
		define_heir = {
			name = "Giuliano"
			dynasty = "de' Medici"
			claim = 100
			adm = 3
			dip = 5
			mil = 4
		}
	}
	
	option = {
		trigger = {
			NOT = { has_country_flag = cosimo_medici_in_power }
			NOT = { has_country_flag = piero_medici_in_power }
			NOT = { has_country_flag = lorenzo_medici_in_power }
		}
		name = "medici_system.EVTOPTA13"     #Long live Piero I de Medici
		define_ruler = {
			dynasty = "de' Medici"
			adm = 3
			dip = 2
			mil = 2
			fixed = yes
		}
		define_heir = {
			dynasty = "de' Medici"
			claim = 100
			adm = 5
			dip = 6
			mil = 3
		}
	}
}

#######################
# Gonfaloniere Events #
#######################

#Popular Gonfaloniere goes against artisans

country_event = {
	id = medici_system.14
	title = "medici_system.EVTNAME14"
	desc = "medici_system.EVTDESC14"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_popolo
		years_of_income = 0.3
	}
	
	mean_time_to_happen = {
		years = 8
		
		modifier = {
			factor = 0.75
			advisor = artist
		}
	}
	
	option = {
		name = "medici_system.EVTOPTA14"		# Let him talk
		ai_chance = { factor = 0 }
		# add_prestige = 10
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB14"		# He should stop
		ai_chance = { factor = 0 }
		# add_prestige = -10
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC14"		# We solve that the Medici way
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -0.25
	}
	option = {
		name = "medici_system.EVTOPTD14"		# True words! Support him.
		ai_chance = { factor = 0 }
		custom_tooltip = popolo_medium_add
		popolo_favor_medium_add_effect = yes
		custom_tooltip = artigiani_medium_sub
		artigiani_favor_medium_sub_effect = yes
	}
}

#Popular Gonfaloniere goes against merchants

country_event = {
	id = medici_system.15
	title = "medici_system.EVTNAME15"
	desc = "medici_system.EVTDESC15"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_popolo
		years_of_income = 0.3
	}
	
	mean_time_to_happen = {
		years = 8
		
		modifier = {
			factor = 0.75
			advisor = trader
		}
	}
	
	option = {
		name = "medici_system.EVTOPTA14"		# Let him talk
		ai_chance = { factor = 0 }
		# add_prestige = 10
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB14"		# He should stop
		ai_chance = { factor = 0 }
		# add_prestige = -10
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC14"		# We solve that the Medici way
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -0.25
	}
	option = {
		name = "medici_system.EVTOPTD14"		# True words! Support him.
		ai_chance = { factor = 0 }
		custom_tooltip = popolo_medium_add
		popolo_favor_medium_add_effect = yes
		custom_tooltip = mercanti_medium_sub
		mercanti_favor_medium_sub_effect = yes
	}
}

#Artisan Gonfaloniere makes unpopular choice

country_event = {
	id = medici_system.16
	title = "medici_system.EVTNAME16"
	desc = "medici_system.EVTDESC16"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_artigiani
		years_of_income = 0.4
	}
	
	mean_time_to_happen = {
		years = 8
		
		modifier = {
			factor = 0.75
			stability = 2
		}
	}
	
	option = {
		name = "medici_system.EVTOPTA16"		# He was right
		ai_chance = { factor = 0 }
		# add_prestige = 10
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		custom_tooltip = mercanti_medium_sub
		mercanti_favor_medium_sub_effect = yes
		custom_tooltip = artigiani_big_add
		artigiani_favor_big_add_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB16"		# He must rethink his politics
		ai_chance = { factor = 0 }
		# add_prestige = -10
		custom_tooltip = popolo_little_add
		popolo_favor_add_effect = yes
		custom_tooltip = mercanti_medium_add
		mercanti_favor_medium_add_effect = yes
		custom_tooltip = artigiani_big_sub
		artigiani_favor_big_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC14"		# We solve that the Medici way
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -0.35
	}
}

#Artisan Gonfaloniere has 'merchant friends'

country_event = {
	id = medici_system.17
	title = "medici_system.EVTNAME17"
	desc = "medici_system.EVTDESC17"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_artigiani
		years_of_income = 0.4
	}
	
	mean_time_to_happen = {
		years = 8
		
		modifier = {
			factor = 0.75
			advisor = trader
		}
	}
	
	option = {
		name = "medici_system.EVTOPTA17"		# ... and?
		ai_chance = { factor = 0 }
		# add_prestige = -10
		custom_tooltip = popolo_big_sub
		popolo_favor_big_sub_effect = yes
		custom_tooltip = mercanti_medium_add
		mercanti_favor_medium_add_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB17"		# That is against the will of the republic!
		ai_chance = { factor = 0 }
		# add_prestige = 10
		custom_tooltip = popolo_big_add
		popolo_favor_big_add_effect = yes
		custom_tooltip = mercanti_medium_sub
		mercanti_favor_medium_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC14"		# We solve that the Medici way
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -0.35
	}
}

#Merchant Gonfaloniere's son

country_event = {
	id = medici_system.18
	title = "medici_system.EVTNAME18"
	desc = "medici_system.EVTDESC18"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_mercanti
		years_of_income = 0.5
	}
	
	mean_time_to_happen = { years = 8 }
	
	option = {
		name = "medici_system.EVTOPTA18"		# The boy just wanted to have some fun
		ai_chance = { factor = 0 }
		# add_prestige = -10
		custom_tooltip = popolo_big_sub
		popolo_favor_big_sub_effect = yes
		custom_tooltip = mercanti_medium_add
		mercanti_favor_medium_add_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB18"		# This scandal will have severe consequences!
		ai_chance = { factor = 0 }
		# add_prestige = 10
		custom_tooltip = popolo_big_add
		popolo_favor_big_add_effect = yes
		custom_tooltip = mercanti_medium_sub
		mercanti_favor_medium_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC18"		# We solve that the Medici way - I'll pay for the costs. Now, go back to work!
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -0.45
	}
}

#Merchant Gonfaloniere embezzles money

country_event = {
	id = medici_system.19
	title = "medici_system.EVTNAME19"
	desc = "medici_system.EVTDESC19"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_mercanti
		years_of_income = 0.5
	}
	
	mean_time_to_happen = {
		years = 8
		
		modifier = {
			factor = 2
			advisor = treasurer
		}
	}
	
	option = {
		name = "medici_system.EVTOPTA19"		# I'm sure that this rumours aren't true
		ai_chance = { factor = 0 }
		# add_prestige = -10
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		custom_tooltip = mercanti_medium_add
		mercanti_favor_add_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB19"		# We will investigate that
		ai_chance = { factor = 0 }
		# add_prestige = 10
		custom_tooltip = popolo_little_add
		popolo_favor_add_effect = yes
		custom_tooltip = artigiani_little_add
		artigiani_favor_add_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC18"		# We solve that the Medici way - I'll pay for the costs. Now, go back to work!
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -0.45
	}
}


#Citizens against war

country_event = {
	id = medici_system.20
	title = "medici_system.EVTNAME20"
	desc = "medici_system.EVTDESC20"
	picture = MEDICI_FIRENZE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		is_at_war = yes
		NOT = { has_country_modifier = anti_medici_sentiment }
		NOT = { war_with = PIS } #hey, it's Florence's main rival!
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA20"		# It's only for the republic!
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_add_effect = yes
		add_country_modifier = {
			name = "anti_medici_sentiment"
			duration = -1
		}
	}
}

#Peace again, citizens calm down

country_event = {
	id = medici_system.21
	title = "medici_system.EVTNAME21"
	desc = "medici_system.EVTDESC21"
	picture = MEDICI_FIRENZE_eventPicture
	
	trigger = {
		has_country_modifier = anti_medici_sentiment
		is_at_war = no
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA21"		# And the favor of the people?
		remove_country_modifier = anti_medici_sentiment
	}
}

######################
# Pisan Insurrection #
######################

#Pisan question

country_event = {
	id = medici_system.22
	title = "medici_system.EVTNAME22"
	desc = "medici_system.EVTDESC22"
	picture = MEDICI_PISA_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		is_at_war = no
		owns = 1380 # Pisa
		controls = 1380
		is_year = 1470
		NOT = { has_global_flag = pisa_question }
		NOT = { has_country_flag = Pisa_Florence_War }
		tag = FIR
		NOT = { exists = PIS }
	}
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = "medici_system.EVTOPTA22"		# Better to have a dead man at the house, than a Pisan at the door.
		set_global_flag = pisa_question
		set_country_flag = pisa_question_denied
		ai_chance = { factor = 100 }
	}
	option = {
		name = "medici_system.EVTOPTB22"		# We should grant them autonomy.
		create_vassal = PIS
		set_global_flag = pisa_question
		ai_chance = { factor = 0 }
	}
}

#Pisan insurrection (tam-tam-tam-TAAM!)

country_event = {
	id = medici_system.23
	title = "medici_system.EVTNAME23"
	desc = "medici_system.EVTDESC23"
	picture = MEDICI_PISA_eventPicture
	
	major = yes
	fire_only_once = yes
	
	trigger = {
		has_global_flag = pisa_question
		has_country_flag = pisa_question_denied
		num_of_cities = 2
		NOT = { has_global_flag = pisan_insurrection }
		NOT = { has_country_flag = Pisa_Florence_War }
		owns = 1380 # Pisa
		controls = 1380
		tag = FIR
		is_year = 1480
		OR = { FIR = { has_truce = yes }
			FIR = { has_country_flag = savonarola_in_florence }
			war_exhaustion = 10
		}
	}
	
	mean_time_to_happen = { months = 3 }
	
	immediate = {
		set_global_flag = pisan_insurrection
		every_province = {
			limit = {
				is_core = PIS
				owned_by = ROOT
			}
			cede_province = PIS
		}
		PIS = {
			define_ruler = {
				name = "Simone"
				dynasty = "Orlandi"
				adm = 2
				dip = 4
				mil = 4
				fixed = yes
			}
		}
		PIS = {
			add_legitimacy = 75
		}
		PIS = {
			infantry = 1380
			infantry = 1380
			cavalry = 1380
		}
	}
	
	option = {
		name = "medici_system.EVTOPTA23"
		declare_war_with_cb = { who = PIS casus_belli = cb_annex }
		ai_chance = {
			factor = 99
		}
	}
	
	option = {
		
		trigger = { has_country_flag = change_tage_no_core }
		name = "medici_system.EVTOPTB23"
		declare_war_with_cb = { who = PIS casus_belli = cb_annex }
		
		ai_chance = {
			factor = 0
		}
	}
}

#Pisa searches help

country_event = {
	id = medici_system.24
	title = "medici_system.EVTNAME24"
	desc = "medici_system.EVTDESC24"
	picture = MEDICI_PISA_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		is_at_war = yes
		owns = 1380 # Pisa
		controls = 1380
		has_global_flag = pisan_insurrection
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA24"		# Do everything we can!
		every_country = {
			limit = {
				OR = {
					primary_culture = lombard
					primary_culture = ligurian
					primary_culture = venetian
					primary_culture = tuscan
					primary_culture = umbrian
					primary_culture = emilian
					primary_culture = romagnol
					primary_culture = piedmontese
				}
				NOT = { tag = FIR }
				NOT = { tag = PIS }
			}
			country_event = {
				id = medici_system.25
			}
		}
	}
}

#Pisa questions help

country_event = {
	id = medici_system.25
	title = "medici_system.EVTNAME25"
	desc = "medici_system.EVTDESC25"
	picture = MEDICI_PISA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA25"		# Help them
		# add_prestige = 5
		add_years_of_income = -0.1
		add_yearly_manpower = -0.05
		PIS = {
			country_event = {
				id = medici_system.26
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				tag = GEN
			}
			modifier = {
				factor = 0.5
				is_at_war = yes
			}
			modifier = {
				factor = 0
				NOT = { years_of_income = 0.1 }
			}
			modifier = {
				factor = 0
				NOT = { manpower = 0.05 }
			}
			modifier = {
				factor = 1.5
				is_at_war = no
			}
			modifier = {
				factor = 1.5
				tag = VEN
			}
			modifier = {
				factor = 1.5
				tag = MLO
			}
			modifier = {
				factor = 2
				tag = SIE
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB25"		# Never
		ai_chance = {
			factor = 50
		}
	}
}

#Pisa gains help

country_event = {
	id = medici_system.26
	title = "medici_system.EVTNAME26"
	desc = "medici_system.EVTDESC26"
	picture = MEDICI_PISA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA26"		# Thanks
		add_treasury = 10
		add_yearly_manpower = 0.05
		1380 = { galley = ROOT }
	}
}

#Pisa fortifies

#Florence wins

country_event = {
	id = medici_system.28
	title = "medici_system.EVTNAME28"
	desc = "medici_system.EVTDESC28"
	picture = MEDICI_PISA_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		is_at_war = no
		owns = 1380 # Pisa
		controls = 1380
		has_global_flag = pisan_insurrection
		tag = FIR
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA28"		# Raze the fort, plunder the city! Pisa shall never return!
		# add_prestige = -10
		add_treasury = 250
		1380 = { remove_core = PIS }
		1415 = { remove_core = PIS }
		1380 = { remove_building = fort_15th }
		#1380 = { }  add_base_tax = -1
		#1380 = { }  add_base_production = -1
		#1380 = { }  add_base_manpower = -1
	}
	option = {
		name = "medici_system.EVTOPTB28"		# Raze the fort, plunder a bit. Same procedure as every year.
		add_treasury = 100
		1380 = { remove_building = fort_15th }
	}
	option = {
		name = "medici_system.EVTOPTC28"		# Exercise leniency
		# add_prestige = 5
	}
}

#Pisa wins

country_event = {
	id = medici_system.29
	title = "medici_system.EVTNAME29"
	desc = "medici_system.EVTDESC29"
	picture = MEDICI_PISA_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		is_at_war = no
		owns = 1380 # Pisa
		controls = 1380
		has_global_flag = pisan_insurrection
		tag = PIS
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA29"		# Viva Pisa! Viva San Ranieri! Viva la libertà!
		merchantisation_effect = yes
		add_republican_tradition = 25
		add_stability_2 = yes
		PIS = { add_core = 1247 }
		PIS = { add_core = 127 }
	}
}

#Florence builds channel

country_event = {
	id = medici_system.30
	title = "medici_system.EVTNAME30"
	desc = "medici_system.EVTDESC30"
	picture = MEDICI_PISA_eventPicture
	
	trigger = {
		is_at_war = yes
		NOT = { owns = 1380 }
		NOT = { controls = 1380 } # Pisa
		NOT = { has_country_modifier = failed_florentine_attempt }
		has_global_flag = pisan_insurrection
		tag = FIR
		1380 = { has_province_modifier = improved_fortifications }
		1380 = { unit_in_siege = yes }
		war_with = PIS
		years_of_income = 1
		manpower = 0.5
		had_global_flag = { flag = pisan_insurrection days = 300 }
	}
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = "medici_system.EVTOPTA30"		# Dig a channel!
		add_yearly_manpower = -0.4
		add_years_of_income = -0.75
		PIS = {
			country_event = {
				id = medici_system.31
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB30"		# That will never work!
	}
}

#Pisa against channel

country_event = {
	id = medici_system.31
	title = "medici_system.EVTNAME31"
	desc = "medici_system.EVTDESC31"
	picture = MEDICI_PISA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		trigger = { manpower = 0.6 }
		name = "medici_system.EVTOPTA31"		# Counter it!
		add_treasury = -10
		add_yearly_manpower = -0.5
		add_war_exhaustion = -2
		FIR = {
			country_event = {
				id = medici_system.36
			}
		}
		ai_chance = { factor = 100 }
	}
	
	option = {
		trigger = {
			NOT = {
				manpower = 0.6
			}
		}
		name = "medici_system.EVTOPTB31"		# We are doomed!
		1380 = { remove_province_modifier = improved_fortifications }
		FIR = {
			country_event = {
				id = medici_system.37
			}
		}
	}
}

#Florence engages miners

country_event = {
	id = medici_system.32
	title = "medici_system.EVTNAME32"
	desc = "medici_system.EVTDESC32"
	picture = MEDICI_PISA_eventPicture
	
	trigger = {
		is_at_war = yes
		NOT = { owns = 1380 } # Pisa
		NOT = { controls = 1380 }
		NOT = { has_country_modifier = failed_florentine_attempt }
		has_global_flag = pisan_insurrection
		tag = FIR
		1380 = { has_siege = yes }
		1380 = { unit_in_siege = yes }
		war_with = PIS
		years_of_income = 1
		manpower = 0.7
		had_global_flag = { flag = pisan_insurrection days = 600 }
	}
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = "medici_system.EVTOPTA32"		# We hire them
		add_yearly_manpower = -0.6
		add_years_of_income = -1
		PIS = {
			country_event = {
				id = medici_system.33
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB30"		# That will never work!
	}
}

#Pisa against miners

country_event = {
	id = medici_system.33
	title = "medici_system.EVTNAME33"
	desc = "medici_system.EVTDESC33"
	picture = MEDICI_PISA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		trigger = { manpower = 0.8 }
		name = "medici_system.EVTOPTA33"		# Counter it!
		add_treasury = -10
		add_yearly_manpower = -0.7
		add_war_exhaustion = -2
		FIR = {
			country_event = {
				id = medici_system.36
			}
		}
		ai_chance = { factor = 100 }
	}
	
	option = {
		trigger = {
			NOT = {
				manpower = 0.8
			}
		}
		name = "medici_system.EVTOPTB33"		# We are doomed!
		FIR = {
			country_event = {
				id = medici_system.37
			}
		}
	}
}

#Florence bribes fort expert

country_event = {
	id = medici_system.34
	title = "medici_system.EVTNAME34"
	desc = "medici_system.EVTDESC34"
	picture = MEDICI_PISA_eventPicture
	
	trigger = {
		is_at_war = yes
		NOT = { owns = 1380 } # Pisa
		NOT = { controls = 1380 }
		NOT = { has_country_modifier = failed_florentine_attempt }
		has_global_flag = pisan_insurrection
		tag = FIR
		1380 = { has_province_modifier = improved_fortifications }
		1380 = { has_siege = yes }
		1380 = { unit_in_siege = yes }
		war_with = PIS
		years_of_income = 2
		had_global_flag = { flag = pisan_insurrection days = 900 }
	}
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = "medici_system.EVTOPTA34"		# Bribe him!
		add_years_of_income = -2
		PIS = {
			country_event = {
				id = medici_system.35
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB30"		# That will never work!
	}
}

#Pisa loses fort expert

country_event = {
	id = medici_system.35
	title = "medici_system.EVTNAME35"
	desc = "medici_system.EVTDESC35"
	picture = MEDICI_PISA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		trigger = { years_of_income = 3 }
		name = "medici_system.EVTOPTA35"		# We will give him more gold than he ever has seen!
		add_years_of_income = -3
		add_war_exhaustion = -2
		FIR = {
			country_event = {
				id = medici_system.36
			}
		}
		ai_chance = { factor = 100 }
	}
	
	option = {
		trigger = {
			NOT = { years_of_income = 3 }
		}
		name = "medici_system.EVTOPTB35"		# We are doomed!
		1380 = { remove_province_modifier = improved_fortifications }
		FIR = {
			country_event = {
				id = medici_system.37
			}
		}
	}
}

#Florence attempt failed

country_event = {
	id = medici_system.36
	title = "medici_system.EVTNAME36"
	desc = "medici_system.EVTDESC36"
	picture = MEDICI_PISA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA36"		# Puttana galera!
		add_war_exhaustion = 3
		add_country_modifier = {
			name = "failed_florentine_attempt"
			duration = 365
		}
	}
}

#Florence attempt success

country_event = {
	id = medici_system.37
	title = "medici_system.EVTNAME37"
	desc = "medici_system.EVTDESC37"
	picture = MEDICI_PISA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA37"		# Viva Firenze!
		# add_prestige = 1
	}
}

############
# Advisors #
############

# Sandro Botticelli
country_event = {
	id = medici_system.38
	title = medici_system.EVTNAME38
	desc = medici_system.EVTDESC38
	picture = MEDICI_BOTTICELLI_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		OR = {
			tag = TUS
			tag = FIR
		}
		is_year = 1470
		owns = 116 # Toscana
		NOT = { is_year = 1510 }
		has_country_flag = patronaged_renaissance_painters
	}
	
	immediate = { set_country_flag = sandro_botticelli }
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = "medici_system.EVTOPTA38"
		define_advisor = {
			type = artist
			name = "Sandro Botticelli"
			location = 116
			skill = 3
			discount = yes
		}
	}
}

# Pico della Mirandola
country_event = {
	id = medici_system.39
	title = medici_system.EVTNAME39
	desc = medici_system.EVTDESC39
	picture = MEDICI_PICO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		OR = {
			tag = TUS
			tag = FIR
		}
		is_year = 1484
		owns = 116 # Toscana
		NOT = { is_year = 1494 }
		has_country_flag = platonic_academy_supported
	}
	
	immediate = { set_country_flag = pico_della_mirandola }
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = "medici_system.EVTOPTA39"
		define_advisor = {
			type = philosopher
			name = "Pico della Mirandola"
			location = 116
			skill = 3
			discount = yes
		}
	}
}

# La nascità di Venere
country_event = {
	id = medici_system.40
	title = medici_system.EVTNAME40
	desc = medici_system.EVTDESC40
	picture = MEDICI_VENERE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		OR = {
			tag = TUS
			tag = FIR
		}
		is_year = 1482
		NOT = { has_country_flag = la_venere }
		has_country_flag = sandro_botticelli
	}
	
	immediate = { set_country_flag = la_venere }
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = medici_system.EVTOPTA40
		# add_prestige = 15
		add_adm_power = 25
		add_dip_power = 25
	}
}

############################
# Dante experience -Part I #
############################

# Introduction
country_event = {
	id = medici_system.41
	title = medici_system.EVTNAME41
	desc = medici_system.EVTDESC41
	picture = BIG_BOOK_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		ai = no
		primary_culture = tuscan
		is_at_war = no
		NOT = {
			adm_republic_trigger = yes
			merchant_trigger = yes
		}
		NOT = { adm = 3 }
		NOT = { dip = 3 }
		NOT = { mil = 3 }
		NOT = { has_country_flag = dante_experience_1 }
		NOT = { dynasty = "Malpazzi" }
	}
	
	immediate = { set_country_flag = dante_experience_1 }
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = medici_system.EVTOPTA41
		# add_prestige = 1
	}
}

# Nel mezzo del cammin di nostra vita
country_event = {
	id = medici_system.42
	title = medici_system.EVTNAME42
	desc = medici_system.EVTDESC42
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_1
		NOT = { has_country_flag = dante_experience_2 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA42
		set_country_flag = dante_experience_2
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB42
		set_country_flag = dante_experience_2
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC42
		set_country_flag = dante_experience_2
		add_mil_power = 3
	}
}

# Per me si va ne la città dolente
country_event = {
	id = medici_system.43
	title = medici_system.EVTNAME43
	desc = medici_system.EVTDESC43
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_2
		NOT = { has_country_flag = dante_experience_3 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA43
		set_country_flag = dante_experience_3
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB43
		set_country_flag = dante_experience_3
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC43
		set_country_flag = dante_experience_3
		add_mil_power = 3
	}
}

# Ed ecco verso noi venir per nave
country_event = {
	id = medici_system.44
	title = medici_system.EVTNAME44
	desc = medici_system.EVTDESC44
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_3
		NOT = { has_country_flag = dante_experience_4 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA44
		set_country_flag = dante_experience_4
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB44
		set_country_flag = dante_experience_4
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC44
		set_country_flag = dante_experience_4
		add_mil_power = 3
	}
}

# Cosí discesi del cerchio primaio ---> continues with medici_system.75
country_event = {
	id = medici_system.45
	title = medici_system.EVTNAME45
	desc = medici_system.EVTDESC45
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_4
		NOT = { has_country_flag = dante_experience_5 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA45
		set_country_flag = dante_experience_5
		add_adm_power = 3
	}
	option = {
		name = medici_system.EVTOPTB45
		set_country_flag = dante_experience_5
		add_dip_power = 3
	}
	option = {
		name = medici_system.EVTOPTC45
		set_country_flag = dante_experience_5
		add_mil_power = 3
	}
}

###################################################################
# Events originally by neondt, changed partially by Marco Dandolo #
###################################################################

#The Pazzi Conspiracy
country_event = {
	id = medici_system.46
	title = "medici_system.EVTNAME46"
	desc = "medici_system.EVTDESC46"
	picture = MEDICI_PALAZZO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		OR = {
			tag = FIR
			tag = TUS
		}
		is_year = 1475
		NOT = { is_year = 1485 }
		OR = {
			has_country_modifier = "medici_system_information" #added
			has_country_flag = medici_signoria #added
		}
	}
	
	mean_time_to_happen = { years = 16 }
	
	option = {
		name = "medici_system.EVTOPTA46"
		subtract_stability_1 = yes
		add_years_of_income = 0.5
		add_republican_tradition = -20
		add_legitimacy = -0.1 #in case of a Signoria
	}
}

#Bonfire of the vanities, added advisor and Pisa insurrection by Marco Dandolo
country_event = {
	id = medici_system.47
	title = "medici_system.EVTNAME47"
	desc = "medici_system.EVTDESC47"
	picture = MEDICI_PALAZZO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		owns = 116 # Toscana
		116 = {
			religion = catholic
		}
		is_year = 1495
		NOT = { is_year = 1500 }
	}
	
	mean_time_to_happen = { months = 26 }
	
	option = {
		name = "medici_system.EVTOPTA47"
		reverse_add_opinion = { who = PAP modifier = opinion_disappointed_pope }
		set_country_flag = savonarola_in_florence
		define_advisor = {
			type = theologian
			name = "Girolamo Savonarola"
			location = 116
			skill = 2
			discount = yes
		}
		ai_chance = { factor = 100 }
	}
	option = {
		name = "medici_system.EVTOPTB47"
		116 = {
			add_province_modifier = {
				name = "fanatics_organizing"
				duration = 7300
			}
			hidden_effect = {
				set_variable = { which = added_unrest value = 20 }
				add_base_unrest = yes
			}
			custom_tooltip = added_unrest_20
		}
		subtract_stability_1 = yes
	}
}

################
# Siena events #
################

#Prior election
country_event = {
	id = medici_system.48
	title = "medici_system.EVTNAME48"
	desc = "medici_system.EVTDESC48"
	picture = MEDICI_SIENA_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			adm_republic_trigger = yes
			merchant_trigger = yes
		}
		tag = SIE
	}
	
	
	option = {
		name = "medici_system.EVTOPTA48"
		define_ruler = {
			name = "del Popolo"
			adm = 3
			dip = 2
			mil = 1
			fixed = yes
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB48"
		define_ruler = {
			name = "dei Artigiani"
			adm = 1
			dip = 3
			mil = 2
			fixed = yes
		}
	}
	
	option = {
		name = "medici_system.EVTOPTC48"
		define_ruler = {
			name = "dei Nobili"
			adm = 2
			dip = 1
			mil = 3
			fixed = yes
		}
	}
}

#Prior has died
country_event = {
	id = medici_system.49
	title = "medici_system.EVTNAME49"
	desc = "medici_system.EVTDESC49"
	picture = MEDICI_SIENA_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			adm_republic_trigger = yes
			merchant_trigger = yes
		}
		tag = SIE
	}
	
	
	option = {
		name = "medici_system.EVTOPTA49"
		change_adm = 1
		change_mil = -1
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				adm = 4
			}
			modifier = {
				factor = 3
				NOT = { adm = 1 }
			}
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB49"
		change_adm = -1
		change_dip = 1
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				dip = 4
			}
			modifier = {
				factor = 3
				NOT = { dip = 1 }
			}
		}
	}
	
	option = {
		name = "medici_system.EVTOPTC49"
		change_dip = -1
		change_mil = 1
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				mil = 4
			}
			modifier = {
				factor = 3
				NOT = { mil = 1 }
			}
		}
	}
}

#Pandolfo Petrucci
#Decision

#####################
# ADDITIONAL EVENTS #
#####################

##########################
# More florentine flavor #
##########################

#Simonetta Vespucci
country_event = {
	id = medici_system.51
	title = "medici_system.EVTNAME51"
	desc = "medici_system.EVTDESC51"
	picture = MEDICI_PALAZZO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = FIR
		is_year = 1470
		NOT = { is_year = 1480 }
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		has_country_modifier = festivating_calcio
		has_country_flag = calcio_betting
		has_country_flag = calcio_ruler_plays_yes
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA51"       #make a move
		# add_prestige = 5
	}
	
	option = {
		name = "medici_system.EVTOPTB51"
		add_papal_influence = 5                #she's married!
	}
}

#Marsilio Ficino
country_event = {
	id = medici_system.52
	title = "medici_system.EVTNAME52"
	desc = "medici_system.EVTDESC52"
	picture = MEDICI_FICINO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = FIR
		is_year = 1457
		NOT = { is_year = 1490 }
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		owns = 116
	}
	
	mean_time_to_happen = { months = 24 }
	
	option = {
		name = "medici_system.EVTOPTA52"       #He is a great man
		# add_prestige = 5
		define_advisor = {
			type = philosopher
			name = "Marsilio Ficino"
			location = 116
			skill = 2
			discount = yes
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB52"
		add_stability_1 = yes                #His philosophic thoughts will stabilize our society
		add_years_of_income = -0.5
		define_advisor = {
			type = philosopher
			name = "Marsilio Ficino"
			location = 116
			skill = 2
			discount = yes
		}
	}
}

############################
# More Gonfaloniere events #
############################

#In times of dire need

country_event = {
	id = medici_system.53
	title = "medici_system.EVTNAME53"
	desc = "medici_system.EVTDESC53"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_artigiani
		years_of_income = 1
	}
	
	mean_time_to_happen = { years = 12 }
	
	option = {
		name = "medici_system.EVTOPTA53"		# Let them pay
		ai_chance = { factor = 0 }
		add_years_of_income = 0.5
		custom_tooltip = artigiani_big_add
		artigiani_favor_big_add_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB53"		# Vice-versa!
		ai_chance = { factor = 0 }
		# add_prestige = -5
		add_years_of_income = -0.5
		custom_tooltip = artigiani_big_sub
		artigiani_favor_big_sub_effect = yes
		custom_tooltip = mercanti_little_add
		mercanti_favor_add_effect = yes
		custom_tooltip = popolo_little_add
		popolo_favor_add_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC14"		# We solve that the Medici way
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -1
	}
}

#Justice does not descend from its own pinnacle

country_event = {
	id = medici_system.54
	title = "medici_system.EVTNAME54"
	desc = "medici_system.EVTDESC54"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		NOT = { has_country_modifier = gonfaloniere_popolo }
		years_of_income = 1
	}
	
	mean_time_to_happen = { years = 12 }
	
	option = {
		name = "medici_system.EVTOPTA54"		# They are only minor guilds. What can happen?
		ai_chance = { factor = 0 }
		custom_tooltip = artigiani_medium_add
		artigiani_favor_medium_add_effect = yes
		custom_tooltip = mercanti_little_add
		mercanti_favor_add_effect = yes
		custom_tooltip = popolo_big_sub
		popolo_favor_big_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB54"		# We must strengthen these minor guilds!
		ai_chance = { factor = 0 }
		custom_tooltip = artigiani_medium_sub
		artigiani_favor_medium_sub_effect = yes
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
		custom_tooltip = popolo_big_add
		popolo_favor_big_add_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC14"		# We solve that the Medici way
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -1
	}
}

#Small projects

country_event = {
	id = medici_system.55
	title = "medici_system.EVTNAME55"
	desc = "medici_system.EVTDESC55"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	trigger = {
		has_country_modifier = "medici_system_information"
		has_country_modifier = gonfaloniere_popolo
		years_of_income = 1
	}
	
	mean_time_to_happen = { years = 12 }
	
	option = {
		name = "medici_system.EVTOPTA55"		# Honestly, I don't see the problem.
		ai_chance = { factor = 0 }
		add_treasury = -100
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		custom_tooltip = mercanti_medium_sub
		mercanti_favor_medium_sub_effect = yes
		custom_tooltip = popolo_big_add
		popolo_favor_big_add_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTB55"		# Don't mess with the elite!
		ai_chance = { factor = 0 }
		# add_prestige = 10
		custom_tooltip = artigiani_little_add
		artigiani_favor_add_effect = yes
		custom_tooltip = mercanti_medium_add
		mercanti_favor_medium_add_effect = yes
		custom_tooltip = popolo_big_sub
		popolo_favor_big_sub_effect = yes
	}
	option = {
		name = "medici_system.EVTOPTC14"		# We solve that the Medici way
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_treasury = -100
		add_years_of_income = -1
	}
}

#Some go and others come

country_event = {
	id = medici_system.56
	title = "medici_system.EVTNAME56"
	desc = "medici_system.EVTDESC56"
	picture = MEDICI_GONFALONIERE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_modifier = "medici_system_information"
	}
	
	mean_time_to_happen = { years = 25 }
	
	option = {
		name = "medici_system.EVTOPTA56"		# Bad...
		ai_chance = { factor = 100 }
		add_treasury = -100
		custom_tooltip = mercanti_little_sub
		mercanti_favor_sub_effect = yes
		country_event = { id = medici_system.4 }
	}
	option = {
		name = "medici_system.EVTOPTB56"		# Even worse!
		ai_chance = { factor = 0 }
		# add_prestige = -10
		custom_tooltip = artigiani_little_sub
		artigiani_favor_sub_effect = yes
		country_event = { id = medici_system.4 }
	}
	option = {
		name = "medici_system.EVTOPTC56"		# Comet sighted?!
		ai_chance = { factor = 0 }
		subtract_stability_1 = yes
		custom_tooltip = popolo_little_sub
		popolo_favor_sub_effect = yes
		country_event = { id = medici_system.4 }
	}
	option = {
		name = "medici_system.EVTOPTD56"		# What about the Medici way...?
		ai_chance = { factor = 0 }
		subtract_stability_1 = yes
		# add_prestige = -10
		add_treasury = -100
		add_years_of_income = -1
	}
}

########################
# Tuscan flavor events #
########################

#Medici porcelain
country_event = {
	id = medici_system.57
	title = "medici_system.EVTNAME57"
	desc = "medici_system.EVTDESC57"
	picture = MEDICI_PALAZZO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		is_year = 1575
		has_discovered = 2121 #Guangzhou
		OR = {
			dynasty = "de' Medici"
			tag = TUS
		}
	}
	
	mean_time_to_happen = { months = 36 }
	
	option = {
		name = "medici_system.EVTOPTA57"       #Invest in it!
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_years_of_income = -3
		add_ruler_modifier = {
			name = "medici_porcelain"
			duration = -1
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB57"
		# add_prestige = -10               #That's too expensive
	}
}

#Galileo Galilei
country_event = {
	id = medici_system.58
	title = medici_system.EVTNAME58
	desc = medici_system.EVTDESC58
	picture = ADVISOR_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		primary_culture = tuscan
		is_year = 1610
		NOT = { is_year = 1642 }
		owns = 116 # Toscana
	}
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = medici_system.EVTOPTA58
		set_country_flag = galileo_galilei_in_tuscany
		define_advisor = {
			type = natural_scientist
			name = "Galileo Galilei"
			location = 116
			skill = 3
			discount = yes
		}
	}
}

#The Assayer
country_event = {
	id = medici_system.59
	title = medici_system.EVTNAME59
	desc = medici_system.EVTDESC59
	picture = COMET_SIGHTED_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		primary_culture = tuscan
		is_year = 1623
		NOT = { is_year = 1642 }
		has_country_flag = galileo_galilei_in_tuscany
		owns = 116 # Toscana
	}
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = medici_system.EVTOPTA59 #Everyone should know it
		ai_chance = { factor = 100 }
		# add_prestige = 5
		add_adm_power = 25
		add_dip_power = 25
		set_country_flag = the_assayer
		every_country = {
			limit = {
				culture_group = latin
				NOT = { tag = ROOT }
			}
			country_event = {
				id = medici_system.60
			}
		}
	}
	option = {
		name = medici_system.EVTOPTB59 #Ignore the Scientist rabble
		add_stability_1 = yes
	}
}

#The Assayer for other italians
country_event = {
	id = medici_system.60
	title = "medici_system.EVTNAME59"
	desc = "medici_system.EVTDESC59"
	picture = COMET_SIGHTED_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA60"     #So... comets are only illusions? Interesting!
		# add_prestige = 1
		add_adm_power = 10
		add_dip_power = 10
		set_country_flag = the_assayer
	}
}

#The Dialogue
country_event = {
	id = medici_system.61
	title = medici_system.EVTNAME61
	desc = medici_system.EVTDESC61
	picture = ACCUSATION_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = PAP
		is_year = 1632
		NOT = { is_year = 1642 }
		has_country_flag = the_assayer
		NOT = { owns = 116 } # Toscana
	}
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = medici_system.EVTOPTA61 #That is heretical!
		ai_chance = { factor = 100 }
		add_stability_1 = yes
		add_papal_influence = 5
		add_dip_power = -10
		# add_prestige = -5
		set_country_flag = galileo_accused
		every_country = {
			limit = {
				has_country_flag = galileo_galilei_in_tuscany
			}
			country_event = {
				id = medici_system.62
			}
		}
	}
	option = {
		name = medici_system.EVTOPTB61 #We must tolerate these false theories
		subtract_stability_1 = yes
		add_papal_influence = -10
		# add_prestige = 5
	}
}

#Tuscany's reaction
country_event = {
	id = medici_system.62
	title = "medici_system.EVTNAME62"
	desc = "medici_system.EVTDESC62"
	picture = POPE_PREACHING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA62"     #The Pope has spoken, he must go to Rome
		ai_chance = { factor = 100 }
		add_papal_influence = 10
		add_opinion = {
			who = PAP
			modifier = opinion_pleased
		}
		PAP = {
			add_opinion = {
				who = ROOT
				modifier = opinion_pleased
			}
		}
		PAP = { country_event = { id = medici_system.63 days = 3 } }
	}
	
	option = {
		name = "medici_system.EVTOPTB62"     #Freedom for Science!
		# add_prestige = 5
		subtract_stability_1 = yes
		add_dip_power = -50
		add_opinion = {
			who = PAP
			modifier = opinion_mildly_displeased
		}
		PAP = {
			add_opinion = {
				who = ROOT
				modifier = opinion_mildly_displeased
			}
		}
		PAP = { country_event = { id = medici_system.65 days = 3 } }
	}
}

#The trial
country_event = {
	id = medici_system.63
	title = "medici_system.EVTNAME63"
	desc = "medici_system.EVTDESC63"
	picture = POPE_PREACHING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA63"     #Condemn his theories
		ai_chance = { factor = 100 }
		add_papal_influence = 10
		set_country_flag = galileo_condemned
		# add_prestige = 10
		add_adm_power = 50
		every_country = {
			limit = {
				culture_group = latin
				NOT = { tag = ROOT }
			}
			country_event = {
				id = medici_system.64
			}
		}
	}
	
	option = {
		name = "medici_system.EVTOPTB63"     #Support his theories
		# add_prestige = 5
		add_dip_power = 50
		subtract_stability_2 = yes
		add_papal_influence = -30
	}
}

#The Trial for others
country_event = {
	id = medici_system.64
	title = "medici_system.EVTNAME64"
	desc = "medici_system.EVTDESC64"
	picture = POPE_PREACHING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA64"     #Galileo is right!
		# add_prestige = 5
		add_adm_power = 5
		add_dip_power = -5
		add_papal_influence = -5
	}
	option = {
		name = "medici_system.EVTOPTB64"     #The Pope is right!
		# add_prestige = -5
		add_adm_power = -5
		add_dip_power = 5
		add_papal_influence = 5
	}
}

#Galileo stays in Tuscany
country_event = {
	id = medici_system.65
	title = "medici_system.EVTNAME65"
	desc = "medici_system.EVTDESC65"
	picture = COMET_SIGHTED_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA65"     #I'm the bloody Pope!
		# add_prestige = -5
		add_casus_belli = {
			target = FROM
			type = cb_insult
			months = 60
		}
	}
}

#Luigi Boccherini
country_event = {
	id = medici_system.66
	title = medici_system.EVTNAME66
	desc = medici_system.EVTDESC66
	picture = ADVISOR_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		culture_group = latin
		is_year = 1756
		NOT = { is_year = 1768 }
		owns = 115 # Lucca
	}
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = medici_system.EVTOPTA66
		set_country_flag = luigi_boccherini
		define_advisor = {
			type = composer
			name = "Luigi Boccherini"
			location = 115
			skill = 2
			discount = yes
		}
	}
}

#Boccherini to Spain
country_event = {
	id = medici_system.67
	title = "medici_system.EVTNAME67"
	desc = "medici_system.EVTDESC67"
	picture = ADVISOR_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		culture_group = latin
		is_year = 1768
		has_country_flag = luigi_boccherini
		exists = SPA
	}
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = "medici_system.EVTOPTA67"     #Bye, bye, Boccherini!
		# add_prestige = 10
		SPA = {
			country_event = {
				id = medici_system.68
			}
		}
		add_opinion = {
			who = SPA
			modifier = opinion_pleased
		}
		SPA = {
			add_opinion = {
				who = ROOT
				modifier = opinion_pleased
			}
		}
	}
}

#Boccherini in Spain
country_event = {
	id = medici_system.68
	title = "medici_system.EVTNAME68"
	desc = "medici_system.EVTDESC68"
	picture = ADVISOR_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA68"     #Do you hear that night music in the streets of Madrid?
		set_country_flag = luigi_boccherini_spain
		# add_prestige = 5
		define_advisor = {
			type = composer
			name = "Luigi Boccherini"
			location = 217
			skill = 3
			discount = yes
		}
	}
}

#Giovanni Battista Lulli
country_event = {
	id = medici_system.69
	title = "medici_system.EVTNAME69"
	desc = "medici_system.EVTDESC69"
	picture = ADVISOR_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		culture_group = latin
		is_year = 1646
		exists = FRA
		owns = 116 # Toscana
	}
	
	mean_time_to_happen = { months = 12 }
	
	option = {
		name = "medici_system.EVTOPTA69"     #Well, they may have the boy
		ai_chance = { factor = 100 }
		# add_prestige = 10
		FRA = {
			country_event = {
				id = medici_system.70
			}
		}
		add_opinion = {
			who = FRA
			modifier = opinion_pleased
		}
		FRA = {
			add_opinion = {
				who = ROOT
				modifier = opinion_pleased
			}
		}
	}
	option = {
		name = "medici_system.EVTOPTB69"     #The boy will stay here
		define_advisor = {
			type = composer
			name = "Giovanni Battista Lulli"
			location = 116
			skill = 2
			discount = yes
		}
		add_opinion = {
			who = FRA
			modifier = opinion_mildly_displeased
		}
		FRA = {
			add_opinion = {
				who = ROOT
				modifier = opinion_mildly_displeased
			}
		}
	}
}

#Jean Baptiste Lully
country_event = {
	id = medici_system.70
	title = "medici_system.EVTNAME70"
	desc = "medici_system.EVTDESC70"
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "medici_system.EVTOPTA70"     #This young man seems to have a bright future
		define_advisor = {
			type = composer
			name = "Jean-Baptiste Lully"
			location = 183
			skill = 3
			discount = yes
		}
	}
}

#Galileo away
country_event = {
	id = medici_system.71
	title = "medici_system.EVTNAME71"
	desc = "medici_system.EVTDESC71"
	picture = ADVISOR_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		PAP = { has_country_flag = galileo_condemned }
		has_country_flag = galileo_galilei_in_tuscany
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA71"     #Oh no!
		# add_prestige = -5
		kill_advisor = natural_scientist
	}
}

#Boccherini away
country_event = {
	id = medici_system.72
	title = "medici_system.EVTNAME72"
	desc = "medici_system.EVTDESC72"
	picture = ADVISOR_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		SPA = { has_country_flag = luigi_boccherini_spain }
		has_country_flag = luigi_boccherini
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA72"     #*sigh*
		kill_advisor = composer
	}
}

#####################
# No more dividends #
#####################

#Medici bank in crisis
country_event = {
	id = medici_system.73
	title = "medici_system.EVTNAME73"
	desc = "medici_system.EVTDESC73"
	picture = MEDICI_FAMILY_eventPicture
	
	trigger = {
		had_country_flag = { flag = medici_signoria days = 3650 }
		adm_republic_trigger = yes
		is_year = 1480
		NOT = { has_country_flag = no_medici_dividends }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA73"     #No more dividends?
		set_country_flag = no_medici_dividends
	}
}

#Foreign dynasty
country_event = {
	id = medici_system.74
	title = "medici_system.EVTNAME74"
	desc = "medici_system.EVTDESC74"
	picture = MEDICI_FAMILY_eventPicture
	
	trigger = {
		OR = {
			has_country_modifier = "medici_system_information"
			has_country_flag = medici_signoria
		}
		government = monarchy
		NOT = { dynasty = "de' Medici" }
		NOT = { has_country_flag = no_medici_dividends }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = "medici_system.EVTOPTA74"     #No more dividends?
		set_country_flag = no_medici_dividends
	}
}

##############################
# Dante Experience - PART II #
##############################

#Quel color che viltà di fuor mi pinse
country_event = {
	id = medici_system.75
	title = medici_system.EVTNAME75
	desc = medici_system.EVTDESC75
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_5
		NOT = { has_country_flag = dante_experience_6 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA75
		set_country_flag = dante_experience_6
		add_adm_power = -3
	}
	option = {
		name = medici_system.EVTOPTB75
		set_country_flag = dante_experience_6
		add_dip_power = -3
	}
	option = {
		name = medici_system.EVTOPTC75
		set_country_flag = dante_experience_6
		add_mil_power = -3
	}
	option = {
		name = medici_system.EVTOPTD75
		set_country_flag = dante_experience_6
		add_adm_power = -1
		add_dip_power = -1
		add_mil_power = -1
	}
}

#Vexilla regis prodeunt inferni
country_event = {
	id = medici_system.76
	title = medici_system.EVTNAME76
	desc = medici_system.EVTDESC76
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_6
		NOT = { has_country_flag = dante_experience_7 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA76
		set_country_flag = dante_experience_7
		# add_prestige = 1
	}
}

#Purgatorio
country_event = {
	id = medici_system.77
	title = medici_system.EVTNAME77
	desc = medici_system.EVTDESC77
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_7
		NOT = { has_country_flag = dante_experience_8 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA77
		set_country_flag = dante_experience_8
		add_adm_power = 1
	}
	option = {
		name = medici_system.EVTOPTB77
		set_country_flag = dante_experience_8
		add_dip_power = 1
	}
	option = {
		name = medici_system.EVTOPTC77
		set_country_flag = dante_experience_8
		add_mil_power = 1
	}
}

#Paradiso
country_event = {
	id = medici_system.78
	title = medici_system.EVTNAME78
	desc = medici_system.EVTDESC78
	picture = DANTE_EXPERIENCE_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_flag = dante_experience_8
		NOT = { has_country_flag = dante_experience_9 }
	}
	
	mean_time_to_happen = { months = 1 }
	
	option = {
		name = medici_system.EVTOPTA78
		set_country_flag = dante_experience_9
		change_adm = 2
	}
	option = {
		name = medici_system.EVTOPTB78
		set_country_flag = dante_experience_9
		change_dip = 2
	}
	option = {
		name = medici_system.EVTOPTC78
		set_country_flag = dante_experience_9
		change_mil = 2
	}
}

##############
# Medici CoA #
##############

#The CoA of the house of Medici
country_event = {
	id = medici_system.80
	title = medici_system.EVTNAME80
	desc = medici_system.EVTDESC80
	picture = MEDICI_COA_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		dynasty = "de' Medici"
		government = monarchy
		FRA = {
			has_opinion = { who = ROOT value = 100 }
		}
		is_at_war = no
		years_of_income = 1
	}
	
	mean_time_to_happen = { months = 36 }
	
	option = {
		name = medici_system.EVTOPTA80
		# add_prestige = 5
		add_years_of_income = -0.5
		FRA = { country_event = { id = medici_system.81 days = 3 } }
	}
	option = {
		name = medici_system.EVTOPTB80
		# add_prestige = -5
	}
}

#A florentine request
country_event = {
	id = medici_system.81
	title = medici_system.EVTNAME81
	desc = medici_system.EVTDESC81
	picture = MEDICI_COA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = medici_system.EVTOPTA81
		ai_chance = { factor = 100 }
		add_years_of_income = 0.5
		add_opinion = {
			who = FROM
			modifier = opinion_pleased
		}
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = opinion_pleased
			}
		}
		FROM = { country_event = { id = medici_system.82 days = 3 } }
	}
	option = {
		name = medici_system.EVTOPTB81
		# add_prestige = 5
		add_opinion = {
			who = FROM
			modifier = opinion_mildly_displeased
		}
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = opinion_mildly_displeased
			}
		}
		FROM = { country_event = { id = medici_system.83 days = 3 } }
	}
}

#The French King agrees
country_event = {
	id = medici_system.82
	title = medici_system.EVTNAME82
	desc = medici_system.EVTDESC82
	picture = MEDICI_COA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = medici_system.EVTOPTA82
		# add_prestige = 5
	}
}

#The French King insulted us
country_event = {
	id = medici_system.83
	title = medici_system.EVTNAME83
	desc = medici_system.EVTDESC83
	picture = MEDICI_COA_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = medici_system.EVTOPTA83
		# add_prestige = -5
	}
}
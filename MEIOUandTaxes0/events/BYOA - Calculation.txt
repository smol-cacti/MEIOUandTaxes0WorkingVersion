# Variable Calculation
# Variable Calculation
######## IMPORTANT NOTICE, THE FOLOLOWING EVENT IS INDEMPOTENT ##############
country_event = {
	id = calcul_byoa.1
	
	title = "calcul_byoa.1.t"
	desc = no_localization
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			####################################
			# MEIOU and Taxes - Demesne_in_Xxxxx
			####################################
			set_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 0 }
			#set_variable = { which = "Demesne_in_the_Roman_Empire" value = 0 }
			set_variable = { which = "Demesne_in_Great_Britain" value = 0 }
			#set_variable = { which = "Demesne_in_Germany" value = 0 }
			#set_variable = { which = "Demesne_in_Austrian_Circuit" value = 0 }
			#set_variable = { which = "Demesne_in_Bavarian_Circuit" value = 0 }
			#set_variable = { which = "Demesne_in_Franconian_Circuit" value = 0 }
			#set_variable = { which = "Demesne_in_the_Swabian_Circuit" value = 0 }
			set_variable = { which = "Demesne_in_the_Upper_Saxon_Circuit" value = 0 }
			set_variable = { which = "Demesne_in_the_Lower_Saxon_Circuit" value = 0 }
			#set_variable = { which = "Demesne_in_the_Lower_Rhine_Circuit" value = 0 }
			#set_variable = { which = "Demesne_in_the_Upper_Rhine_Circuit" value = 0 }
			set_variable = { which = "Demesne_in_Italy" value = 0 }
			#set_variable = { which = "Demesne_in_Emilia_Romagna" value = 0 }
			#set_variable = { which = "Demesne_in_Tuscany" value = 0 }
			#set_variable = { which = "Demesne_in_Lombardy" value = 0 }
			set_variable = { which = "Demesne_in_Sardinia" value = 0 }
			set_variable = { which = "Demesne_in_Liguria_Piedmont" value = 0 }
			#set_variable = { which = "Demesne_in_Veneto" value = 0 }
			#set_variable = { which = "Demesne_in_Umbria_Marcha" value = 0 }
			set_variable = { which = "Demesne_in_Two_Sicilies" value = 0 }
			set_variable = { which = "Demesne_in_France" value = 0 }
			set_variable = { which = "Demesne_in_Normandie" value = 0 }
			set_variable = { which = "Demesne_in_Aquitaine" value = 0 }
			set_variable = { which = "Demesne_in_Spain" value = 0 }
			#set_variable = { which = "Demesne_in_Castille" value = 0 }
			#set_variable = { which = "Demesne_in_Leon" value = 0 }
			#set_variable = { which = "Demesne_in_Aragon" value = 0 }
			#set_variable = { which = "Demesne_in_Andalusia" value = 0 }
			#set_variable = { which = "Demesne_in_Portugal" value = 0 }
			set_variable = { which = "Demesne_in_Russia" value = 0 }
			set_variable = { which = "Demesne_in_Prussia" value = 0 }
			set_variable = { which = "Demesne_in_Anatolia" value = 0 }
			set_variable = { which = "Demesne_in_Persia" value = 0 }
			set_variable = { which = "Demesne_in_Ilkhanate_Region" value = 0 }
			#set_variable = { which = "Demesne_in_Scandinavia" value = 0 }
			set_variable = { which = "Demesne_in_India" value = 0 }
			set_variable = { which = "Demesne_in_Indonesia" value = 0 }
			set_variable = { which = "Demesne_in_Shogunate" value = 0 }
			set_variable = { which = "Demesne_in_Scotland" value = 0 }
			set_variable = { which = "Demesne_in_Ireland" value = 0 }
			#set_variable = { which = "Demesne_in_Swabia" value = 0 }
			#set_variable = { which = "Demesne_in_Saxony" value = 0 }
			#set_variable = { which = "Demesne_in_Hannover" value = 0 }
			#set_variable = { which = "Demesne_in_Bavaria" value = 0 }
			#set_variable = { which = "Demesne_in_Almohad" value = 0 }
			#set_variable = { which = "Demesne_in_North_Sea" value = 0 }
			set_variable = { which = "Demesne_in_Constantinople" value = 0 }
			set_variable = { which = "Demesne_in_East_Rome" value = 0 }
			set_variable = { which = "Demesne_in_Greece" value = 0 }
			set_variable = { which = "Demesne_in_England" value = 0 }
			set_variable = { which = "Demesne_in_the_Netherlands" value = 0 }
			#set_variable = { which = "Demesne_in_Lotharingia" value = 0 }
			#set_variable = { which = "Demesne_in_Kingdom_of_Arles" value = 0 }
			set_variable = { which = "Demesne_in_Maya" value = 0 }
			set_variable = { which = "Demesne_in_Nahualt" value = 0 }
			set_variable = { which = "Demesne_in_Inca" value = 0 }
			set_variable = { which = "Demesne_in_Poland" value = 0 }
			set_variable = { which = "Demesne_in_Lithuania" value = 0 }
			set_variable = { which = "Demesne_in_Bohemia" value = 0 }
			set_variable = { which = "Demesne_in_Hungary" value = 0 }
			#set_variable = { which = "Demesne_in_Occitania" value = 0 }
			set_variable = { which = "Demesne_in_Wales" value = 0 }
			set_variable = { which = "Demesne_in_Brittany" value = 0 }
			set_variable = { which = "Demesne_in_Altaic_Throne" value = 0 }
			set_variable = { which = "Demesne_in_Thai_Plain" value = 0 }
			set_variable = { which = "Demesne_in_Burma" value = 0 }
			set_variable = { which = "Demesne_in_Malaya_Peninsula" value = 0 }
			set_variable = { which = "Demesne_in_Westphalia" value = 0 }
			#set_variable = { which = "Demesne_in_Eastphalia" value = 0 }
			set_variable = { which = "Demesne_in_Lan_Xang" value = 0 }
			set_variable = { which = "Demesne_in_Viet_Region" value = 0 }
			set_variable = { which = "Demesne_in_Illyria" value = 0 }
			#set_variable = { which = "Demesne_in_Holy_Land" value = 0 }
			set_variable = { which = "Demesne_in_Egypt" value = 0 }
			#set_variable = { which = "Demesne_in_Roumania" value = 0 }
			set_variable = { which = "Demesne_in_Norway" value = 0 }
			set_variable = { which = "Demesne_in_Denmark" value = 0 }
			#set_variable = { which = "Demesne_in_Morocco" value = 0 }
			set_variable = { which = "Demesne_in_Doab" value = 0 }
			set_variable = { which = "Demesne_in_Indus" value = 0 }
			set_variable = { which = "Demesne_in_Bihar" value = 0 }
			set_variable = { which = "Demesne_in_Rajputana" value = 0 }
			set_variable = { which = "Demesne_in_East_Bengal" value = 0 }
			set_variable = { which = "Demesne_in_West_Bengal" value = 0 }
			set_variable = { which = "Demesne_in_Awadh" value = 0 }
			set_variable = { which = "Demesne_in_Deccan" value = 0 }
			#set_variable = { which = "Demesne_in_Karnataka" value = 0 }
			#set_variable = { which = "Demesne_in_Sahyadri" value = 0 }
			set_variable = { which = "Demesne_in_Central_India" value = 0 }
			#set_variable = { which = "Demesne_in_Serbia" value = 0 }
			set_variable = { which = "Demesne_in_Africa" value = 0 }
			#set_variable = { which = "Demesne_in_Armenia" value = 0 }
			#set_variable = { which = "hyw_score" value = 0 }
			####################################
			# MEIOU and Taxes - Cores_on_Xxxxx
			####################################
			set_variable = { which = "Cores_on_the_Mandate_of_Heaven" value = 0 }
			set_variable = { which = "Cores_on_the_Roman_Empire" value = 0 }
			#set_variable = { which = "Cores_on_Great_Britain" value = 0 }
			#set_variable = { which = "Cores_on_Germany" value = 0 }
			#set_variable = { which = "Cores_on_Austrian_Circuit" value = 0 }
			#set_variable = { which = "Cores_on_Bavarian_Circuit" value = 0 }
			#set_variable = { which = "Cores_on_Franconian_Circuit" value = 0 }
			#set_variable = { which = "Cores_on_the_Swabian_Circuit" value = 0 }
			set_variable = { which = "Cores_on_the_Upper_Saxon_Circuit" value = 0 }
			set_variable = { which = "Cores_on_the_Lower_Saxon_Circuit" value = 0 }
			#set_variable = { which = "Cores_on_the_Lower_Rhine_Circuit" value = 0 }
			#set_variable = { which = "Cores_on_the_Upper_Rhine_Circuit" value = 0 }
			set_variable = { which = "Cores_on_Italy" value = 0 }
			#set_variable = { which = "Cores_on_Emilia_Romagna" value = 0 }
			#set_variable = { which = "Cores_on_Tuscany" value = 0 }
			#set_variable = { which = "Cores_on_Lombardy" value = 0 }
			set_variable = { which = "Cores_on_Sardinia" value = 0 }
			set_variable = { which = "Cores_on_Liguria_Piedmont" value = 0 }
			#set_variable = { which = "Cores_on_Veneto" value = 0 }
			#set_variable = { which = "Cores_on_Umbria_Marcha" value = 0 }
			set_variable = { which = "Cores_on_Two_Sicilies" value = 0 }
			set_variable = { which = "Cores_on_France" value = 0 }
			#set_variable = { which = "Cores_on_Normandie" value = 0 }
			#set_variable = { which = "Cores_on_Aquitaine" value = 0 }
			set_variable = { which = "Cores_on_Spain" value = 0 }
			#set_variable = { which = "Cores_on_Castille" value = 0 }
			#set_variable = { which = "Cores_on_Leon" value = 0 }
			#set_variable = { which = "Cores_on_Aragon" value = 0 }
			#set_variable = { which = "Cores_on_Andalusia" value = 0 }
			#set_variable = { which = "Cores_on_Portugal" value = 0 }
			#set_variable = { which = "Cores_on_Russia" value = 0 }
			set_variable = { which = "Cores_on_Prussia" value = 0 }
			set_variable = { which = "Cores_on_Anatolia" value = 0 }
			set_variable = { which = "Cores_on_Persia" value = 0 }
			set_variable = { which = "Cores_on_Ilkhanate_Region" value = 0 }
			#set_variable = { which = "Cores_on_Scandinavia" value = 0 }
			set_variable = { which = "Cores_on_India" value = 0 }
			set_variable = { which = "Cores_on_Indonesia" value = 0 }
			#set_variable = { which = "Cores_on_Shogunate" value = 0 }
			set_variable = { which = "Cores_on_Scotland" value = 0 }
			set_variable = { which = "Cores_on_Ireland" value = 0 }
			#set_variable = { which = "Cores_on_Swabia" value = 0 }
			#set_variable = { which = "Cores_on_Saxony" value = 0 }
			#set_variable = { which = "Cores_on_Hannover" value = 0 }
			#set_variable = { which = "Cores_on_Bavaria" value = 0 }
			#set_variable = { which = "Cores_on_Almohad" value = 0 }
			#set_variable = { which = "Cores_on_North_Sea" value = 0 }
			#set_variable = { which = "Cores_on_Constantinople" value = 0 }
			#set_variable = { which = "Cores_on_East_Rome" value = 0 }
			set_variable = { which = "Cores_on_Greece" value = 0 }
			set_variable = { which = "Cores_on_England" value = 0 }
			set_variable = { which = "Cores_on_the_Netherlands" value = 0 }
			#set_variable = { which = "Cores_on_Lotharingia" value = 0 }
			#set_variable = { which = "Cores_on_Kingdom_of_Arles" value = 0 }
			set_variable = { which = "Cores_on_Maya" value = 0 }
			set_variable = { which = "Cores_on_Nahualt" value = 0 }
			set_variable = { which = "Cores_on_Inca" value = 0 }
			set_variable = { which = "Cores_on_Poland" value = 0 }
			set_variable = { which = "Cores_on_Lithuania" value = 0 }
			set_variable = { which = "Cores_on_Bohemia" value = 0 }
			set_variable = { which = "Cores_on_Hungary" value = 0 }
			#set_variable = { which = "Cores_on_Occitania" value = 0 }
			set_variable = { which = "Cores_on_Wales" value = 0 }
			set_variable = { which = "Cores_on_Brittany" value = 0 }
			set_variable = { which = "Cores_on_Altaic_Throne" value = 0 }
			set_variable = { which = "Cores_on_Thai_Plain" value = 0 }
			set_variable = { which = "Cores_on_Burma" value = 0 }
			set_variable = { which = "Cores_on_Malaya_Peninsula" value = 0 }
			#set_variable = { which = "Cores_on_Westphalia" value = 0 }
			#set_variable = { which = "Cores_on_Eastphalia" value = 0 }
			set_variable = { which = "Cores_on_Lan_Xang" value = 0 }
			set_variable = { which = "Cores_on_Viet_Region" value = 0 }
			set_variable = { which = "Cores_on_Illyria" value = 0 }
			#set_variable = { which = "Cores_on_Holy_Land" value = 0 }
			set_variable = { which = "Cores_on_Egypt" value = 0 }
			#set_variable = { which = "Cores_on_Roumania" value = 0 }
			set_variable = { which = "Cores_on_Norway" value = 0 }
			set_variable = { which = "Cores_on_Denmark" value = 0 }
			#set_variable = { which = "Cores_on_Morocco" value = 0 }
			set_variable = { which = "Cores_on_Doab" value = 0 }
			set_variable = { which = "Cores_on_Indus" value = 0 }
			set_variable = { which = "Cores_on_Bihar" value = 0 }
			set_variable = { which = "Cores_on_Rajputana" value = 0 }
			set_variable = { which = "Cores_on_East_Bengal" value = 0 }
			set_variable = { which = "Cores_on_West_Bengal" value = 0 }
			set_variable = { which = "Cores_on_Awadh" value = 0 }
			#set_variable = { which = "Cores_on_Deccan" value = 0 }
			#set_variable = { which = "Cores_on_Karnataka" value = 0 }
			#set_variable = { which = "Cores_on_Sahyadri" value = 0 }
			set_variable = { which = "Cores_on_Central_India" value = 0 }
			#set_variable = { which = "Cores_on_Serbia" value = 0 }
			set_variable = { which = "Cores_on_Africa" value = 0 }
			#set_variable = { which = "Cores_on_Armenia" value = 0 }
			
			#failsafe for when a country that triggered the privilege revocation event gets annexed and then released at a later point
			if = {
				limit = { had_country_flag = { flag = PrivilegeRevocationOngoing days = 730 } }
				clr_country_flag = PrivilegeRevocationOngoing
			}
		}
		####################################
		# MEIOU and Taxes - Calculations_on_Xxxxx
		####################################
		regiongroup = {
			region = {
				limit = { is_city = yes }
				if = {
					limit = {
						owner = { NOT = { has_idea = pioneer_corps } }
						has_province_flag = engineering_canal_discount
					}
					set_variable = { which = canal_cost_remaining which = canal_price_actual }
					clr_province_flag = engineering_canal_discount
				}
				if = {
					limit = {
						owner = { NOT = { full_idea_group = fortification_ideas } }
						has_province_flag = fortification_fort_discount
					}
					set_variable = { which = fort_cost_remaining which = fort_price_actual }
					clr_province_flag = fortification_fort_discount
				}
				if = {
					limit = {
						owner = { NOT = { full_idea_group = logistic_ideas } }
						has_province_flag = logistic_road_discount
					}
					set_variable = { which = road_cost_remaining which = road_price_actual }
					clr_province_flag = logistic_road_discount
				}
				trigger_switch = {
					on_trigger = continent
					europe = {
						trigger_switch = {
							on_trigger = superregion
							france_superregion = {
								#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
								}
								trigger_switch = {
									on_trigger = region
									east_france_region = {
										owner = { change_variable = { which = "Demesne_in_France" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_France" value = 1 } }
										}
										if = {
											limit = {
												OR = { # Two normandy provinces in this region
													province_id = 167 # Caux
													province_id = 3375 # Pays de Bray
												}
											}
											owner = { change_variable = { which = "Demesne_in_Normandie" value = 1 } }
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = { change_variable = { which = "Cores_on_Normandie" value = 1 } }
											#}
										}
										#if = {
										#	limit = {
										#		has_global_flag = hundred_years_war
										#	}
										#	owner = { change_variable = { which = "hyw_score" value = 1 } }
										#}
									}
									provence_region = {
										owner = {
											change_variable = { which = "Demesne_in_France" value = 1 }
											#change_variable = { which = "Demesne_in_Kingdom_of_Arles" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_France" value = 1 }
												#change_variable = { which = "Cores_on_Kingdom_of_Arles" value = 1 }
											}
										}
									}
									high_countries_region = {
										owner = {
											change_variable = { which = "Demesne_in_France" value = 1 }
											#change_variable = { which = "Demesne_in_Kingdom_of_Arles" value = 1 }
											#change_variable = { which = "Demesne_in_Lotharingia" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_France" value = 1 }
												#change_variable = { which = "Cores_on_Kingdom_of_Arles" value = 1 }
												#change_variable = { which = "Cores_on_Lotharingia" value = 1 }
											}
										}
									}
									languedoc_region = {
										owner = {
											change_variable = { which = "Demesne_in_France" value = 1 }
											#change_variable = { which = "Demesne_in_Occitania" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_France" value = 1 }
												#change_variable = { which = "Cores_on_Occitania" value = 1 }
											}
										}
									}
									aquitaine_region = {
										owner = {
											change_variable = { which = "Demesne_in_France" value = 1 }
											#change_variable = { which = "Demesne_in_Occitania" value = 1 }
											change_variable = { which = "Demesne_in_Aquitaine" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_France" value = 1 }
												#change_variable = { which = "Cores_on_Occitania" value = 1 }
												#change_variable = { which = "Cores_on_Aquitaine" value = 1 }
											}
										}
										#if = {
										#	limit = {
										#		has_global_flag = hundred_years_war
										#	}
										#	owner = { change_variable = { which = "hyw_score" value = 1 } }
										#}
									}
									ouest_france_region = {
										trigger_switch = {
											on_trigger = area
											brittany_area = {
												owner = { change_variable = { which = "Demesne_in_Brittany" value = 1 } }
												if = {
													limit = {
														is_core = owner
													}
													owner = { change_variable = { which = "Cores_on_Brittany" value = 1 } }
												}
											}
											normandy_area = {
												owner = {
													change_variable = { which = "Demesne_in_France" value = 1 }
													change_variable = { which = "Demesne_in_Normandie" value = 1 }
												}
												if = {
													limit = {
														is_core = owner
													}
													owner = {
														change_variable = { which = "Cores_on_France" value = 1 }
														#change_variable = { which = "Cores_on_Normandie" value = 1 }
													}
												}
												#if = {
												#	limit = {
												#		has_global_flag = hundred_years_war
												#	}
												#	owner = { change_variable = { which = "hyw_score" value = 1 } }
												#}
											}
											anjou_poitou_area = {
												owner = { change_variable = { which = "Demesne_in_France" value = 1 } }
												if = {
													limit = {
														is_core = owner
													}
													owner = { change_variable = { which = "Cores_on_France" value = 1 } }
												}
												#if = {
												#	limit = {
												#		has_global_flag = hundred_years_war
												#	}
												#	owner = { change_variable = { which = "hyw_score" value = 1 } }
												#}
											}
										}
									}
									belgii_region = {
										owner = {
											change_variable = { which = "Demesne_in_the_Netherlands" value = 1 }
											#change_variable = { which = "Demesne_in_Lotharingia" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_the_Netherlands" value = 1 }
												#change_variable = { which = "Cores_on_Lotharingia" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
									}
								}
							}
							british_isles_superregion = {
								owner = { change_variable = { which = "Demesne_in_Great_Britain" value = 1 } }
								#if = {
								#	limit = {
								#		is_core = owner
								#	}
								#	owner = { change_variable = { which = "Cores_on_Great_Britain" value = 1 } }
								#}
								trigger_switch = {
									on_trigger = region
									south_england_region = {
										owner = {
											change_variable = { which = "Demesne_in_England" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_England" value = 1 }
											}
										}
										#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
										}
									}
									north_england_region = {
										owner = {
											change_variable = { which = "Demesne_in_England" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_England" value = 1 }
											}
										}
										#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
										}
										if = {
											limit = {
												area = wales_area
											}
											owner = { change_variable = { which = "Demesne_in_Wales" value = 1 } }
											if = {
												limit = {
													is_core = owner
												}
												owner = { change_variable = { which = "Cores_on_Wales" value = 1 } }
											}
										}
									}
									scotland_region = {
										owner = { change_variable = { which = "Demesne_in_Scotland" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Scotland" value = 1 } }
										}
										if = {
											limit = {
												area = lowlands_area
											}
											#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
											if = {
												limit = {
													is_core = owner
												}
												owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
											}
										}
									}
									ireland_region = {
										owner = { change_variable = { which = "Demesne_in_Ireland" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Ireland" value = 1 } }
										}
									}
								}
							}
							iberia_superregion = {
								#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
								}
								trigger_switch = {
									on_trigger = region
									castille_region = {
										owner = {
											#change_variable = { which = "Demesne_in_Castille" value = 1 }
											change_variable = { which = "Demesne_in_Spain" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Castille" value = 1 }
												change_variable = { which = "Cores_on_Spain" value = 1 }
											}
										}
										owner = { change_variable = { which = "Demesne_in_Spain" value = 1 } }
										#if = {
											#limit = {
											#	area = toledo_area
											#}
											#owner = { change_variable = { which = "Demesne_in_Almohad" value = 1 } }
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = { change_variable = { which = "Cores_on_Almohad" value = 1 } }
											#}
										#}
									}
									leon_region = {
										owner = {
											#change_variable = { which = "Demesne_in_Leon" value = 1 }
											change_variable = { which = "Demesne_in_Spain" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Leon" value = 1 }
												change_variable = { which = "Cores_on_Spain" value = 1 }
											}
										}
									}
									aragon_region = {
										owner = {
											#change_variable = { which = "Demesne_in_Aragon" value = 1 }
											change_variable = { which = "Demesne_in_Spain" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Aragon" value = 1 }
												change_variable = { which = "Cores_on_Spain" value = 1 }
											}
										}
									}
									andalucia_region = {
										owner = {
											#change_variable = { which = "Demesne_in_Andalusia" value = 1 }
											#change_variable = { which = "Demesne_in_Almohad" value = 1 }
											change_variable = { which = "Demesne_in_Spain" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Andalusia" value = 1 }
												#change_variable = { which = "Cores_on_Almohad" value = 1 }
												change_variable = { which = "Cores_on_Spain" value = 1 }
											}
										}
									}
									#portugal_region = {
										#owner = { change_variable = { which = "Demesne_in_Portugal" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Portugal" value = 1 } }
										#}
									#}
								}
							}
							italy_superregion = {
								#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
								}
								trigger_switch = {
									on_trigger = region
									sicily_region = {
										owner = { change_variable = { which = "Demesne_in_Two_Sicilies" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Two_Sicilies" value = 1 } }
										}
									}
									naples_region = {
										owner = { change_variable = { which = "Demesne_in_Two_Sicilies" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Two_Sicilies" value = 1 } }
										}
									}
									central_italy_region = {
										owner = { change_variable = { which = "Demesne_in_Italy" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Italy" value = 1 } }
										}
										trigger_switch = {
											on_trigger = area
											corsica_sardinia_area = {
												owner = { change_variable = { which = "Demesne_in_Sardinia" value = 1 } }
												if = {
													limit = {
														is_core = owner
													}
													owner = { change_variable = { which = "Cores_on_Sardinia" value = 1 } }
												}
											}
											#lazio_area = {
												#owner = { change_variable = { which = "Demesne_in_Umbria_Marcha" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Umbria_Marcha" value = 1 } }
												#}
											#}
											#tuscany_area = {
												#owner = { change_variable = { which = "Demesne_in_Tuscany" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Tuscany" value = 1 } }
												#}
											#}
											#siena_area = {
												#owner = { change_variable = { which = "Demesne_in_Tuscany" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Tuscany" value = 1 } }
												#}
											#}
										}
									}
									west_italy_region = {
										owner = { change_variable = { which = "Demesne_in_Italy" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Italy" value = 1 } }
										}
										trigger_switch = {
											on_trigger = area
											#lombardy_area = {
												#owner = { change_variable = { which = "Demesne_in_Lombardy" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Lombardy" value = 1 } }
												#}
											#}
											#padan_area = {
												#owner = { change_variable = { which = "Demesne_in_Lombardy" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Lombardy" value = 1 } }
												#}
											#}
											piedmont_area = {
												owner = { change_variable = { which = "Demesne_in_Liguria_Piedmont" value = 1 } }
												if = {
													limit = {
														is_core = owner
													}
													owner = { change_variable = { which = "Cores_on_Liguria_Piedmont" value = 1 } }
												}
											}
											liguria_area = {
												owner = { change_variable = { which = "Demesne_in_Liguria_Piedmont" value = 1 } }
												if = {
													limit = {
														is_core = owner
													}
													owner = { change_variable = { which = "Cores_on_Liguria_Piedmont" value = 1 } }
												}
											}
										}
									}
									east_italy_region = {
										owner = { change_variable = { which = "Demesne_in_Italy" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Italy" value = 1 } }
										}
										#trigger_switch = {
											#on_trigger = area
											#venetia_area = {
												#owner = { change_variable = { which = "Demesne_in_Veneto" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Veneto" value = 1 } }
												#}
											#}
											#emilia_romagna_area = {
												#owner = { change_variable = { which = "Demesne_in_Emilia_Romagna" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Emilia_Romagna" value = 1 } }
												#}
											#}
											#marche_area = {
												#owner = { change_variable = { which = "Demesne_in_Umbria_Marcha" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Umbria_Marcha" value = 1 } }
												#}
											#}
										#}
									}
								}
							}
							scandinavian_superregion = {
								trigger_switch = {
									on_trigger = region
									scandinavia_region = {
										owner = {
											change_variable = { which = "Demesne_in_Sweden" value = 1 }
											#change_variable = { which = "Demesne_in_Scandinavia" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Sweden" value = 1 }
												#change_variable = { which = "Cores_on_Scandinavia" value = 1 }
											}
										}
									}
									norwegian_region = {
										owner = {
											change_variable = { which = "Demesne_in_Norway" value = 1 }
											#change_variable = { which = "Demesne_in_Scandinavia" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Norway" value = 1 }
												#change_variable = { which = "Cores_on_Scandinavia" value = 1 }
											}
										}
									}
									danish_region = {
										owner = {
											change_variable = { which = "Demesne_in_Denmark" value = 1 }
											#change_variable = { which = "Demesne_in_Scandinavia" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Denmark" value = 1 }
												#change_variable = { which = "Cores_on_Scandinavia" value = 1 }
											}
										}
									}
								}
							}
							germany_superregion = {
								#owner = { change_variable = { which = "Demesne_in_Germany" value = 1 } }
								#if = {
								#	limit = {
								#		is_core = owner
								#	}
								#	owner = { change_variable = { which = "Cores_on_Germany" value = 1 } }
								#}
								trigger_switch = {
									on_trigger = region
									upper_saxon_circle_region = {
										owner = { change_variable = { which = "Demesne_in_the_Upper_Saxon_Circuit" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_the_Upper_Saxon_Circuit" value = 1 } }
										}
									}
									lower_saxon_circle_region = {
										owner = { change_variable = { which = "Demesne_in_the_Lower_Saxon_Circuit" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_the_Lower_Saxon_Circuit" value = 1 } }
										}
										if = {
											limit = {
												area = eastphalia_area
											}
											#owner = { change_variable = { which = "Demesne_in_Eastphalia" value = 1 } }
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = { change_variable = { which = "Cores_on_Eastphalia" value = 1 } }
											#}
										}
									}
									westphalian_circle_region = {
										owner = { change_variable = { which = "Demesne_in_Westphalia" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Westphalia" value = 1 } }
										#}
									}
									upper_rhenish_circle_region = {
										if = {
											limit = {
												NOT = { area = lower_franconia_area }
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
											#owner = { change_variable = { which = "Demesne_in_Franconian_Circuit" value = 1 } }
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = { change_variable = { which = "Cores_on_Franconian_Circuit" value = 1 } }
											#}
										}
										#else = {
											#owner = {
												#change_variable = { which = "Demesne_in_the_Upper_Rhine_Circuit" value = 1 }
												#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
											#}
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = {
											#		change_variable = { which = "Cores_on_the_Upper_Rhine_Circuit" value = 1 }
											#		change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											#	}
											#}
										#}
									}
									low_countries_region = {
										owner = {
											change_variable = { which = "Demesne_in_the_Netherlands" value = 1 }
											#change_variable = { which = "Demesne_in_Lotharingia" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_the_Netherlands" value = 1 }
												#change_variable = { which = "Cores_on_Lotharingia" value = 1 }
											}
										}
									}
								}
							}
							commonwealth_superregion = {
								trigger_switch = {
									on_trigger = region
									polonia_major_region = {
										owner = { change_variable = { which = "Demesne_in_Poland" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Poland" value = 1 } }
										}
									}
									polonia_minor_region = {
										owner = { change_variable = { which = "Demesne_in_Poland" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Poland" value = 1 } }
										}
									}
									lithuania_region = {
										owner = { change_variable = { which = "Demesne_in_Lithuania" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Lithuania" value = 1 } }
										}
									}
									ruthenia_region = {
										owner = { change_variable = { which = "Demesne_in_Lithuania" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Lithuania" value = 1 } }
										}
									}
									prussia_region = {
										owner = { change_variable = { which = "Demesne_in_Prussia" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Prussia" value = 1 } }
										}
									}
								}
							}
							balkan_superregion = {
								#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
								}
								trigger_switch = {
									on_trigger = region
									west_balkan_region = {
										owner = {
											change_variable = { which = "Demesne_in_Illyria" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Illyria" value = 1 }
											}
										}
										#if = {
											#limit = {
											#	OR = {
											#		province_id = 1392 # Travunja
											#		province_id = 138 # Kotor
											#	}
											#}
											#owner = {
											#	change_variable = { which = "Demesne_in_Serbia" value = 1 }
											#}
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = {
											#		change_variable = { which = "Cores_on_Serbia" value = 1 }
											#	}
											#}
										#}
									}
									central_balkan_region = {
										owner = {
											change_variable = { which = "Demesne_in_Illyria" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Illyria" value = 1 }
											}
										}
										#trigger_switch = {
											#on_trigger = area
											#north_serbia_area = {
												#owner = { change_variable = { which = "Demesne_in_Serbia" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Serbia" value = 1 } }
												#}
											#}
											#south_serbia_area = {
												#owner = { change_variable = { which = "Demesne_in_Serbia" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Serbia" value = 1 } }
												#}
											#}
										#}
									}
									east_balkan_region = {
										owner = {
											change_variable = { which = "Demesne_in_Constantinople" value = 1 }
											change_variable = { which = "Demesne_in_East_Rome" value = 1 }
										}
										#if = {
											#limit = {
											#	is_core = owner
											#}
											#owner = {
												#change_variable = { which = "Cores_on_Constantinople" value = 1 }
												#change_variable = { which = "Cores_on_East_Rome" value = 1 }
											#}
										#}
									}
									greece_region = {
										owner = {
											change_variable = { which = "Demesne_in_Greece" value = 1 }
											change_variable = { which = "Demesne_in_Constantinople" value = 1 }
											change_variable = { which = "Demesne_in_East_Rome" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Greece" value = 1 }
												#change_variable = { which = "Cores_on_Constantinople" value = 1 }
												#change_variable = { which = "Cores_on_East_Rome" value = 1 }
											}
										}
									}
									magyar_plains_region = {
										owner = { change_variable = { which = "Demesne_in_Hungary" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Hungary" value = 1 } }
										}
									}
									north_carpathia_region = {
										owner = { change_variable = { which = "Demesne_in_Hungary" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Hungary" value = 1 } }
										}
										#if = {
											#limit = {
											#	area = transylvania_area
											#}
											#owner = {
											#	change_variable = { which = "Demesne_in_Roumania" value = 1 }
											#}
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = {
											#		change_variable = { which = "Cores_on_Roumania" value = 1 }
											#	}
											#}
										#}
									}
									#south_carpathia_region = {
										#owner = { change_variable = { which = "Demesne_in_Roumania" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Roumania" value = 1 } }
										#}
									#}
								}
							}
							greater_austrian_circle_superregion = {
								trigger_switch = {
									on_trigger = region
									austrian_circle_region = {
										#owner = {
											#change_variable = { which = "Demesne_in_Austrian_Circuit" value = 1 }
											#change_variable = { which = "Demesne_in_Germany" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										#}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Austrian_Circuit" value = 1 }
												#change_variable = { which = "Cores_on_Germany" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
									}
									bohemia_region = {
										owner = { change_variable = { which = "Demesne_in_Bohemia" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { 	change_variable = { which = "Cores_on_Bohemia" value = 1 }	}
										}
									}
									switzerland_region = {
										#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
										}
									}
									swabia_bavarian_region = {
										#owner = { change_variable = { which = "Demesne_in_Germany" value = 1 } }
										trigger_switch = {
											on_trigger = area
											#lower_bavaria_area = {
												#owner = { change_variable = { which = "Demesne_in_Bavarian_Circuit" value = 1 } }
												#if = {
													#limit = {
													#	is_core = owner
													#}
													#owner = {
														#change_variable = { which = "Cores_on_Bavarian_Circuit" value = 1 }
														#change_variable = { which = "Cores_on_Germany" value = 1 }
													#}
												#}
											#}
											upper_bavaria_area = {
												#owner = {
													#change_variable = { which = "Demesne_in_Bavarian_Circuit" value = 1 }
													#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
												#}
												if = {
													limit = {
														is_core = owner
													}
													owner = {
														#change_variable = { which = "Cores_on_Bavarian_Circuit" value = 1 }
														#change_variable = { which = "Cores_on_Germany" value = 1 }
														change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
													}
												}
											}
											lower_swabia_area = {
												#owner = {
													#change_variable = { which = "Demesne_in_the_Swabian_Circuit" value = 1 }
													#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
												#}
												if = {
													limit = {
														is_core = owner
													}
													owner = {
														#change_variable = { which = "Cores_on_the_Swabian_Circuit" value = 1 }
														#change_variable = { which = "Cores_on_Germany" value = 1 }
														change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
													}
												}
											}
											upper_swabia_area = {
												#owner = {
													#change_variable = { which = "Demesne_in_the_Swabian_Circuit" value = 1 }
													#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
												#}
												if = {
													limit = {
														is_core = owner
													}
													owner = {
														#change_variable = { which = "Cores_on_the_Swabian_Circuit" value = 1 }
														#change_variable = { which = "Cores_on_Germany" value = 1 }
														change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
													}
												}
											}
											#upper_franconia_area = {
												#owner = { change_variable = { which = "Demesne_in_Franconian_Circuit" value = 1 } }
												#if = {
													#limit = {
														#is_core = owner
													#}
													#owner = {
														#change_variable = { which = "Cores_on_Franconian_Circuit" value = 1 }
														#change_variable = { which = "Cores_on_Germany" value = 1 }
													#}
												#}
											#}
										}
									}
								}
							}
							greater_russia_superregion = {
								trigger_switch = {
									on_trigger = region
									north_russia_region = {
										owner = { change_variable = { which = "Demesne_in_Russia" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Russia" value = 1 } }
										#}
									}
									russia_region = {
										owner = { change_variable = { which = "Demesne_in_Russia" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Russia" value = 1 } }
										#}
									}
									east_russia_region = {
										owner = { change_variable = { which = "Demesne_in_Russia" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Russia" value = 1 } }
										#}
									}
									steppes_region = {
										owner = { change_variable = { which = "Demesne_in_Altaic_Throne" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Altaic_Throne" value = 1 } }
										}
									}
									crimea_region = {
										owner = { change_variable = { which = "Demesne_in_Altaic_Throne" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Altaic_Throne" value = 1 } }
										}
										if = {
											limit = {
												area = crimea_area
											}
											owner = {
												change_variable = { which = "Demesne_in_East_Rome" value = 1 }
											}
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = {
											#		change_variable = { which = "Cores_on_East_Rome" value = 1 }
											#	}
											#}
										}
										1298 = {
											owner = {
												change_variable = { which = "Demesne_in_East_Rome" value = 1 }
											}
											#if = {
											#	limit = {
											#		is_core = owner
											#	}
											#	owner = {
											#		change_variable = { which = "Cores_on_East_Rome" value = 1 }
											#	}
											#}
										}
									}
								}
							}
						}
					}
					mena = {
						trigger_switch = {
							on_trigger = superregion
							north_africa_superregion = {
								trigger_switch = {
									on_trigger = region
									west_maghreb_region = {
										#owner = {
											#change_variable = { which = "Demesne_in_Almohad" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										#}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Almohad" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
										#trigger_switch = {
											#on_trigger = area
											#fez_area = {
												#owner = { change_variable = { which = "Demesne_in_Morocco" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Morocco" value = 1 } }
												#}
											#}
											#anfa_area = {
												#owner = { change_variable = { which = "Demesne_in_Morocco" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Morocco" value = 1 } }
												#}
											#}
											#marrekesh_area = {
												#owner = { change_variable = { which = "Demesne_in_Morocco" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Morocco" value = 1 } }
												#}
											#}
											#sus_area = {
												#owner = { change_variable = { which = "Demesne_in_Morocco" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Morocco" value = 1 } }
												#}
											#}
											#tafilalt_area = {
												#owner = { change_variable = { which = "Demesne_in_Morocco" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Morocco" value = 1 } }
												#}
											#}
										#}
									}
									central_maghreb_region = {
										owner = {
											#change_variable = { which = "Demesne_in_Almohad" value = 1 }
											change_variable = { which = "Demesne_in_Africa" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Almohad" value = 1 }
												change_variable = { which = "Cores_on_Africa" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
									}
									east_maghreb_region = {
										owner = {
											#change_variable = { which = "Demesne_in_Almohad" value = 1 }
											change_variable = { which = "Demesne_in_Africa" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Almohad" value = 1 }
												change_variable = { which = "Cores_on_Africa" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
									}
								}
							}
							near_east_superregion = {
								trigger_switch = {
									on_trigger = region
									egypt_region = {
										owner = {
											change_variable = { which = "Demesne_in_Egypt" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Egypt" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
									}
									al_sham_region = {
										owner = {
											change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
										#trigger_switch = {
											#on_trigger = area
											#palestine_area = {
												#owner = { change_variable = { which = "Demesne_in_Holy_Land" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Holy_Land" value = 1 } }
												#}
											#}
											#syria_area = {
												#owner = { change_variable = { which = "Demesne_in_Holy_Land" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Holy_Land" value = 1 } }
												#}
											#}
											#aleppo_area = {
												#owner = { change_variable = { which = "Demesne_in_Holy_Land" value = 1 } }
												#if = {
												#	limit = {
												#		is_core = owner
												#	}
												#	owner = { change_variable = { which = "Cores_on_Holy_Land" value = 1 } }
												#}
											#}
										#}
									}
									al_iraq_region = {
										owner = {
											change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
											#change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
												change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 }
											}
										}
									}
								}
							}
							anatolia_superregion = {
								#owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
								}
								trigger_switch = {
									on_trigger = region
									south_anatolia_region = {
										owner = {
											change_variable = { which = "Demesne_in_Anatolia" value = 1 }
											change_variable = { which = "Demesne_in_Constantinople" value = 1 }
											change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
											change_variable = { which = "Demesne_in_East_Rome" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Anatolia" value = 1 }
												#change_variable = { which = "Cores_on_Constantinople" value = 1 }
												change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
												#change_variable = { which = "Cores_on_East_Rome" value = 1 }
											}
										}
									}
									north_anatolia_region = {
										owner = {
											change_variable = { which = "Demesne_in_Anatolia" value = 1 }
											change_variable = { which = "Demesne_in_Constantinople" value = 1 }
											change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
											change_variable = { which = "Demesne_in_East_Rome" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Anatolia" value = 1 }
												#change_variable = { which = "Cores_on_Constantinople" value = 1 }
												change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
												#change_variable = { which = "Cores_on_East_Rome" value = 1 }
											}
										}
									}
									armenia_region = {
										if = {
											limit = {
												province_id = 1333
											}
											owner = {
												change_variable = { which = "Demesne_in_Anatolia" value = 1 }
												change_variable = { which = "Demesne_in_Constantinople" value = 1 }
												change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
												change_variable = { which = "Demesne_in_East_Rome" value = 1 }
											}
											if = {
												limit = {
													is_core = owner
												}
												owner = {
													change_variable = { which = "Cores_on_Anatolia" value = 1 }
													#change_variable = { which = "Cores_on_Constantinople" value = 1 }
													change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
													#change_variable = { which = "Cores_on_East_Rome" value = 1 }
												}
											}
										}
										else_if = {
											limit = {
												OR = {
													area = erzurum_area
													area = cilicia_area
													area = dulkadir_area
												}
											}
											owner = {
												#change_variable = { which = "Demesne_in_Armenia" value = 1 }
												change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
												change_variable = { which = "Demesne_in_East_Rome" value = 1 }
											}
											if = {
												limit = {
													is_core = owner
												}
												owner = {
													#change_variable = { which = "Cores_on_Armenia" value = 1 }
													change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
													#change_variable = { which = "Cores_on_East_Rome" value = 1 }
												}
											}
										}
										else = {
											owner = {
												#change_variable = { which = "Demesne_in_Armenia" value = 1 }
												change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
											}
											if = {
												limit = {
													is_core = owner
												}
												owner = {
													#change_variable = { which = "Cores_on_Armenia" value = 1 }
													change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
												}
											}
										}
									}
									caucasia_region = {
										trigger_switch = {
											on_trigger = area
											west_circassia_area = {
												3795 = {
													owner = {
														change_variable = { which = "Demesne_in_East_Rome" value = 1 }
													}
													#if = {
													#	limit = {
													#		is_core = owner
													#	}
													#	owner = {
													#		change_variable = { which = "Cores_on_East_Rome" value = 1 }
													#	}
													#}
												}
											}
										}
									}
								}
							}
						}
					}
					central_asia = {
						trigger_switch = {
							on_trigger = superregion
							persia_superregion = {
								trigger_switch = {
									on_trigger = region
									persia_region = {
										owner = {
											change_variable = { which = "Demesne_in_Persia" value = 1 }
											change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Persia" value = 1 }
												change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 }
											}
										}
									}
									khorasan_region = {
										owner = { change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 } }
										}
									}
									afghanistan_region = {
										owner = { change_variable = { which = "Demesne_in_Ilkhanate_Region" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Ilkhanate_Region" value = 1 } }
										}
									}
								}
							}
							central_asia_superregion = {
								if = {
									limit = {
										region = kazakh_region
									}
									owner = { change_variable = { which = "Demesne_in_Altaic_Throne" value = 1 } }
									if = {
										limit = {
											is_core = owner
										}
										owner = { change_variable = { which = "Cores_on_Altaic_Throne" value = 1 } }
									}
								}
							}
						}
					}
					indian_continent = {
						owner = { change_variable = { which = "Demesne_in_India" value = 1 } }
						if = {
							limit = {
								is_core = owner
							}
							owner = { change_variable = { which = "Cores_on_India" value = 1 } }
						}
						trigger_switch = {
							on_trigger = superregion
							west_india_superregion = {
								trigger_switch = {
									on_trigger = region
									hindusthan_region = {
										owner = { change_variable = { which = "Demesne_in_Indus" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Indus" value = 1 } }
										}
									}
									punjab_region = {
										owner = { change_variable = { which = "Demesne_in_Indus" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Indus" value = 1 } }
										}
									}
								}
							}
							north_india_superregion = {
								trigger_switch = {
									on_trigger = region
									upper_doab_region = {
										owner = { change_variable = { which = "Demesne_in_Doab" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Doab" value = 1 } }
										}
									}
									bihar_region = {
										owner = { change_variable = { which = "Demesne_in_Bihar" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Bihar" value = 1 } }
										}
									}
									awadh_region = {
										owner = { change_variable = { which = "Demesne_in_Awadh" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Awadh" value = 1 } }
										}
									}
								}
							}
							rajputana_superregion = {
								trigger_switch = {
									on_trigger = region
									central_doab_region = {
										owner = { change_variable = { which = "Demesne_in_Doab" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Doab" value = 1 } }
										}
									}
									west_india_region = {
										owner = { change_variable = { which = "Demesne_in_Rajputana" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Rajputana" value = 1 } }
										}
									}
									gujarat_region = {
										owner = { change_variable = { which = "Demesne_in_Rajputana" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Rajputana" value = 1 } }
										}
									}
								}
							}
							east_india_superregion = {
								trigger_switch = {
									on_trigger = region
									west_bengal_region = {
										owner = { change_variable = { which = "Demesne_in_West_Bengal" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_West_Bengal" value = 1 } }
										}
									}
									east_bengal_region = {
										owner = { change_variable = { which = "Demesne_in_East_Bengal" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_East_Bengal" value = 1 } }
										}
									}
								}
							}
							central_india_superregion = {
								trigger_switch = {
									on_trigger = region
									east_deccan_region = {
										owner = {
											change_variable = { which = "Demesne_in_Deccan" value = 1 }
											change_variable = { which = "Demesne_in_Central_India" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Deccan" value = 1 }
												change_variable = { which = "Cores_on_Central_India" value = 1 }
											}
										}
									}
									west_deccan_region = {
										owner = {
											#change_variable = { which = "Demesne_in_Deccan" value = 1 }
											change_variable = { which = "Demesne_in_Central_India" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												#change_variable = { which = "Cores_on_Deccan" value = 1 }
												change_variable = { which = "Cores_on_Central_India" value = 1 }
											}
										}
									}
									konkan_region = {
										owner = {
											change_variable = { which = "Demesne_in_Deccan" value = 1 }
											change_variable = { which = "Demesne_in_Central_India" value = 1 }
										}
										if = {
											limit = {
												is_core = owner
											}
											owner = {
												change_variable = { which = "Cores_on_Deccan" value = 1 }
												change_variable = { which = "Cores_on_Central_India" value = 1 }
											}
										}
									}
									central_india_region = {
										owner = { change_variable = { which = "Demesne_in_Central_India" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Central_India" value = 1 } }
										}
									}
								}
							}
							#south_india_superregion = {
								#trigger_switch = {
									#on_trigger = region
									#western_ghats_region = {
										#owner = { change_variable = { which = "Demesne_in_Sahyadri" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Sahyadri" value = 1 } }
										#}
									#}
									#carnatic_region = {
										#owner = { change_variable = { which = "Demesne_in_Karnataka" value = 1 } }
										#if = {
										#	limit = {
										#		is_core = owner
										#	}
										#	owner = { change_variable = { which = "Cores_on_Karnataka" value = 1 } }
										#}
									#}
								#}
							#}
						}
					}
					southeast_asia = {
						trigger_switch = {
							on_trigger = superregion
							southeast_asia_superregion = {
								trigger_switch = {
									on_trigger = region
									inland_siam_region = {
										owner = { change_variable = { which = "Demesne_in_Thai_Plain" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Thai_Plain" value = 1 } }
										}
									}
									coastal_siam_region = {
										owner = { change_variable = { which = "Demesne_in_Thai_Plain" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Thai_Plain" value = 1 } }
										}
									}
									inland_burma_region = {
										owner = { change_variable = { which = "Demesne_in_Burma" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Burma" value = 1 } }
										}
									}
									coastal_burma_region = {
										owner = { change_variable = { which = "Demesne_in_Burma" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Burma" value = 1 } }
										}
									}
									malaya_region = {
										owner = { change_variable = { which = "Demesne_in_Malaya_Peninsula" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Malaya_Peninsula" value = 1 } }
										}
									}
									lan_xang_region = {
										owner = { change_variable = { which = "Demesne_in_Lan_Xang" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Lan_Xang" value = 1 } }
										}
									}
									vietnam_region = {
										owner = { change_variable = { which = "Demesne_in_Viet_Region" value = 1 } }
										if = {
											limit = {
												is_core = owner
											}
											owner = { change_variable = { which = "Cores_on_Viet_Region" value = 1 } }
										}
									}
								}
							}
							east_indies_superregion = {
								if = {
									limit = {
										NOT = { region = philippines_region }
									}
									owner = { change_variable = { which = "Demesne_in_Indonesia" value = 1 } }
									if = {
										limit = {
											is_core = owner
										}
										owner = { change_variable = { which = "Cores_on_Indonesia" value = 1 } }
									}
								}
							}
						}
					}
					east_asia = {
						trigger_switch = {
							on_trigger = superregion
							north_china_superregion = {
								owner = { change_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Mandate_of_Heaven" value = 1 } }
								}
							}
							east_china_superregion = {
								owner = { change_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Mandate_of_Heaven" value = 1 } }
								}
							}
							southwest_china_superregion = {
								owner = { change_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_the_Mandate_of_Heaven" value = 1 } }
								}
							}
							japan_superregion = {
								if = {
									limit = {
										NOT = { region = korea_region }
									}
									owner = { change_variable = { which = "Demesne_in_Shogunate" value = 1 } }
									#if = {
									#	limit = {
									#		is_core = owner
									#	}
									#	owner = { change_variable = { which = "Cores_on_Shogunate" value = 1 } }
									#}
								}
							}
							central_asia_superregion = {
								if = {
									limit = {
										region = outer_mongolia_region
									}
									owner = { change_variable = { which = "Demesne_in_Altaic_Throne" value = 1 } }
									if = {
										limit = {
											is_core = owner
										}
										owner = { change_variable = { which = "Cores_on_Altaic_Throne" value = 1 } }
									}
								}
								if = {
									limit = {
										region = inner_mongolia_region
									}
									owner = { change_variable = { which = "Demesne_in_Altaic_Throne" value = 1 } }
									if = {
										limit = {
											is_core = owner
										}
										owner = { change_variable = { which = "Cores_on_Altaic_Throne" value = 1 } }
									}
								}
								if = {
									limit = {
										area = zungaria_area
									}
									owner = { change_variable = { which = "Demesne_in_Altaic_Throne" value = 1 } }
									if = {
										limit = {
											is_core = owner
										}
										owner = { change_variable = { which = "Cores_on_Altaic_Throne" value = 1 } }
									}
								}
								if = {
									limit = {
										area = khorchin_area
									}
									owner = { change_variable = { which = "Demesne_in_Altaic_Throne" value = 1 } }
									if = {
										limit = {
											is_core = owner
										}
										owner = { change_variable = { which = "Cores_on_Altaic_Throne" value = 1 } }
									}
								}
							}
						}
					}
					north_america = {
						trigger_switch = {
							on_trigger = region
							central_america_region = {
								owner = { change_variable = { which = "Demesne_in_Maya" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_Maya" value = 1 } }
								}
							}
							zacatecas_region = {
								owner = { change_variable = { which = "Demesne_in_Nahualt" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_Nahualt" value = 1 } }
								}
							}
							mexico_region = {
								owner = { change_variable = { which = "Demesne_in_Nahualt" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_Nahualt" value = 1 } }
								}
							}
							zapotec_region = {
								owner = { change_variable = { which = "Demesne_in_Nahualt" value = 1 } }
								if = {
									limit = {
										is_core = owner
									}
									owner = { change_variable = { which = "Cores_on_Nahualt" value = 1 } }
								}
							}
						}
					}
					south_america = {
						if = {
							limit = {
								region = peru_region
							}
							owner = { change_variable = { which = "Demesne_in_Inca" value = 1 } }
							if = {
								limit = {
									is_core = owner
								}
								owner = { change_variable = { which = "Cores_on_Inca" value = 1 } }
							}
						}
						if = {
							limit = {
								region = bolivia_region
							}
							owner = { change_variable = { which = "Demesne_in_Inca" value = 1 } }
							if = {
								limit = {
									is_core = owner
								}
								owner = { change_variable = { which = "Cores_on_Inca" value = 1 } }
							}
						}
					}
				}
				#roman_dejure_group = {
				#	owner = { change_variable = { which = "Demesne_in_the_Roman_Empire" value = 1 } }
				#	if = {
				#		limit = {
				#			is_core = owner
				#		}
				#		owner = { change_variable = { which = "Cores_on_the_Roman_Empire" value = 1 } }
				#	}
				#}
				
				if = {
					limit = {
						OR = {
							has_province_flag = TP_trading_post
							has_province_modifier = trading_post_province
						}
					}
					if = {
						limit = {
							NOT = {
								culture = owner
								culture = maroon
							}
						}
						change_culture = owner
						#set_variable = { which = tribal_culture value = 0 }
					}
					
					#Following code allows main religion to properly swap to owner's (as long as they arent already similar) but with the native one staying as a minority.
					if = {
						limit = { NOT = { religion_group = owner } }
						owner = {
							trigger_switch = {
								on_trigger = religion
								catholic = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = catholic value = 10 }
									}
								}
								orthodox = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = orthodox value = 10 }
									}
								}
								protestant = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = protestant value = 10 }
									}
								}
								reformed = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = reformed value = 10 }
									}
								}
								gnostic = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = gnostic value = 10 }
									}
								}
								hussite = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = hussite value = 10 }
									}
								}
								coptic = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = coptic value = 10 }
									}
								}
								chaldean = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = chaldean value = 10 }
									}
								}
								jewish = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = jewish value = 10 }
									}
								}
								sunni = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = sunni value = 10 }
									}
								}
								shiite = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = shiite value = 10 }
									}
								}
								ibadi = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = ibadi value = 10 }
									}
								}
								wahhabi = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = wahhabi value = 10 }
									}
								}
								druze = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = druze value = 10 }
									}
								}
								zoroastrian = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = zoroastrian value = 10 }
									}
								}
								adi_dharam = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = adi_dharam value = 10 }
									}
								}
								jain = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = jain value = 10 }
									}
								}
								sikhism = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = sikhism value = 10 }
									}
								}
								hinduism = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = hinduism value = 10 }
									}
								}
								confucianism = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = confucianism value = 10 }
									}
								}
								buddhism  = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = buddhism  value = 10 }
									}
								}
								shinto = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = shinto value = 10 }
									}
								}
								mahayana = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = mahayana value = 10 }
									}
								}
								vajrayana = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = vajrayana value = 10 }
									}
								}
								animism = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = animism value = 10 }
									}
								}
								tengri_pagan_reformed = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = tengri_pagan_reformed value = 10 }
									}
								}
								shamanism = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = shamanism value = 10 }
									}
								}
								west_african_pagan_reformed = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = west_african_pagan_reformed value = 10 }
									}
								}
								totemism = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = totemism value = 10 }
									}
								}
								pantheism = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = pantheism value = 10 }
									}
								}
								inti = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = inti value = 10 }
									}
								}
								nahuatl = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = nahuatl value = 10 }
									}
								}
								mesoamerican_religion = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = mesoamerican_religion value = 10 }
									}
								}
								polynesian_religion = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = polynesian_religion value = 10 }
									}
								}
								hellenic_pagan = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = hellenic_pagan value = 10 }
									}
								}
								norse_pagan_reformed = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = norse_pagan_reformed value = 10 }
									}
								}
								finnish_pagan_reformed = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = finnish_pagan_reformed value = 10 }
									}
								}
								slavic_pagan_reformed = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = slavic_pagan_reformed value = 10 }
									}
								}
									
								baltic_pagan_reformed = {
									PREV = {
										change_variable = { which = province_religion value = -10 }
										change_variable = { which = baltic_pagan_reformed value = 10 }
									}
								}
							}
						}
					}
				}
			}
		}
		every_country = {
			limit = {
				#exists = yes
				is_subject_other_than_tributary_trigger = yes
			}
			overlord = {
				change_variable = { which = "Demesne_in_the_Mandate_of_Heaven" which = PREV }
				#change_variable = { which = "Demesne_in_the_Roman_Empire" which = PREV }
				change_variable = { which = "Demesne_in_Great_Britain" which = PREV }
				#change_variable = { which = "Demesne_in_Germany" which = PREV }
				#change_variable = { which = "Demesne_in_Austrian_Circuit" which = PREV }
				#change_variable = { which = "Demesne_in_Bavarian_Circuit" which = PREV }
				#change_variable = { which = "Demesne_in_Franconian_Circuit" which = PREV }
				#change_variable = { which = "Demesne_in_the_Swabian_Circuit" which = PREV }
				change_variable = { which = "Demesne_in_the_Upper_Saxon_Circuit" which = PREV }
				change_variable = { which = "Demesne_in_the_Lower_Saxon_Circuit" which = PREV }
				#change_variable = { which = "Demesne_in_the_Lower_Rhine_Circuit" which = PREV }
				#change_variable = { which = "Demesne_in_the_Upper_Rhine_Circuit" which = PREV }
				change_variable = { which = "Demesne_in_Italy" which = PREV }
				#change_variable = { which = "Demesne_in_Emilia_Romagna" which = PREV }
				#change_variable = { which = "Demesne_in_Tuscany" which = PREV }
				#change_variable = { which = "Demesne_in_Lombardy" which = PREV }
				change_variable = { which = "Demesne_in_Sardinia" which = PREV }
				change_variable = { which = "Demesne_in_Liguria_Piedmont" which = PREV }
				#change_variable = { which = "Demesne_in_Veneto" which = PREV }
				#change_variable = { which = "Demesne_in_Umbria_Marcha" which = PREV }
				change_variable = { which = "Demesne_in_Two_Sicilies" which = PREV }
				change_variable = { which = "Demesne_in_France" which = PREV }
				change_variable = { which = "Demesne_in_Normandie" which = PREV }
				change_variable = { which = "Demesne_in_Aquitaine" which = PREV }
				change_variable = { which = "Demesne_in_Spain" which = PREV }
				#change_variable = { which = "Demesne_in_Castille" which = PREV }
				#change_variable = { which = "Demesne_in_Leon" which = PREV }
				#change_variable = { which = "Demesne_in_Aragon" which = PREV }
				#change_variable = { which = "Demesne_in_Andalusia" which = PREV }
				#change_variable = { which = "Demesne_in_Portugal" which = PREV }
				change_variable = { which = "Demesne_in_Russia" which = PREV }
				change_variable = { which = "Demesne_in_Prussia" which = PREV }
				change_variable = { which = "Demesne_in_Anatolia" which = PREV }
				change_variable = { which = "Demesne_in_Persia" which = PREV }
				change_variable = { which = "Demesne_in_Ilkhanate_Region" which = PREV }
				#change_variable = { which = "Demesne_in_Scandinavia" which = PREV }
				change_variable = { which = "Demesne_in_India" which = PREV }
				change_variable = { which = "Demesne_in_Indonesia" which = PREV }
				change_variable = { which = "Demesne_in_Shogunate" which = PREV }
				change_variable = { which = "Demesne_in_Scotland" which = PREV }
				change_variable = { which = "Demesne_in_Ireland" which = PREV }
				#change_variable = { which = "Demesne_in_Swabia" which = PREV }
				#change_variable = { which = "Demesne_in_Saxony" which = PREV }
				#change_variable = { which = "Demesne_in_Hannover" which = PREV }
				#change_variable = { which = "Demesne_in_Bavaria" which = PREV }
				#change_variable = { which = "Demesne_in_Almohad" which = PREV }
				#change_variable = { which = "Demesne_in_North_Sea" which = PREV }
				change_variable = { which = "Demesne_in_Constantinople" which = PREV }
				change_variable = { which = "Demesne_in_East_Rome" which = PREV }
				change_variable = { which = "Demesne_in_Greece" which = PREV }
				change_variable = { which = "Demesne_in_England" which = PREV }
				change_variable = { which = "Demesne_in_the_Netherlands" which = PREV }
				#change_variable = { which = "Demesne_in_Lotharingia" which = PREV }
				#change_variable = { which = "Demesne_in_Kingdom_of_Arles" which = PREV }
				change_variable = { which = "Demesne_in_Maya" which = PREV }
				change_variable = { which = "Demesne_in_Nahualt" which = PREV }
				change_variable = { which = "Demesne_in_Inca" which = PREV }
				change_variable = { which = "Demesne_in_Poland" which = PREV }
				change_variable = { which = "Demesne_in_Lithuania" which = PREV }
				change_variable = { which = "Demesne_in_Bohemia" which = PREV }
				change_variable = { which = "Demesne_in_Hungary" which = PREV }
				#change_variable = { which = "Demesne_in_Occitania" which = PREV }
				change_variable = { which = "Demesne_in_Wales" which = PREV }
				change_variable = { which = "Demesne_in_Brittany" which = PREV }
				change_variable = { which = "Demesne_in_Altaic_Throne" which = PREV }
				change_variable = { which = "Demesne_in_Thai_Plain" which = PREV }
				change_variable = { which = "Demesne_in_Burma" which = PREV }
				change_variable = { which = "Demesne_in_Malaya_Peninsula" which = PREV }
				change_variable = { which = "Demesne_in_Westphalia" which = PREV }
				#change_variable = { which = "Demesne_in_Eastphalia" which = PREV }
				change_variable = { which = "Demesne_in_Lan_Xang" which = PREV }
				change_variable = { which = "Demesne_in_Viet_Region" which = PREV }
				change_variable = { which = "Demesne_in_Illyria" which = PREV }
				#change_variable = { which = "Demesne_in_Holy_Land" which = PREV }
				change_variable = { which = "Demesne_in_Egypt" which = PREV }
				#change_variable = { which = "Demesne_in_Roumania" which = PREV }
				change_variable = { which = "Demesne_in_Norway" which = PREV }
				change_variable = { which = "Demesne_in_Denmark" which = PREV }
				#change_variable = { which = "Demesne_in_Morocco" which = PREV }
				change_variable = { which = "Demesne_in_Doab" which = PREV }
				change_variable = { which = "Demesne_in_Indus" which = PREV }
				change_variable = { which = "Demesne_in_Bihar" which = PREV }
				change_variable = { which = "Demesne_in_Rajputana" which = PREV }
				change_variable = { which = "Demesne_in_East_Bengal" which = PREV }
				change_variable = { which = "Demesne_in_West_Bengal" which = PREV }
				change_variable = { which = "Demesne_in_Awadh" which = PREV }
				change_variable = { which = "Demesne_in_Deccan" which = PREV }
				#change_variable = { which = "Demesne_in_Karnataka" which = PREV }
				#change_variable = { which = "Demesne_in_Sahyadri" which = PREV }
				change_variable = { which = "Demesne_in_Central_India" which = PREV }
				#change_variable = { which = "Demesne_in_Serbia" which = PREV }
				change_variable = { which = "Demesne_in_Africa" which = PREV }
				#change_variable = { which = "Demesne_in_Armenia" which = PREV }
				#change_variable = { which = "hyw_score" which = PREV }
			}
			
			if = {
				limit = { overlord = { full_idea_group = eminence_ideas } }
				add_country_modifier = { name = subject_bonus_from_eminence_ideas duration = -1 hidden = yes }
			}
			else = { remove_country_modifier = subject_bonus_from_eminence_ideas }
			
			if = {
				limit = { overlord = { full_idea_group = influence_ideas } }
				add_country_modifier = { name = subject_bonus_from_influence_ideas duration = -1 hidden = yes }
			}
			else = { remove_country_modifier = subject_bonus_from_influence_ideas }
			
			if = {
				limit = {
					is_subject_of_type = colony
					overlord = { full_idea_group = global_empire_ideas }
				}
				add_country_modifier = { name = subject_bonus_from_global_empire_ideas duration = -1 hidden = yes }
			}
			else = { remove_country_modifier = subject_bonus_from_global_empire_ideas }
		}
		
		country_event = { id = calcul_byoa.3 days = 1 }
		
		#failsafe for request_council papal interaction if papal controller gets annexed before dg_pope.031 can trigger
		if = {
			limit = { PAP = { had_country_flag = { flag = calls_for_council days = 730 } } }
			PAP = { clr_country_flag = calls_for_council }
		}
	}
	
	option = {
		name = no_localization
	}
}

######## IMPORTANT NOTICE, THE FOLLOWING EVENT IS NOT INDEPENDENT ##############

# Time Calculation
country_event = {
	id = calcul_byoa.2
	
	title = "calcul_byoa.1.t"
	desc = "EVT_AI_02"
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	# hidden = yes
	
	option = {
		name = "EVT_AI"
		#country_event = { id = calcul_byoa.10 days = 5 }
		every_country = {
			limit = {
				#exists = yes
				num_of_subjects = 1
			}
			#if = {
			#	limit = {
			#		NOT = { has_country_flag = "overlord_country" }
			#	}
			#	set_country_flag = "overlord_country"
			#}
			country_event = { id = calcul_byoa.9 days = 1 }
		}
		#every_country = {
		#	limit = {
		#		exists = yes
		#		NOT = { any_known_country = { is_subject_of = PREV } }
		#	}
		#	if = {
		#		limit = {
		#			has_country_flag = "overlord_country"
		#		}
		#		clr_country_flag = "overlord_country"
		#	}
		#}
	}
}

country_event = {
	id = calcul_byoa.3
	
	title = "calcul_byoa.1.t"
	desc = "EVT_AI_03"
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	# hidden = yes
	
	option = {
		name = "EVT_AI"
		#####################################
		# MEIOU and Taxes - Vassal Free Slots
		#####################################
		every_country = {
			#limit = {
			#	exists = yes
			#}
			remove_country_modifier = vassal_upkeep_1
			remove_country_modifier = vassal_upkeep_2
			remove_country_modifier = vassal_upkeep_3
			remove_country_modifier = vassal_upkeep_4
			remove_country_modifier = vassal_upkeep_5
			set_variable = { which = "Same_Culture_Group_Subjects" value = 0 }
			if = {
				limit = {
					government = monarchy #reduces number of checks
					OR = {
						feudalisation_trigger = yes
						despotisation_trigger = yes
						trib_king_trigger = yes
						electivisation_trigger = yes
						indian_monarchy_trigger = yes
						eastern_monarchy_trigger = yes
					}
				}
				#Count subjects
				every_subject_country = {
					limit = {
						#is_subject_of = PREV
						OR = {
							is_subject_of_type = vassal
							is_subject_of_type = march
							is_subject_of_type = personal_union
						}
						#NOT = { total_development = PREV } # Not too strong subject
						OR = {
							culture_group = PREV
							AND = {
								PREV = {
									tag = FRA
								}
								culture_group = langue_d_oc
							}
							AND = {
								PREV = {
									OR = {
										tag = ENG
										tag = GBR
									}
								}
								culture_group = gaelic
								NOT = { primary_culture = irish }
							}
							AND = {
								PREV = {
									OR = {
										tag = SPA
										tag = CAS
										tag = ARA
									}
								}
								primary_culture = catalan
							}
							AND = {
								PREV = {
									OR = {
										tag = POL
										tag = PLC
									}
								}
								primary_culture = lithuanian
							}
							AND = {
								PREV = {
									OR = {
										culture_group = malay
										culture_group = javan_group
										culture_group = wallacean
										#primary_culture = bugis
										#primary_culture = moluccan
										#primary_culture = minahasa
										#primary_culture = bungku
										#primary_culture = sulawesi
										#primary_culture = dayak
										primary_culture = papuan
										primary_culture = melanesian
									}
								}
								OR = {
									culture_group = malay
									culture_group = javan_group
									culture_group = wallacean
									#primary_culture = bugis
									#primary_culture = moluccan
									#primary_culture = minahasa
									#primary_culture = bungku
									#primary_culture = sulawesi
									#primary_culture = dayak
									primary_culture = papuan
									primary_culture = melanesian
								}
							}
							AND = {
								PREV = {
									OR = {
										culture_group = low_germanic
										culture_group = high_germanic
									}
								}
								OR = {
									culture_group = low_germanic
									culture_group = high_germanic
								}
							}
							AND = {
								PREV = {
									OR = {
										tag = MUG
										culture_group = eastern_aryan
										culture_group = hindusthani
										culture_group = central_indian
										culture_group = pahari_group
										culture_group = deccan_group
										culture_group = rajput
										culture_group = dravidian
									}
								}
								OR = {
									culture_group = eastern_aryan
									culture_group = hindusthani
									culture_group = central_indian
									culture_group = pahari_group
									culture_group = deccan_group
									culture_group = rajput
									culture_group = dravidian
								}
							}
						}
					}
					PREV = { change_variable = { which = "Same_Culture_Group_Subjects" value = 1 } }
				}
			}
			
			#Recalculate variables
			if = {
				#Must be decentralised to benefit
				limit = {
					NOT = { absolutism = 50 }
				}
				set_variable = { which = "Decentralisation_Max_Slots" value = 0 }
				if = {
					limit = {
						NOT = { absolutism = 10 }
					}
					set_variable = { which = "Decentralisation_Max_Slots" value = 5 }
				}
				else_if = {
					limit = {
						NOT = { absolutism = 20 }
					}
					set_variable = { which = "Decentralisation_Max_Slots" value = 4 }
				}
				else_if = {
					limit = {
						NOT = { absolutism = 30 }
					}
					set_variable = { which = "Decentralisation_Max_Slots" value = 3 }
				}
				else_if = {
					limit = {
						NOT = { absolutism = 40 }
					}
					set_variable = { which = "Decentralisation_Max_Slots" value = 2 }
				}
				else_if = {
					limit = {
						NOT = { absolutism = 50 }
					}
					set_variable = { which = "Decentralisation_Max_Slots" value = 1 }
				}
				
				#Can have no more free base vassals than decentralisation value
				if = {
					limit = {
						NOT = { check_variable = { which = Decentralisation_Max_Slots which = Same_Culture_Group_Subjects } }
					}
					set_variable = { which = Same_Culture_Group_Subjects which = Decentralisation_Max_Slots }
				}
				#Feudal monarchies have no multiplier
				#nothing to calculate
			}
			
			#Add modifiers
			if = {
				limit = {
					is_variable_equal = { which = "Same_Culture_Group_Subjects" value = 1 }
				}
				add_country_modifier = { name = vassal_upkeep_1 duration = -1 }
			}
			else_if = {
				limit = {
					is_variable_equal = { which = "Same_Culture_Group_Subjects" value = 2 }
				}
				add_country_modifier = { name = vassal_upkeep_2 duration = -1 }
			}
			else_if = {
				limit = {
					is_variable_equal = { which = "Same_Culture_Group_Subjects" value = 3 }
				}
				add_country_modifier = { name = vassal_upkeep_3 duration = -1 }
			}
			else_if = {
				limit = {
					is_variable_equal = { which = "Same_Culture_Group_Subjects" value = 4 }
				}
				add_country_modifier = { name = vassal_upkeep_4 duration = -1 }
			}
			else_if = {
				limit = {
					is_variable_equal = { which = "Same_Culture_Group_Subjects" value = 5 }
				}
				add_country_modifier = { name = vassal_upkeep_5 duration = -1 }
			}
		}
		
		country_event = { id = calcul_byoa.4 days = 1 }
	}
}

country_event = {
	id = calcul_byoa.4
	
	title = "calcul_byoa.1.t"
	desc = "EVT_AI_04"
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	# hidden = yes
	
	option = {
		name = "EVT_AI"
		############################
		# MEIOU and Taxes - Clean-up
		############################
		regiongroup = {
			region = {
				limit = {
					is_city = yes
				}
				if = {
					limit = {
						has_province_modifier = surrendered_timer
						OR = {
							controlled_by = owner
							owner = { is_at_war = no }
						}
					}
					remove_province_modifier = surrendered_timer
				}
				if = {
					limit = {
						has_province_modifier = war_dynamism
						OR = {
							controlled_by = owner
							owner = { is_at_war = no }
						}
					}
					remove_province_modifier = war_dynamism
				}
			}
		}
		every_country = {
			#limit = {
			#	exists = yes
			#}
			if = {
				limit = {
					overlord = { has_country_modifier = reduced_tribute_overlord }
					NOT = { has_country_modifier = reduced_tribute_vassal }
				}
				add_country_modifier = {
					name = reduced_tribute_vassal			# liberty_desire = -10
					duration = -1
				}
			}
			if = {
				limit = {
					OR = {
						is_free_or_tributary_trigger = yes
						overlord = { NOT = { has_country_modifier = reduced_tribute_overlord } }
					}
					has_country_modifier = reduced_tribute_vassal
				}
				remove_country_modifier = reduced_tribute_vassal
			}
			if = {
				limit = {
					has_country_modifier = reduced_tribute_overlord
					NOT = { vassal = 1 }
					NOT = { personal_union = 1 }
				}
				remove_country_modifier = reduced_tribute_overlord
			}
			if = {
				limit = {
					has_country_flag = autonomy_garanteed
					is_free_or_tributary_trigger = yes
				}
				clr_country_flag = autonomy_garanteed
			}
			if = {
				limit = {
					has_country_flag = pacta_conventa
					is_free_or_tributary_trigger = yes
				}
				clr_country_flag = pacta_conventa
			}
			if = {
				limit = {
					primary_culture = northern_e
				}
				every_owned_province = {
					#if = {
					#	limit = {
					#		has_province_modifier = north_of_england
					#	}
						remove_province_modifier = north_of_england
					#}
					#if = {
					#	limit = {
					#		has_province_modifier = council_of_north
					#	}
						remove_province_modifier = council_of_north
					#}
				}
			}
			if = {
				limit = {
					primary_culture = welsh
				}
				every_owned_province = {
					#if = {
					#	limit = {
					#		has_province_modifier = marches_of_wales
					#	}
						remove_province_modifier = marches_of_wales
					#}
					#if = {
					#	limit = {
					#		has_province_modifier = council_of_wales
					#	}
						remove_province_modifier = council_of_wales
					#}
				}
			}
			if = {
				limit = {
					has_country_modifier = "Serenissima_information"
					merchant_trigger = no
				}
				remove_country_modifier = "Serenissima_information"
			}
			if = {
				limit = {
					culture_group = chinese_group
					chinese_imperial_gov_trigger = no
					NOT = { has_institution = enlightenment }
					OR = {
						check_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 180 }
						check_variable = { which = "Cores_on_the_Mandate_of_Heaven" value = 120 }
					}
					NOT = { has_country_modifier = "non_imperial_hegemon" }
				}
				country_event = { id = notification_events.010 days = 1 }
			}
			if = {
				limit = {
					has_country_modifier = "non_imperial_hegemon"
					OR = {
						NOT = { culture_group = chinese_group }
						chinese_imperial_gov_trigger = yes
						has_institution = enlightenment
						NOT = { check_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 180 } }
						NOT = { check_variable = { which = "Cores_on_the_Mandate_of_Heaven" value = 120 } }
					}
				}
				country_event = { id = notification_events.011 days = 1 }
			}
			#if = {
			#	limit = {
			#		has_country_flag = mandate_of_heaven_claimed
			#		government_rank = 6
			#		celestial_trigger = yes
			#	}
			#	add_country_modifier = {
			#		name = "territorial_princes"
			#		duration = -1
			#	}
			#}
			#if = {
			#	limit = {
			#		has_country_modifier = "territorial_princes"
			#		NOT = { government_rank = 6 }
			#		celestial_trigger = no
			#	}
			#	remove_country_modifier = "territorial_princes"
			#}
			if = {
				limit = {
					has_dlc = "Mandate of Heaven"
					is_subject_other_than_tributary_trigger = yes
					overlord = {
						has_country_flag = mandate_of_heaven_claimed
						NOT = { imperial_mandate = 30 }
					}
				}
				add_country_modifier = {
					name = "mongol_xingsheng"
					duration = -1
				}
			}
			else_if = {
				limit = {
					NOT = { has_dlc = "Mandate of Heaven" }
					OR = {
						overlord = {
							NOT = { has_country_modifier = recently_unified_china }
							has_country_flag = mandate_of_heaven_claimed
							NOT = { check_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 200 } }
							PREV = {
								is_subject_other_than_tributary_trigger = yes
							}
						}
						AND = {
							NOT = { has_country_modifier = recently_unified_china }
							has_country_flag = mandate_of_heaven_claimed
							NOT = { check_variable = { which = "Demesne_in_the_Mandate_of_Heaven" value = 200 } }
						}
					}
				}
				add_country_modifier = {
					name = "mongol_xingsheng"
					duration = -1
				}
			}
			if = {
				limit = {
					has_country_modifier = mongol_xingsheng
					NOT = { has_country_flag = mandate_of_heaven_claimed }
					NOT = { has_country_flag = barbarian_claimant_china }
					is_free_or_tributary_trigger = yes
					capital_scope = { chinese_region_trigger = no }
				}
				remove_country_modifier = mongol_xingsheng
			}
			if = {
				limit = {
					has_country_flag = white_lotus_rebellion
					is_emperor_with_mandate = yes
					has_saved_event_target = white_lotus_tag
				}
				if = {
					limit = {
						event_target:white_lotus_tag = {
							exists = no
						}
					}
					clear_global_event_target = white_lotus_tag
					clr_country_flag = white_lotus_rebellion
				}
			}
			if = { 
				limit = {
					has_country_flag = imperial_appenage
					overlord = { NOT = { has_country_flag = mandate_of_heaven_claimed } }
				}
				clr_country_flag = imperial_appenage
			}
			if = {
				limit = {
					culture_group = japanese
					is_subject_of_type = vassal
					overlord = {
						NOT = { has_country_flag = centralised_japan }
						daimyo_trigger = yes
						culture_group = japanese
					}
				}
				overlord = {
					create_subject = {
						who = PREV
						subject_type = daimyo_vassal
					}
				}
			}
			else_if = {
				limit = {
					culture_group = japanese
					is_subject_of_type = vassal
					overlord = {
						has_country_flag = centralised_japan
						daimyo_trigger = yes
						culture_group = japanese
					}
				}
				overlord = {
					create_subject = {
						who = PREV
						subject_type = centralised_daimyo_vassal
					}
				}
			}
			if = {
				limit = {
					tag = MRI
					1026 = {
						owned_by = MRI
						has_province_modifier = mori_daimyo
					}
				}
				1026 = { remove_province_modifier = mori_daimyo }
			}
			if = {
				limit = {
					tag = KKZ
					2297 = {
						owned_by = KKZ
						has_province_modifier = kakizaki_daimyo
					}
				}
				2297 = { remove_province_modifier = kakizaki_daimyo }
			}
			#####################################
			# Nationalism
			#####################################
			if = {
				limit = {
					early_nationalism_trigger = yes
					NOT = { has_country_modifier = "early_nationalism" }
				}
				country_event = { id = notification_events.012 days = 1 }
			}
			if = {
				limit = {
					mid_nationalism_trigger = yes
					NOT = { has_country_modifier = "mid_nationalism" }
				}
				country_event = { id = notification_events.013 days = 1 }
			}
			if = {
				limit = {
					late_nationalism_trigger = yes
					NOT = { has_country_modifier = "late_nationalism" }
				}
				country_event = { id = notification_events.014 days = 1 }
			}
			#####################################
			# Control of Religious Shrines
			#####################################
			if = {
				limit = {
					normal_or_historical_nations = yes
				}
				if = {
					limit = {
						owns = 2099 # Riau
						religion = buddhism
						NOT = { has_country_modifier = "theravada_kotte" }
					}
					country_event = { id = notification_events.023 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "theravada_kotte"
						OR = {
							NOT = { owns = 2099 } # Riau
							NOT = { religion = buddhism }
						}
					}
					country_event = { id = notification_events.024 days = 1 }
				}
				if = {
					limit = {
						owns = 2263 # Lhassa
						religion = vajrayana
						NOT = { has_country_modifier = "vajrayana_lhasa" }
					}
					country_event = { id = notification_events.025 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "vajrayana_lhasa"
						OR = {
							NOT = { owns = 2263 } # Lhassa
							NOT = { religion = vajrayana }
						}
					}
					country_event = { id = notification_events.026 days = 1 }
				}
				if = {
					limit = {
						owns = 702 # Henan
						religion = buddhism
						NOT = { has_country_modifier = "mahayana_louyang" }
					}
					country_event = { id = notification_events.027 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "mahayana_louyang"
						OR = {
							NOT = { owns = 702 } # Henan
							NOT = { religion = buddhism }
						}
					}
					country_event = { id = notification_events.028 days = 1 }
				}
				if = {
					limit = {
						owns = 558 # Patna
						OR = {
							religion = buddhism
							religion = vajrayana
							religion = mahayana
						}
						NOT = { has_country_modifier = "buddhist_bodh_gaya" }
					}
					country_event = { id = notification_events.029 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "buddhist_bodh_gaya"
						OR = {
							NOT = { owns = 558 } # Patna
							AND = {
								NOT = { religion = buddhism }
								NOT = { religion = vajrayana }
								NOT = { religion = mahayana }
							}
						}
					}
					country_event = { id = notification_events.030 days = 1 }
				}
				if = {
					limit = {
						owns = 809 # Chimu
						religion = inti
						is_religion_reformed = yes
						NOT = { has_country_modifier = "inti_lima" }
					}
					country_event = { id = notification_events.031 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "inti_lima"
						OR = {
							NOT = { owns = 809 } # Chimu
							NOT = { religion = inti }
							is_religion_reformed = no
						}
					}
					country_event = { id = notification_events.032 days = 1 }
				}
				if = {
					limit = {
						owns = 2644 # Cuetlaxtlan
						religion = nahuatl
						is_religion_reformed = yes
						NOT = { has_country_modifier = "nahuatl_cholula" }
					}
					country_event = { id = notification_events.033 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "nahuatl_cholula"
						OR = {
							NOT = { owns = 2644 } # Cuetlaxtlan
							NOT = { religion = nahuatl }
							is_religion_reformed = no
						}
					}
					country_event = { id = notification_events.034 days = 1 }
				}
				if = {
					limit = {
						owns = 846 # Chichen Itza
						religion = mesoamerican_religion
						is_religion_reformed = yes
						NOT = { has_country_modifier = "mayan_chichen_itza" }
					}
					country_event = { id = notification_events.035 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "mayan_chichen_itza"
						OR = {
							NOT = { owns = 846 } # Chichen Itza
							NOT = { religion = mesoamerican_religion }
							is_religion_reformed = no
						}
					}
					country_event = { id = notification_events.036 days = 1 }
				}
				if = {
					limit = {
						owns = 2075 # Bakairi
						religion = sikhism
						2075 = { religion = sikhism }
						NOT = { has_country_modifier = "sikh_amritsar" }
					}
					country_event = { id = notification_events.037 days = 1 }
				}
				if = {
					limit = {
						has_country_modifier = "sikh_amritsar"
						OR = {
							NOT = { owns = 2075 } # Bakairi
							NOT = { religion = sikhism }
							2075 = { NOT = { religion = sikhism } }
						}
					}
					country_event = { id = notification_events.038 days = 1 }
				}
			}
			
			#####################################
			# Absolutism / Centralisation
			#####################################
			if = {
				limit = {
					NOT = { has_country_modifier = absolutism_6 }
					adm_tech = 13
				}
				if = {
					limit = {
						NOT = { adm_tech = 18 }
						NOT = { has_country_modifier = absolutism_1 }
					}
					country_event = { id = notification_events.046 days = 1 }
				}
				else_if = {
					limit = {
						adm_tech = 18
						NOT = { adm_tech = 25 }
						NOT = { has_country_modifier = absolutism_2 }
					}
					country_event = { id = notification_events.047 days = 1 }
				}
				else_if = {
					limit = {
						adm_tech = 25
						NOT = { adm_tech = 35 }
						NOT = { has_country_modifier = absolutism_3 }
					}
					country_event = { id = notification_events.048 days = 1 }
				}
				else_if = {
					limit = {
						adm_tech = 35
						NOT = { adm_tech = 38 }
						NOT = { has_country_modifier = absolutism_4 }
					}
					country_event = { id = notification_events.049 days = 1 }
				}
				else_if = {
					limit = {
						adm_tech = 38
						NOT = { adm_tech = 50 }
						NOT = { has_country_modifier = absolutism_5 }
					}
					country_event = { id = notification_events.050 days = 1 }
				}
				else_if = {
					limit = {
						adm_tech = 50
					}
					country_event = { id = notification_events.051 days = 1 }
				}
			}
			
			#####################################
			# Condottieri bonus
			#####################################
			if = {
				limit = {
					NOT = { has_country_modifier = condottieri_tech_60 }
					dip_tech = 7
				}
				if = {
					limit = {
						NOT = { dip_tech = 10 }
						NOT = { has_country_modifier = condottieri_tech_7 }
					}
					country_event = { id = notification_events.052 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 10
						NOT = { dip_tech = 12 }
						NOT = { has_country_modifier = condottieri_tech_10 }
					}
					country_event = { id = notification_events.053 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 12
						NOT = { dip_tech = 14 }
						NOT = { has_country_modifier = condottieri_tech_12 }
					}
					country_event = { id = notification_events.054 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 14
						NOT = { dip_tech = 16 }
						NOT = { has_country_modifier = condottieri_tech_14 }
					}
					country_event = { id = notification_events.055 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 16
						NOT = { dip_tech = 18 }
						NOT = { has_country_modifier = condottieri_tech_16 }
					}
					country_event = { id = notification_events.056 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 18
						NOT = { dip_tech = 20 }
						NOT = { has_country_modifier = condottieri_tech_18 }
					}
					country_event = { id = notification_events.057 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 20
						NOT = { dip_tech = 22 }
						NOT = { has_country_modifier = condottieri_tech_20 }
					}
					country_event = { id = notification_events.058 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 22
						NOT = { dip_tech = 24 }
						NOT = { has_country_modifier = condottieri_tech_22 }
					}
					country_event = { id = notification_events.059 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 24
						NOT = { dip_tech = 26 }
						NOT = { has_country_modifier = condottieri_tech_24 }
					}
					country_event = { id = notification_events.060 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 26
						NOT = { dip_tech = 28 }
						NOT = { has_country_modifier = condottieri_tech_26 }
					}
					country_event = { id = notification_events.061 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 28
						NOT = { dip_tech = 30 }
						NOT = { has_country_modifier = condottieri_tech_28 }
					}
					country_event = { id = notification_events.062 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 30
						NOT = { dip_tech = 32 }
						NOT = { has_country_modifier = condottieri_tech_30 }
					}
					country_event = { id = notification_events.063 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 32
						NOT = { dip_tech = 34 }
						NOT = { has_country_modifier = condottieri_tech_32 }
					}
					country_event = { id = notification_events.064 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 34
						NOT = { dip_tech = 36 }
						NOT = { has_country_modifier = condottieri_tech_34 }
					}
					country_event = { id = notification_events.065 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 36
						NOT = { dip_tech = 38 }
						NOT = { has_country_modifier = condottieri_tech_36 }
					}
					country_event = { id = notification_events.066 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 38
						NOT = { dip_tech = 40 }
						NOT = { has_country_modifier = condottieri_tech_38 }
					}
					country_event = { id = notification_events.067 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 40
						NOT = { dip_tech = 42 }
						NOT = { has_country_modifier = condottieri_tech_40 }
					}
					country_event = { id = notification_events.068 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 42
						NOT = { dip_tech = 44 }
						NOT = { has_country_modifier = condottieri_tech_42 }
					}
					country_event = { id = notification_events.069 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 44
						NOT = { dip_tech = 46 }
						NOT = { has_country_modifier = condottieri_tech_44 }
					}
					country_event = { id = notification_events.070 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 46
						NOT = { dip_tech = 48 }
						NOT = { has_country_modifier = condottieri_tech_46 }
					}
					country_event = { id = notification_events.071 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 48
						NOT = { dip_tech = 50 }
						NOT = { has_country_modifier = condottieri_tech_48 }
					}
					country_event = { id = notification_events.072 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 50
						NOT = { dip_tech = 52 }
						NOT = { has_country_modifier = condottieri_tech_50 }
					}
					country_event = { id = notification_events.073 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 52
						NOT = { dip_tech = 54 }
						NOT = { has_country_modifier = condottieri_tech_52 }
					}
					country_event = { id = notification_events.074 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 54
						NOT = { dip_tech = 56 }
						NOT = { has_country_modifier = condottieri_tech_54 }
					}
					country_event = { id = notification_events.075 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 56
						NOT = { dip_tech = 58 }
						NOT = { has_country_modifier = condottieri_tech_56 }
					}
					country_event = { id = notification_events.076 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 58
						NOT = { dip_tech = 60 }
						NOT = { has_country_modifier = condottieri_tech_58 }
					}
					country_event = { id = notification_events.077 days = 1 }
				}
				else_if = {
					limit = {
						dip_tech = 60
					}
					country_event = { id = notification_events.078 days = 1 }
				}
			}
			######################################################
			# Removal of colonial ideas from colonial nations
			######################################################
			if = {
				limit = {
					is_colonial_nation = yes
					OR = {
						full_idea_group = exploration_ideas
						full_idea_group = expansion_ideas
						full_idea_group = global_empire_ideas
					}
					ai = yes
				}
				if = {
					limit = { full_idea_group = exploration_ideas }
					remove_idea_group = exploration_ideas
					if = {
						limit = { NOT = { has_idea_group = trade_ideas } }
						add_idea_group = trade_ideas
						add_idea = national_trade_policy
						add_idea = shrewd_commerce_practise
						add_idea = merchant_adventures
						add_idea = free_trade
						add_idea = trade_manipulation
						add_idea = additional_merchants
						add_idea = fast_negotiations
					}
					else_if = {
						limit = { NOT = { has_idea_group = plutocracy_ideas } }
						add_idea_group = plutocracy_ideas
						add_idea = free_cities
						add_idea = competetive_merchants
						add_idea = resilient_state
						add_idea = tradition_of_payment
						add_idea = pragmatism
						add_idea = free_merchants
						add_idea = popular_support
					}
					else_if = {
						limit = {
							full_idea_group = trade_ideas
							AND = {
								NOT = { has_idea_group = free_trade_ideas }
								NOT = { has_idea_group = mercantilism_ideas }
							}
						}
						add_idea_group = mercantilism_ideas
						add_idea = protectionism
						add_idea = trade_practice_regulations
						add_idea = market_day
						add_idea = subsidized_economy
						add_idea = controlled_fairs
						add_idea = economic_advisor
						add_idea = staple_right
					}
					else_if = {
						limit = {
							full_idea_group = trade_ideas
							full_idea_group = naval_ideas
							NOT = { has_idea_group = merchant_marine_ideas }
							num_of_ports = 1
						}
						add_idea_group = merchant_marine_ideas
						add_idea = skeleton_based_shipbuilding
						add_idea = convoy
						add_idea = fore_and_aft_rigged_vessels
						add_idea = transportation_companies
						add_idea = privateers
						add_idea = experienced_navigators
						add_idea = private_shipbuilding_incentives
					}
					else = {
						limit = { NOT = { has_idea_group = culture_ideas } }
						add_idea_group = culture_ideas
						add_idea = patron_of_art
						add_idea = educated_court
						add_idea = novel_court
						add_idea = scientific_encouragement
						add_idea = educated_ruler
						add_idea = luxury_tax
						add_idea = open_mind
					}
				}
				if = {
					limit = { full_idea_group = expansion_ideas }
					remove_idea_group = expansion_ideas
					if = {
						limit = { NOT = { has_idea_group = economic_ideas } }
						add_idea_group = economic_ideas
						add_idea = trade_councils
						add_idea = tax_agency
						add_idea = secure_trade_routes
						add_idea = real_economy
						add_idea = production_rights
						add_idea = national_bank
						add_idea = smithian_economics
					}
					else_if = {
						limit = { NOT = { has_idea_group = bureaucracy_ideas } }
						add_idea_group = bureaucracy_ideas
						add_idea = collaboration
						add_idea = adaptability
						add_idea = citizen_service
						add_idea = corruption_fighting
						add_idea = civil_servants
						add_idea = integration
						add_idea = centralisation
					}
					else_if = {
						limit = { NOT = { has_idea_group = administrative_ideas } }
						add_idea_group = administrative_ideas
						add_idea = currency_standards
						add_idea = mercenary_hiring
						add_idea = martial_administration
						add_idea = fortification_maintenance
						add_idea = naval_administration
						add_idea = stable_prices
						add_idea = state_organization
					}
					else_if = {
						limit = { NOT = { has_idea_group = innovativeness_ideas } }
						add_idea_group = innovativeness_ideas
						add_idea = emancipation
						add_idea = formalized_naval_officers
						add_idea = optimism
						add_idea = scientific_revolution
						add_idea = formalized_officer_corps
						add_idea = dynamic_court
						add_idea = free_subjects
					}
					else = {
						limit = {
							full_idea_group = economic_ideas
							NOT = { has_idea_group = engineering_ideas }
						}
						add_idea_group = engineering_ideas
						add_idea = organised_construction
						add_idea = improved_gunpowder
						add_idea = naval_construction
						add_idea = multi_role_artillery
						add_idea = pioneer_corps
						add_idea = unified_construction_plans
						add_idea = new_fortification_techniques
					}
				}
				if = {
					limit = { full_idea_group = global_empire_ideas }
					remove_idea_group = global_empire_ideas
					if = {
						limit = { NOT = { has_idea_group = economic_ideas } }
						add_idea_group = economic_ideas
						add_idea = trade_councils
						add_idea = tax_agency
						add_idea = secure_trade_routes
						add_idea = real_economy
						add_idea = production_rights
						add_idea = national_bank
						add_idea = smithian_economics
					}
					else_if = {
						limit = { NOT = { has_idea_group = bureaucracy_ideas } }
						add_idea_group = bureaucracy_ideas
						add_idea = collaboration
						add_idea = adaptability
						add_idea = citizen_service
						add_idea = corruption_fighting
						add_idea = civil_servants
						add_idea = integration
						add_idea = centralisation
					}
					else_if = {
						limit = { NOT = { has_idea_group = administrative_ideas } }
						add_idea_group = administrative_ideas
						add_idea = currency_standards
						add_idea = mercenary_hiring
						add_idea = martial_administration
						add_idea = fortification_maintenance
						add_idea = naval_administration
						add_idea = stable_prices
						add_idea = state_organization
					}
					else_if = {
						limit = { NOT = { has_idea_group = innovativeness_ideas } }
						add_idea_group = innovativeness_ideas
						add_idea = emancipation
						add_idea = formalized_naval_officers
						add_idea = optimism
						add_idea = scientific_revolution
						add_idea = formalized_officer_corps
						add_idea = dynamic_court
						add_idea = free_subjects
					}
					else = {
						limit = {
							full_idea_group = economic_ideas
							NOT = { has_idea_group = engineering_ideas }
						}
						add_idea_group = engineering_ideas
						add_idea = organised_construction
						add_idea = improved_gunpowder
						add_idea = naval_construction
						add_idea = multi_role_artillery
						add_idea = pioneer_corps
						add_idea = unified_construction_plans
						add_idea = new_fortification_techniques
					}
				}
			}
			######################################################
			# Bonus from expansion ideas
			######################################################
			if = {
				limit = { full_idea_group = expansion_ideas }
				every_owned_province = {
					limit = { is_owned_by_trade_company = yes }
					add_province_modifier = { name = province_bonus_from_expansion_ideas duration = -1 hidden = yes }
				}
			}
			else = { every_owned_province = { remove_province_modifier = province_bonus_from_expansion_ideas } }
		}
		country_event = { id = calcul_byoa.5 days = 1 }
	}
}

country_event = {
	id = calcul_byoa.5
	
	title = "calcul_byoa.1.t"
	desc = "EVT_AI_05"
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	# hidden = yes
	
	option = {
		name = "EVT_AI"
		every_country = {
			#limit = {
			#	exists = yes
			#}
			#####################################
			# Bosphorous Strait
			#####################################
			if = {
				limit = {
					owns_or_non_sovereign_subject_of = 3386
					owns_or_non_sovereign_subject_of = 1446
					owns_or_non_sovereign_subject_of = 2238
					owns = 1402 # Konstantinoupolis
					NOT = { has_country_modifier = bosphorus_strait_good }
				}
				country_event = { id = bosphorous_strait.001 }
			}
			if = {
				limit = {
					OR = {
						AND = {
							owns = 1402 # Konstantinoupolis
							owns_or_non_sovereign_subject_of = 1446
							OR = {
								NOT = { owns_or_non_sovereign_subject_of = 3386 }
								NOT = { owns_or_non_sovereign_subject_of = 2238 }
							}
						}
						AND = {
							owns_or_non_sovereign_subject_of = 3386
							owns_or_non_sovereign_subject_of = 2238
							OR = {
								NOT = { owns = 1402 } # Konstantinoupolis
								NOT = { owns_or_non_sovereign_subject_of = 1446 }
							}
						}
					}
					NOT = { has_country_modifier = bosphorus_strait_split }
				}
				country_event = { id = bosphorous_strait.002 }
			}
			if = {
				limit = {
					owns = 1402 # Konstantinoupolis
					NOT = { owns_or_non_sovereign_subject_of = 3386 }
					NOT = { owns_or_non_sovereign_subject_of = 1446 }
					NOT = { owns_or_non_sovereign_subject_of = 2238 }
					NOT = { has_country_modifier = bosphorus_strait_bad }
				}
				country_event = { id = bosphorous_strait.003 }
			}
			if = {
				limit = {
					is_part_of_hre = yes
					hre_size = 60
					is_emperor = no
				}
				add_country_modifier = {
					name = "big_hre"
					duration = -1
				}
			}
			else = {
				remove_country_modifier = "big_hre"
			}
			if = {
				limit = {
					check_variable = { which = "Demesne_in_Great_Britain" value = 15 }
				}
				if = {
					limit = {
						has_country_modifier = highland_charge
					}
					country_event = { id = flavor_sco.11 days = 10 }
				}
				if = {
					limit = {
						has_country_modifier = longbowmen_modifier
						mil_tech = 15
					}
					country_event = { id = flavor_eng.0001 days = 10 }
				}
			}
			
			
			if = {
				limit = {
					culture_group = iberian
					has_country_flag = the_anti_piracy_act
					religion_group = christian
				}
				if = {
					limit = {
						calc_true_if = {
							all_owned_province = {
								has_province_flag = barbary_port
							}
							amount = 3
						}
						NOT = { has_country_modifier = "barbary_pirates" }
					}
					country_event = { id = flavor_spa.7001 }
				}
				if = {
					limit = {
						NOT = {
							calc_true_if = {
								all_owned_province = {
									has_province_flag = barbary_port
								}
								amount = 3
							}
						}
						has_country_modifier = "barbary_pirates"
					}
					country_event = { id = flavor_spa.7002 }
				}
			}
		}
		#####################################
		# MEIOU and Taxes - Holy Roman Empire
		#####################################
		every_elector = {
			limit = {
				#exists = yes
				is_at_war = no
				is_subject_other_than_tributary_trigger = yes
				is_lesser_in_union = no
				# is_protectorate = no
				is_colonial_nation = no
				NOT = { hre_reform_level = 7 }
				NOT = { emperor = { has_opinion = { who = PREV value = 100 } } }
			}
			country_event = { id = holyromanempire.2 }
		}
		#every_country = {
		#	limit = {
		#		exists = yes
		#		is_at_war = no
		#		is_elector = yes
		#		is_lesser_in_union = yes
		#		overlord = {
		#			is_elector = no
		#			OR = {
		#				emperor = { has_opinion = { who = PREV value = 200 } }
		#				is_emperor = yes
		#			}
		#		}
		#	}
		#	country_event = { id = holyromanempire.4 }
		#}
		country_event = { id = calcul_byoa.6 days = 1 }
	}
}

country_event = {
	id = calcul_byoa.6
	
	title = "calcul_byoa.1.t"
	desc = "EVT_AI_06"
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	# hidden = yes
	
	option = {
		name = "EVT_AI"
		#####################################
		# MEIOU and Taxes - Scaling Indian Manpower
		#####################################
		every_country = {
			limit = {
				#exists = yes
				indian_culture_trig = yes
			}
			remove_country_modifier = indian_mp1
			remove_country_modifier = indian_mp2
			remove_country_modifier = indian_mp3
			remove_country_modifier = indian_mp4
			remove_country_modifier = indian_manpower
			if = {
				limit = {
					NOT = { total_development = 80 }
				}
				add_country_modifier = {
					name = indian_mp1
					duration = -1
				}
			}
			else_if = {
				limit = {
					NOT = { total_development = 160 }
				}
				add_country_modifier = {
					name = indian_mp2
					duration = -1
				}
			}
			else_if = {
				limit = {
					NOT = { total_development = 320 }
				}
				add_country_modifier = {
					name = indian_mp3
					duration = -1
				}
			}
			else_if = {
				limit = {
					NOT = { total_development = 640 }
				}
				add_country_modifier = {
					name = indian_mp4
					duration = -1
				}
			}
			else = {
				add_country_modifier = {
					name = indian_manpower
					duration = -1
				}
			}
		}
		#######################
		# MEIOU and Taxes - Arab Cavalry Bonus
		#######################			
		#every_country = {
		#	limit = {
		#		exists = yes
		#		arab_tribal_trigger = yes
		#	}
		#	remove_country_modifier = arab_cavalry_1
		#	remove_country_modifier = arab_cavalry_2
		#	remove_country_modifier = arab_cavalry_3
		#	if = {
		#		limit = {
		#			NOT = {
		#				num_of_owned_provinces_with = {
		#					has_province_modifier = arab_tribal_area
		#					value = 5
		#				}
		#			}
		#		}
		#		add_country_modifier = {
		#			name = arab_cavalry_1
		#			duration = -1
		#		}
		#	}
		#	if = {
		#		limit = {
		#			num_of_owned_provinces_with = {
		#				has_province_modifier = arab_tribal_area
		#				value = 5
		#			}
		#			NOT = {
		#				num_of_owned_provinces_with = {
		#					has_province_modifier = arab_tribal_area
		#					value = 10
		#				}
		#			}
		#		}
		#		add_country_modifier = {
		#			name = arab_cavalry_2
		#			duration = -1
		#		}
		#	}
		#	if = {
		#		limit = {
		#			num_of_owned_provinces_with = {
		#				has_province_modifier = arab_tribal_area
		#				value = 10
		#			}
		#		}
		#		add_country_modifier = {
		#			name = arab_cavalry_3
		#			duration = -1
		#		}
		#	}
		#}
		#######################
		# MEIOU and Taxes - Pashtun Infantry Bonus
		#######################			
		#every_country = {
		#	limit = {
		#		exists = yes
		#		pashtun_infantry_trigger = yes
		#	}
		#	remove_country_modifier = pashtun_infantry_1
		#	remove_country_modifier = pashtun_infantry_2
		#	remove_country_modifier = pashtun_infantry_3
		#	if = {
		#		limit = {
		#			NOT = {
		#				num_of_owned_provinces_with = {
		#					has_province_modifier = pashtun_tribal_area
		#					value = 5
		#				}
		#			}
		#		}
		#		add_country_modifier = {
		#			name = pashtun_infantry_1
		#			duration = -1
		#		}
		#	}
		#	if = {
		#		limit = {
		#			num_of_owned_provinces_with = {
		#				has_province_modifier = pashtun_tribal_area
		#				value = 5
		#			}
		#			NOT = {
		#				num_of_owned_provinces_with = {
		#					has_province_modifier = pashtun_tribal_area
		#					value = 10
		#				}
		#			}
		#		}
		#		add_country_modifier = {
		#			name = pashtun_infantry_2
		#			duration = -1
		#		}
		#	}
		#	if = {
		#		limit = {
		#			num_of_owned_provinces_with = {
		#				has_province_modifier = pashtun_tribal_area
		#				value = 10
		#			}
		#		}
		#		add_country_modifier = {
		#			name = pashtun_infantry_3
		#			duration = -1
		#		}
		#	}
		#}
		#######################
		# MEIOU and Taxes - Qasim Khanate Levies
		#######################			
		#every_country = {
		#	limit = {
		#		exists = yes
		#		has_country_modifier = qasim_khanate_levies
		#	}
		#	remove_country_modifier = qasim_khanate_levies
		#	if = {
		#		limit = {
		#			culture_group = east_slavic
		#			num_of_owned_provinces_with = {
		#				has_province_modifier = qasim_khanate
		#				value = 1
		#			}
		#		}
		#		add_country_modifier = {
		#			name = qasim_khanate_levies
		#			duration = -1
		#		}
		#	}
		#}
		country_event = { id = calcul_byoa.7 days = 1 }
	}
}

country_event = {
	id = calcul_byoa.7
	
	title = "calcul_byoa.1.t"
	desc = "EVT_AI_07"
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	# hidden = yes
	
	option = {
		name = "EVT_AI"
		#random_country = { #as hilarious as it is, this will never happen.
		#	limit = {
		#		tag = SWE
		#		183 = {
		#			owned_by = SWE
		#			culture = swedish
		#			is_capital = no
		#		}
		#		primary_culture = swedish
		#	}
		#	country_event = { id = flavor_swe.1974 }
		#}
		
		ENR = {
			if = {
				limit = {
					exists = yes
					NOT = { exists = CAS }
				}
				country_event = { id = castilian_civil_war.103 }
			}
		}
		#random_country = {
		#	limit = {
		#		tag = ENR
		#		NOT = { exists = CAS }
		#	}
		#	country_event = { id = castilian_civil_war.103 }
		#}
		random_country = {
			limit = {
				OR = {
					AND = {
						tag = CAS
						exists = ENR
					}
					AND = {
						tag = ENR
						exists = CAS
					}
				}
				is_year = 1396
			}
			country_event = { id = castilian_civil_war.30 }
		}
		
# Removed by Ekinda
#		random_country = {
#			limit = {
#				has_country_flag = bur_successor
#				capital_scope = {
#					is_part_of_hre = yes
#				}
#				any_owned_province = {
#					has_province_flag = bur_succession_province
#					is_part_of_hre = yes
#					any_core_country = {
#						NOT = { tag = PREV }
#						exists = yes
#						capital_scope = {
#							is_part_of_hre = yes
#						}
#					}
#				}
#			}
#			country_event = { id = flavor_bur.7 }
#		}
		#random_country = { #again, will (almost) never happen. Might've been a slight chance if not for the 10 loans thing.
		#	limit = {
		#		tag = KNP
		#		is_year = 1640
		#		NOT = { is_year = 1655 }
		#		OR = {
		#			NOT = { stability = 1 }
		#			war_exhaustion = 5
		#			inflation = 5
		#			NOT = { legitimacy = 90 }
		#			num_of_loans = 10
		#		}
		#	}
		#	country_event = { id = flavor_nap.5 }
		#}
		
# Removed by Ekinda
#		random_country = {
#			limit = {
#				owns = 97 # Amsterdam
#				NOT = { exists = BRB }
#				NOT = { exists = FLA }
#				NOT = { exists = HAI }
#				NOT = { exists = HOL }
#				NOT = { has_global_flag = zeventien_provincien }
#			}
#			country_event = { id = flavor_bur.2001 }
#		}
	}
}


country_event = {
	id = calcul_byoa.9
	
	title = "calcul_byoa.1.t"
	desc = "EVT_AI_09"
	picture = GOOD_WITH_MONARCH_eventPicture
	
	is_triggered_only = yes
	
	hidden = yes
	
	option = {
		name = "EVT_AI"
		#set_country_flag = "overlord_country"
		##############################
		# Vassal-Overlord Relationship
		##############################
		every_subject_country = {
			limit = {
				NOT = { check_variable = { which = Years_as_Vassal value = 1 } }
				is_colonial_nation = no
				# is_protectorate = no
			}
			set_variable = { which = Years_as_Vassal value = 1 }
		}
		if = {
			limit = {
				is_free_or_tributary_trigger = yes
				check_variable = { which = Integration_Factor value = 1 }
			}
			set_variable = { which = Assimilation_Process value = 0 }
			set_variable = { which = Integration_Factor value = 0 }
			set_variable = { which = Remaining_Years value = 0 }
			set_variable = { which = Years_as_Subject value = 0 }
			set_variable = { which = Years_as_Vassal value = 0 }
		}
		every_subject_country = {
			limit = {
				NOT = { years_in_vassalage_under = { who = PREV years = 5 } }
				NOT = { years_in_union_under = { who = PREV years = 5 } }
				check_variable = { which = Years_as_Vassal value = 5 }
			}
			set_variable = { which = Years_as_Vassal value = 2 }
		}
		every_subject_country = {
			limit = {
				check_variable = { which = Years_as_Vassal value = 1 }
			}
			change_variable = { which = Years_as_Vassal value = 2 }
		}
		assimilation_process_effect = yes
	}
}

#country_event = {
#	id = calcul_byoa.10
#	
#	title = "calcul_byoa.1.t"
#	desc = "EVT_AI_10"
#	picture = GOOD_WITH_MONARCH_eventPicture
#	
#	is_triggered_only = yes
#	
#	# hidden = yes
#	
#	option = {
#		name = "EVT_AI"
#		every_country = {
#			limit = {
#				exists = yes
#			}
#			########################
#			# RECONFIGURING INDUSTRY
#			########################
#			every_owned_province = {
#				if = {
#					limit = {
#						has_province_modifier = reconfiguring_industry_short_em
#						had_province_flag = { flag = reconfiguring_industry_short days = 7300 }
#					}
#					remove_province_modifier = reconfiguring_industry_short_em
#					clr_province_flag = reconfiguring_industry_short
#				}
#				if = {
#					limit = {
#						has_province_modifier = reconfiguring_industry_medium_em
#						had_province_flag = { flag = reconfiguring_industry_medium days = 14600 }
#					}
#					remove_province_modifier = reconfiguring_industry_medium_em
#					clr_province_flag = reconfiguring_industry_medium
#				}
#				if = {
#					limit = {
#						has_province_modifier = reconfiguring_industry_long_em
#						had_province_flag = { flag = reconfiguring_industry_long days = 21900 }
#					}
#					remove_province_modifier = reconfiguring_industry_long_em
#					clr_province_flag = reconfiguring_industry_long
#				}
#			}
#			
#			#####################################
#			# END OF LINE
#			#####################################
#		}
#		#102 = { change_variable = { which = byoa_calculations value = 1 } }
#	}
#}
province_event = {
	id = calcul_byoa.11
	
	title = no_localization
	desc = no_localization
	picture = MEIOU_AND_TAXES_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	option = {
		name = "EVT_AI"
		clr_province_flag = storage
		POP_GetProv = { var=prov_to_search return=Prov }
		event_target:Prov = {
			if = {
				limit = {
					is_city = no
				}
				Wipe_Data = yes
				Copy_Data_From = { Storage=ROOT type=province }
			}
		}
		set_variable = { which = prov_to_search value = 0 }
	}
}

namespace = dg_reformation
#56 of 57 events coded

#####################
# The Diet of Worms # 00s - 10s
#####################

#01 - The Ninety-Five Theses (October 1517, Wittenburg)
#02 - The Ninety-Five Theses (news)
#03 - Support for Reform
#04 - Debating Reform
#05 - The [Leipzig] Disputation (July 1519, Leipzig)
#06 - The [Leipzig] Disputation (news)
#07 - Exsurge Domine (June 1520)
#08 - The [Elector]'s Duty (1521, Saxony)
#09 - Appeal to Caesar (1521, Emperor)
#10 - The Summons (1521, Saxony)
#11 - Safe Passage (1251, Emperor)
#12 - Safe Passage (news)
#13 - The Empty Seat (ahistorical)
#14 - The [Emperor]'s displeasure (ahistorical)
#15 - For God and the Pope (ahistorical)
#16 - For God and the Pope (ahistorical)
#17 - Edict of [Worms] (April 1521, Emperor) [Heretics become Protestants]
#18 - Edict of [Worms] (spreads out from the trial to the rest of Europe)
#19 - Martyrdom in [Worms]

#######################
# Tension and Turmoil # 20s - 30s
#######################

#20 - Mysterious Disappearance (May 1521, Saxony)
#21 - Mysterious Disappearance (news)
#22 - Debate Verdict (April 1521, Paris and Erfurt)
#23 - The [Emperor]'s response (ahistorical)
#24 - Fidei Defensor (1521)
#25 - Driving the Devil Away With Ink (1521/2) - Luther writes more books to combat depression and mood swings
#26 - Reformation Theology (1521)
#27 - Divided Reformation (1521-2 Karlstadt in Saxony)
#28 - The [Zwicau] Prophets (1522 Saxony)
#29 - Reformer's Return (1522)
#30 - Capture of the Heretic (ahistorical, hidden)
#31 - Knights War (1522)
#32 - Peasants War (1524)
#33 - Admonition to peace (May 1525) [enables Protestantism]
#34 - Admonition to peace (news)
#35 - Admonition to revolution (ahistorical) [enables Protestantism]
#36 - Admonition to revolution (news)
#37* - New Jerusalem (Munster 1534-5)
#38 - Capture of the Heretic (ahistorical, capturer)

#############################
# Spread of the Reformation # 40s and 50s
#############################

#41 - Populist Reformation
#42 - Magisterial Reformation
#43 - Radical Reformation
#44 - Frustrated Reformation
#45 - Religious Nationalism

##################
# Church Aspects # 60s
##################

#61 - Debate over Clerical Marriage
#62 - Debate over Divorce
#63 - Debate over Scripture
#64 - Debate over Baptism
#65 - Debate over Salvation
#66 - Debate over Ordination
#67 - Debate over Church Membership

#################
# Denominations # 70s and 80s
#################

#71 - The Protestant Church (1517) (3 aspects set if not already (TO DO))
#72 - The Episcopalian Church (1534) (3 aspects)
#73 - The Reformed Church (1536) (3 aspects)
#74 - The Puritan Church (1558) (3 aspects)
#75 - The Presbyterian Church (1560) (3 aspects)
#76 - The Congregational Church (1582) (4 aspects)
#77 - The Baptist Church (1607/9) (4 aspects)
#78 - The Quaker Church (1648) (5 aspects)
#79 - The Methodist Church (1738) (6 aspects)

#######################
# Reformation Origins # 00s and 10s
#######################

province_event = { #01 - The Ninety-Five Theses (1517)
	
	id = dg_reformation.001
	title = dg_reformation.001.t
	desc = dg_reformation.001.d
	picture = protestant_reformation
	
	is_triggered_only = yes #By DG_Conversion.001
	
	immediate = {
		set_global_flag = reformation_ninety_five_theses
		custom_tooltip = dg_reformation.001.owner
		hidden_effect = {
			owner = {
				every_country = {
					limit = {
						OR = {
							is_papal_controller = yes
							event_target:reformation_origins_disputation = { owned_by = PREV }
							event_target:reformation_origins_archbishop = { owned_by = PREV }
							AND = {
								OR = {
									has_country_flag = religious_news_major
									ai = yes
								}
								religion = catholic
								OR = {
									AND = {
										ROOT = { is_part_of_hre = yes }
										is_emperor = yes
									}
									government = theocracy
									overlord_of = PREV
									is_subject_of = PREV
									PREV = { overlord = { overlord_of = ROOT } }
									is_neighbor_of = PREV
								}
							}
							AND = {
								OR = {
									has_country_flag = religious_news_trivial
									ai = yes
								}
								religion = catholic
								OR = {
									is_rival = PREV
									is_enemy = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = ROOT
									has_country_flag = humanism
								}
							}
							AND = {
								OR = {
									has_country_flag = religious_news_all
									ai = yes
								}
								OR = {
									religion = catholic
									any_owned_province = { has_province_flag = humanist_ideas }
									overlord_of = PREV
									is_neighbor_of = PREV
									is_rival = PREV
									is_enemy = PREV
									is_subject_of = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = ROOT
								}
							}
						}
						NOT = { tag = ROOT }
					}
					set_country_flag = ninety_five_theses
				}
				every_country = {
					limit = {
						ai = no
						NOT = { has_country_flag = ninety_five_theses }
					}
					if = {
						limit = { has_country_flag = humanism }
						random_owned_province = {
							limit = {
								OR = {
									NOT = { has_province_flag = renaissance_ideas }
									AND = {
										is_in_capital_area = no
										owner = { has_country_flag = renaissance }
									}
								}
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 70
								custom_tooltip = heretic_20
								hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
							}
						}
						random_owned_province = {
							limit = {
								event_target:reformation_origins = { culture_group = PREV }
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 40
								custom_tooltip = heretic_20
								hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
							}
						}
					}
					else = {
						random_owned_province = {
							limit = {
								OR = {
									NOT = { has_province_flag = renaissance_ideas }
									AND = {
										is_in_capital_area = no
										owner = { has_country_flag = renaissance }
									}
								}
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 30
								custom_tooltip = heretic_20
								hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
							}
						}
						random_owned_province = {
							limit = {
								event_target:reformation_origins = { culture_group = PREV }
								religion = catholic
								OR = {
									continent = europe
									is_in_capital_area = yes
								}
								is_city = yes
							}
							random = {
								chance = 20
								custom_tooltip = heretic_20
								hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
							}
						}
					}
				}
				every_country = {
					limit = { has_country_flag = ninety_five_theses }
					clr_country_flag = ninety_five_theses
					country_event = { id = dg_reformation.002 days = 30 }
				}
			}
			random_province = {
				limit = {
					OR = {
						culture = ROOT
						owner = { any_owned_province = { province_id = ROOT } }
					}
					university_province_trigger = yes
					religion = catholic
				}
				set_province_flag = protestant_disputation
				save_global_event_target_as = reformation_origins_disputation
			}
			if = {
				limit = { NOT = { any_province = { has_province_flag = protestant_disputation } } }
				random_province = {
					limit = {
						OR = {
							culture = ROOT
							owner = { any_owned_province = { province_id = ROOT } }
						}
						has_province_flag = catholic_archbishopric
						religion = catholic
					}
					set_province_flag = protestant_disputation
					save_global_event_target_as = reformation_origins_disputation
				}
			}
			if = {
				limit = { NOT = { any_province = { has_province_flag = protestant_disputation } } }
				random_province = {
					limit = {
						owner = { any_owned_province = { province_id = ROOT } }
						religion = catholic
					}
					set_province_flag = protestant_disputation
					save_global_event_target_as = reformation_origins_disputation
				}
			}
			if = {
				limit = { NOT = { any_province = { has_province_flag = protestant_disputation } } }
				random_province = {
					limit = {
						culture = ROOT
						religion = catholic
					}
					set_province_flag = protestant_disputation
					save_global_event_target_as = reformation_origins_disputation
				}
			}
		}
	}
	
	option = {
		name = dg_reformation.001.a
		custom_tooltip = heretic_20
		hidden_effect = {
			owner = {
				change_variable = { which = support_for_reform value = 1 }
				set_country_flag = useful_protestant
				change_variable = { which = minority_usefulness value = 5 }
			}
			every_country = {
				limit = {
					ai = no
					religion = catholic
					NOT = { has_country_flag = humanism }
					NOT = { has_country_flag = renaissance }
					check_variable = { which = catholic_corruption value = 10 }
				}
				set_country_flag = humanism
			}
		}
		hidden_effect = { change_variable = { which = protestant_supporters value = 8 } }
	}
}

country_event = { #02 - The Ninety-Five Theses (news)
	
	id = dg_reformation.002
	title = dg_reformation.001.t
	desc = dg_reformation.001.d
	picture = protestant_reformation
	
	is_triggered_only = yes #By DG_Reformation.001
	
	option = {
		name = dg_reformation.001.a
		trigger = { any_owned_province = { has_province_flag = reformation_origins_archbishop } }
		ai_chance = { factor = 25 }
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = obeyed_religious_leader } }
		}
	}
	option = {
		name = dg_reformation.001.b
		trigger = {
			NOT = {
				OR = {
					is_papal_controller = yes
					papal_trigger = yes
				}
			}
		}
		ai_chance = { factor = 15 }
		random_owned_province = {
			limit = {
				OR = {
					NOT = { has_province_flag = renaissance_ideas }
					AND = {
						is_in_capital_area = no
						owner = { has_country_flag = renaissance }
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 70
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = { culture_group = PREV }
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 40
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
	}
	option = {
		name = dg_reformation.001.c
		trigger = {
			OR = {
				is_papal_controller = yes
				papal_trigger = yes
			}
		}
		ai_chance = { factor = 15 }
		remove_country_modifier = religious_tolerance
		add_country_modifier = { name = religious_intolerance duration = 500 }
		random_owned_province = {
			limit = {
				OR = {
					NOT = { has_province_flag = renaissance_ideas }
					AND = {
						is_in_capital_area = no
						owner = { has_country_flag = renaissance }
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = { culture_group = PREV }
				religion = catholic
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
	}
	option = {
		name = dg_reformation.001.e #Ask $THEOLOGIAN$ to write a scathing rebuttal
		trigger = {
			advisor = theologian
			NOT = {
				OR = {
					is_papal_controller = yes
					papal_trigger = yes
				}
			}
			piety = -0.60
		}
		ai_chance = { factor = 15 }
		add_adm_power = -5
		add_papal_influence = 5
		set_country_flag = rebuttal_of_ninety_five_theses
		remove_country_modifier = religious_tolerance
		add_country_modifier = { name = religious_intolerance duration = 500 }
		random_owned_province = {
			limit = {
				OR = {
					NOT = { has_province_flag = renaissance_ideas }
					AND = {
						is_in_capital_area = no
						owner = { has_country_flag = renaissance }
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = { culture_group = PREV }
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
	}
	option = {
		name = dg_reformation.001.f #Ask $INQUISITOR$ to write a scathing rebuttal
		trigger = {
			advisor = inquisitor
			NOT = {
				OR = {
					is_papal_controller = yes
					papal_trigger = yes
				}
			}
			piety = -0.60
		}
		ai_chance = { factor = 15 }
		add_adm_power = -5
		add_papal_influence = 5
		set_country_flag = rebuttal_of_ninety_five_theses
		remove_country_modifier = religious_tolerance
		add_country_modifier = { name = religious_intolerance duration = 500 }
		random_owned_province = {
			limit = {
				OR = {
					NOT = { has_province_flag = renaissance_ideas }
					AND = {
						is_in_capital_area = no
						owner = { has_country_flag = renaissance }
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = { culture_group = PREV }
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
	}
	option = {
		name = dg_reformation.001.g #Write a scathing rebuttal
		trigger = {
			ADM = 5
			NOT = {
				OR = {
					is_papal_controller = yes
					papal_trigger = yes
				}
			}
			piety = -0.20
		}
		ai_chance = { factor = 15 }
		add_adm_power = -5
		add_papal_influence = 5
		set_country_flag = rebuttal_of_ninety_five_theses
		remove_country_modifier = religious_tolerance
		add_country_modifier = { name = religious_intolerance duration = 500 }
		random_owned_province = {
			limit = {
				OR = {
					NOT = { has_province_flag = renaissance_ideas }
					AND = {
						is_in_capital_area = no
						owner = { has_country_flag = renaissance }
					}
				}
				religion = catholic
				continent = europe
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
		random_owned_province = {
			limit = {
				event_target:reformation_origins = { culture_group = PREV }
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = {
				chance = 25
				custom_tooltip = heretic_20
				hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
			}
		}
	}
}

country_event = { #03 - Support for Reform (1518, Saxony)
	
	id = dg_reformation.003
	title = dg_reformation.003.t
	desc = dg_reformation.003.d
	picture = protestant_reformers #TEMP
	
	trigger = {
		has_global_flag = reformation_ninety_five_theses
		had_global_flag = { flag = reformation_ninety_five_theses days = 90 }
		NOT = { is_religion_enabled = protestant }
		OR = {
			religion = catholic
			religion = protestant
		}
		any_owned_province = {
			OR = {
				has_province_flag = humanist_ideas
				event_target:reformation_origins = { culture_group = PREV }
				has_province_flag = wartburg
			}
		}
		NOT = { has_country_flag = protestant_ideas }
		OR = {
			capital_scope = { continent = europe }
			is_former_colonial_nation = yes
		}
	}
	
	mean_time_to_happen = {
		
		years = 10
		
		modifier = {
			any_owned_province = { has_province_flag = wartburg }
			factor = 0.25
		}
		modifier = {
			any_owned_province = { has_province_flag = reformation_origins }
			factor = 0.25
		}
		modifier = {
			has_country_flag = renaissance
			factor = 3
		}
		modifier = {
			event_target:reformation_origins = { culture_group = ROOT }
			factor = 0.5
		}
	}
	
	immediate = {
		set_country_flag = protestant_ideas
		if = {
			limit = { has_country_flag = exsurge_domine }
			custom_tooltip = dg_reformation.003.excommunicated
		}
		else = {
			custom_tooltip = dg_reformation.003.early
		}
	}
	
	option = {
		name = dg_reformation.003.a #Sympathy
		ai_chance = {
			factor = 50
			modifier = {
				has_country_flag = renaissance
				religion = catholic
				factor = 0
			}
		}
		remove_country_modifier = religious_intolerance
		if = {
			limit = { any_owned_province = { has_province_modifier = absentee_bishop } }
			every_owned_province = {
				#limit = { has_province_modifier = absentee_bishop }
				remove_province_modifier = absentee_bishop
			}
		}
		if = {
			limit = { any_owned_province = { has_province_modifier = greedy_bishop } }
			every_owned_province = {
				#limit = { has_province_modifier = greedy_bishop }
				remove_province_modifier = greedy_bishop
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		add_country_modifier = { name = religious_tolerance duration = 500 }
		if = {
			limit = { NOT = { has_country_flag = renaissance } }
			if = {
				limit = { piety = 0.60 }
				add_devotion = 8
				add_legitimacy = 4
				add_republican_tradition = 2
			}
			else_if = {
				limit = { piety = 0.20 }
				add_devotion = 6
				add_legitimacy = 3
				add_republican_tradition = 1.5
			}
			else_if = {
				limit = { piety = -0.20 }
				add_devotion = 4
				add_legitimacy = 2
				add_republican_tradition = 1
			}
			else_if = {
				limit = { piety = -0.60 }
				add_devotion = 2
				add_legitimacy = 1
				add_republican_tradition = 0.5
			}
		}
		add_papal_influence = -5
		if = {
			limit = { NOT = { has_country_flag = humanism } }
			add_country_modifier = { name = religious_controversy duration = 1000 }
			if = {
				limit = { patriarch_authority = 0.80 }
				add_country_modifier = { name = unhappy_church_powerful duration = 500 }
			}
			else_if = {
				limit = { patriarch_authority = 0.60 }
				add_country_modifier = { name = unhappy_church_strong duration = 500 }
			}
			else_if = {
				limit = { patriarch_authority = 0.40 }
				add_country_modifier = { name = unhappy_church_moderate duration = 500 }
			}
			else_if = {
				limit = { patriarch_authority = 0.20 }
				add_country_modifier = { name = unhappy_church_weak duration = 500 }
			}
			else = {
				add_country_modifier = { name = unhappy_church_impotent duration = 500 }
			}
		}
		random = { chance = 50 custom_tooltip = heretic_20 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						AND = {
							owner = { has_country_flag = humanism }
							has_owner_culture = yes
						}
						AND = {
							owner = { has_country_flag = renaissance }
							NOT = { culture_group = owner }
						}
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
	}
	option = {
		name = dg_reformation.003.b #Opposition
		trigger = { NOT = { religion = protestant } }
		ai_chance = {
			factor = 50
			modifier = {
				has_country_flag = humanism
				factor = 0
			}
			modifier = {
				NOT = { religion = catholic }
				factor = 0
			}
		}
		random = { chance = 25 custom_tooltip = heretic_20 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 20
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						AND = {
							owner = { has_country_flag = humanism }
							has_owner_culture = yes
						}
						AND = {
							owner = { has_country_flag = renaissance }
							NOT = { culture_group = owner }
						}
					}
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 30
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
	}
}

province_event = { #04 - The University of $PROVINCENAME$
	
	id = dg_reformation.004
	title = dg_reformation.004.t
	desc = dg_reformation.004.d
	picture = protestant_disputation
	
	trigger = {
		has_global_flag = reformation_ninety_five_theses
		NOT = { is_religion_enabled = protestant }
		university_province_trigger = yes
		religion = catholic
		OR = {
			has_province_flag = humanist_ideas
			event_target:reformation_origins = { OR = { culture_group = ROOT region = ROOT } }
		}
		#NOT = { has_province_flag = protestantism_debated }
	}
	
	mean_time_to_happen = {
		
		years = 10
		
		modifier = {
			event_target:reformation_origins = { OR = { culture_group = ROOT region = ROOT } }
			factor = 0.5
		}
		modifier = {
			event_target:reformation_origins = { culture = ROOT }
			factor = 0.5
		}
	}
	
	#immediate = { set_province_flag = protestantism_debated }
	
	option = {
		name = dg_reformation.004.a
		if = {
			limit = {
				OR = {
					NOT = { has_province_flag = renaissance_ideas }
					AND = {
						is_in_capital_area = no
						owner = { has_country_flag = renaissance }
					}
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = { chance = 70 custom_tooltip = heretic_20 hidden_effect = { change_variable = { which = protestant_supporters value = 4 } } }
		}
		if = {
			limit = {
				event_target:reformation_origins = { OR = { culture_group = ROOT region = ROOT } }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = { chance = 40 custom_tooltip = heretic_20 hidden_effect = { change_variable = { which = protestant_supporters value = 4 } } }
		}
	}
}

province_event = { #05 - The [Leipzig] Disputation (July 1519, Leipzig)
	
	id = dg_reformation.005
	title = dg_reformation.005.t
	desc = dg_reformation.005.d
	picture = protestant_disputation
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = reformation_leipzig_disputation
		hidden_effect = {
			if = { #Erfurt Historically
				limit = {
					owner = {
						any_owned_province = {
							university_province_trigger = yes
							religion = catholic
							OR = {
								culture_group = ROOT
								superregion = ROOT
							}
							continent = europe
						}
					}
				}
				owner = {
					random_owned_province = {
						limit = {
							university_province_trigger = yes
							religion = catholic
							OR = {
								culture_group = ROOT
								superregion = ROOT
							}
							continent = europe
						}
					}
					set_province_flag = debate_verdict
				}
			}
			if = {
				limit = {
					owner = {
						NOT = {
							any_owned_province = {
								university_province_trigger = yes
								religion = catholic
								OR = {
									culture_group = ROOT
									superregion = ROOT
								}
								continent = europe
							}
						}
					}
				}
				owner = {
					random_owned_province = {
						limit = {
							has_province_flag = catholic_archbishopric
							religion = catholic
							OR = {
								culture_group = ROOT
								superregion = ROOT
							}
							continent = europe
						}
					}
					set_province_flag = debate_verdict
				}
			}
			random_province = { #Paris historically
				limit = {
					university_province_trigger = yes
					religion = catholic
					continent = europe
					owner = { religion = catholic papal_trigger = no }
					owner = { NOT = { any_owned_province = { has_province_flag = debate_verdict } } }
				}
				set_province_flag = debate_verdict
			}
			owner = {
				every_country = {
					limit = {
						OR = {
							is_papal_controller = yes
							any_owned_province = { has_province_flag = reformation_origins }
							any_owned_province = { has_province_flag = debate_verdict }
							AND = {
								has_country_flag = religious_news_major
								religion = catholic
								OR = {
									government = theocracy
									overlord_of = PREV
									is_subject_of = PREV
									is_neighbor_of = PREV
								}
							}
							AND = {
								has_country_flag = religious_news_trivial
								religion = catholic
								OR = {
									is_rival = PREV
									is_enemy = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = PREV
								}
							}
							AND = {
								has_country_flag = religious_news_all
								any_known_country = { tag = PREV }
								OR = {
									religion = catholic
									overlord_of = PREV
									is_neighbor_of = PREV
									is_rival = PREV
									is_enemy = PREV
									is_subject_of = PREV
									alliance_with = PREV
									marriage_with = PREV
									culture_group = PREV
								}
							}
						}
						NOT = { tag = ROOT }
					}
					country_event = { id = dg_reformation.006 days = 30 }
				}
			}
			regiongroup = {
				region = {
					limit = { has_province_flag = debate_verdict }
					province_event = { id = dg_reformation.022 days = 900 }
				}
			}
		}
		if = {
			limit = { any_owned_province = { has_province_flag = debate_verdict } }
			custom_tooltip = dg_reformation.006.university
		}
	}
	
	option = {
		name = dg_reformation.005.a
		trigger = { NOT = { owner = { OR = { papal_trigger = yes is_papal_controller = yes } } } }
		if = {
			limit = {
				OR = {
					NOT = { has_province_flag = renaissance_ideas }
					AND = {
						is_in_capital_area = no
						owner = { has_country_flag = renaissance }
					}
				}
				religion = catholic
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = { chance = 70 custom_tooltip = heretic_20 hidden_effect = { change_variable = { which = protestant_supporters value = 4 } } }
		}
		if = {
			limit = {
				event_target:reformation_origins = { OR = { culture_group = ROOT region = ROOT } }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			random = { chance = 40 custom_tooltip = heretic_20 hidden_effect = { change_variable = { which = protestant_supporters value = 4 } } }
		}
	}
	option = {
		name = dg_reformation.005.b
		trigger = { owner = { OR = { papal_trigger = yes is_papal_controller = yes } } }
		owner = { add_adm_power = -10 }
	}
}

country_event = { #06 - The [Leipzig] Disputation (news)
	
	id = dg_reformation.006
	title = dg_reformation.005.t
	desc = dg_reformation.005.d
	picture = protestant_disputation
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { any_owned_province = { has_province_flag = debate_verdict } }
			custom_tooltip = dg_reformation.006.university
		}
	}
	
	option = {
		name = dg_reformation.005.a
		trigger = { papal_trigger = no is_papal_controller = no }
	}
	option = {
		name = dg_reformation.005.b
		trigger = { OR = { papal_trigger = yes is_papal_controller = yes } }
		add_adm_power = -10
	}
}

country_event = { #07 - Exsurge Domine (June 1520)
	
	id = dg_reformation.007
	title = dg_reformation.007.t
	desc = dg_reformation.007.d
	picture = catholic_excommunication
	
	trigger = {
		religion = catholic
		has_global_flag = reformation_exsurge_domine
		NOT = { has_country_flag = exsurge_domine }
		NOT = { is_religion_enabled = protestant }
		OR = {
			capital_scope = { continent = europe }
			is_former_colonial_nation = yes
		}
	}
	
	mean_time_to_happen = {
		
		months = 25
		
		modifier = {
			any_owned_province = { has_province_flag = reformation_origins }
			factor = 0.5
		}
		modifier = {
			has_country_flag = humanism
			factor = 0.5
		}
		modifier = {
			has_country_flag = renaissance
			factor = 2
		}
		modifier = {
			event_target:reformation_origins = { culture_group = ROOT }
			factor = 0.5
		}
	}
	
	immediate = {
		set_country_flag = exsurge_domine
		if = {
			limit = { any_owned_province = { has_province_flag = reformation_origins } }
			custom_tooltip = dg_reformation.007.luther
		}
	}
	
	option = {
		name = dg_reformation.007.b #Keep an eye on the situation
		trigger = {
			NOT = { government = theocracy }
			is_papal_controller = no
		}
		ai_chance = { factor = 50 }
		random = { chance = 50 custom_tooltip = heretic_20 }
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV } religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
	}
	option = {
		name = dg_reformation.007.a #Enforce the law
		ai_chance = {
			factor = 50
			modifier = {
				government = republic
				factor = 0.5
			}
			modifier = {
				event_target:reformation_origins = { culture_group = ROOT }
				factor = 0.5
			}
			modifier = {
				has_country_flag = renaissance
				factor = 2
			}
			modifier = {
				has_country_flag = humanism
				factor = 0
			}
		}
		hidden_effect = { change_variable = { which = support_for_reform value = -1 } }
		remove_country_modifier = religious_tolerance
		add_country_modifier = { name = religious_intolerance duration = 500 }
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = obeyed_religious_leader } }
		}
		if = {
			limit = { event_target:reformation_origins = { culture_group = ROOT } }
			add_mil_power = -10
		}
		if = {
			limit = { NOT = { event_target:reformation_origins = { culture_group = ROOT } } }
			add_mil_power = -5
		}
		random = { chance = 25 custom_tooltip = heretic_20 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 25
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 25
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
	}
}

country_event = { #08 - The [Elector]'s Duty (1521, Saxony)
	
	id = dg_reformation.008
	title = dg_reformation.008.t
	desc = dg_reformation.008.d
	picture = catholic_papal_envoy
	
	trigger = {
		has_country_flag = exsurge_domine
		NOT = { is_religion_enabled = protestant }
		any_owned_province = { has_province_flag = reformation_origins }
		NOT = { has_country_flag = demands_for_heresy_trial }
		NOT = { has_global_flag = reformation_luther_martyred }
		NOT = { has_global_flag = reformation_luther_returned }
		NOT = { has_global_flag = reformation_luther_wartburg }
		NOT = { had_global_flag = { flag = reformation_ninety_five_theses days = 11000 } }
		religion = catholic
	}
	
	mean_time_to_happen = {
		
		months = 10
		
		modifier = {
			had_country_flag = { flag = exsurge_domine days = 300 }
			factor = 0.5
		}
	}
	
	immediate = {
		set_country_flag = demands_for_heresy_trial
		if = {
			limit = {
				OR = {
					is_subject_other_than_tributary_trigger = yes
					AND = {
						capital_scope = { is_part_of_hre = yes }
						is_emperor = no
					}
				}
			}
			custom_tooltip = dg_reformation.008_vassal
		}
	}
	
	option = {
		name = dg_reformation.008.a #Ask our liege
		ai_chance = { factor = 80 }
		trigger = {
			OR = {
				is_subject_other_than_tributary_trigger = yes
				AND = {
					capital_scope = { is_part_of_hre = yes }
					is_emperor = no
				}
			}
		}
		add_prestige = -5
		if = {
			limit = { is_subject_other_than_tributary_trigger = yes }
			add_liberty_desire = -5
			overlord = {
				hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
				country_event = { id = dg_reformation.009 days = 30 }
			}
		}
		if = {
			limit = { is_free_or_tributary_trigger = yes capital_scope = { is_part_of_hre = yes } }
			emperor = {
				hidden_effect = {
					if = {
						limit = {
							any_known_country = {
								government = republic
								free_city_trigger = yes
								capital_scope = { is_part_of_hre = yes }
								NOT = { num_of_cities = 2 }
								is_emperor = no
								is_elector = no
							}
						}
						random_known_country = {
							limit = {
								government = republic
								free_city_trigger = yes
								capital_scope = { is_part_of_hre = yes }
								NOT = { num_of_cities = 2 }
								is_emperor = no
								is_elector = no
							}
							capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms }
						}
					}
					if = {
						limit = {
							NOT = {
								any_known_country = {
									government = republic
									free_city_trigger = yes
									capital_scope = { is_part_of_hre = yes }
									NOT = { num_of_cities = 2 }
									is_emperor = no
									is_elector = no
								}
							}
						}
						capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms }
					}
				}
				country_event = { id = dg_reformation.009 days = 30 }
			}
		}
	}
	option = {
		name = dg_reformation.008.b #Put the heretic on trial
		ai_chance = {
			factor = 10
			modifier = {
				NOT = { stability = 0 }
				factor = 0.5
			}
			modifier = {
				any_owned_province = { unrest = 1 }
				factor = 0.5
			}
			modifier = {
				num_of_revolts = 1
				factor = 0.5
			}
			modifier = {
				NOT = { num_of_cardinals = 1 }
				factor = 0.7
			}
		}
		hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
		set_country_flag = edict_of_worms
		set_country_flag = luther_on_trial
		add_adm_power = -25
		if = {
			limit = { any_owned_province = { religion = protestant } }
			subtract_stability_1 = yes
		}
		if = {
			limit = { NOT = { has_country_flag = renaissance } }
			subtract_stability_1 = yes
		}
		hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
		random_owned_province = {
			limit = { has_province_flag = reformation_origins }
			add_province_modifier = { name = religious_scandal_province duration = 500 }
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.008.c #Hand him over to the Church
		ai_chance = {
			factor = 5
			modifier = {
				NOT = { religion = catholic }
				factor = 0
			}
			modifier = {
				is_excommunicated = yes
				factor = 0
			}
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 1.4
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
				factor = 0.7
			}
			modifier = {
				government = monarchy
				NOT = { legitimacy = 90 }
				factor = 0.5
			}
			modifier = {
				government = republic
				NOT = { republican_tradition = 90 }
				factor = 0.5
			}
			modifier = {
				government = theocracy
				factor = 2
			}
			modifier = {
				any_owned_province = { unrest = 1 }
				factor = 0.5
			}
			modifier = {
				num_of_revolts = 1
				factor = 0.5
			}
			modifier = {
				NOT = { num_of_cardinals = 1 }
				factor = 0.5
			}
		}
		hidden_effect = { change_variable = { which = support_for_reform value = -1 } }
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = obeyed_religious_leader } }
		}
		set_global_flag = reformation_roman_trial
		set_country_flag = sent_luther_to_rome
		if = {
			limit = { exists = PAP }
			PAP = {
				hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
				set_country_flag = edict_of_worms
				hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
			}
		}
		if = {
			limit = { NOT = { exists = PAP } }
			random_known_country = {
				limit = { is_papal_controller = yes }
				hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
				set_country_flag = edict_of_worms
				hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
			}
		}
		add_legitimacy = -10
		add_republican_tradition = -5
		add_devotion = 20
		random_owned_province = {
			limit = { has_province_flag = reformation_origins }
			add_province_modifier = { name = religious_scandal_province duration = 500 }
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.008.e #Refuse to charge the monk
		trigger = { papal_trigger = no }
		ai_chance = {
			factor = 5
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
				factor = 1.4
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 300 } } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = support_for_reform value = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { religion = catholic }
				factor = 4
			}
			modifier = {
				NOT = { has_global_modifier_value = { which = papal_influence value = 0.5 } }
				factor = 1.4
			}
			modifier = {
				is_excommunicated = yes
				factor = 4
			}
			modifier = {
				has_country_flag = enemy_of_pope
				factor = 2
			}
			modifier = {
				is_papal_controller = yes
				factor = 0.5
			}
			modifier = {
				has_global_modifier_value = { which = papal_influence value = 3 }
				factor = 0.5
			}
			modifier = {
				NOT = { num_of_cardinals = 1 }
				factor = 2
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		remove_country_modifier = religious_intolerance
		add_country_modifier = { name = religious_tolerance duration = 500 }
		set_global_flag = reformation_luther_protected
		set_country_flag = sheltered_luther
		hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = religious_scandal_fanatical } }
		}
		custom_tooltip = excommunication_chance
		add_papal_influence = -50
		add_prestige = -10
		if = {
			limit = { patriarch_authority = 0.80 }
			add_country_modifier = { name = unhappy_church_powerful duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.60 }
			add_country_modifier = { name = unhappy_church_strong duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.40 }
			add_country_modifier = { name = unhappy_church_moderate duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.20 }
			add_country_modifier = { name = unhappy_church_weak duration = 2000 }
		}
		else = {
			add_country_modifier = { name = unhappy_church_impotent duration = 2000 }
		}
	}
}

country_event = { #09 - Appeal to Caesar (1521, Emperor)
	
	id = dg_reformation.009
	title = dg_reformation.009.t
	desc = dg_reformation.009.d
	picture = all_news
	
	is_triggered_only = yes #By dg_reformation.008
	
	immediate = {
		if = {
			limit = { is_emperor = yes }
			custom_tooltip = dg_reformation.009.hre
		}
		if = {
			limit = { is_emperor = no }
			if = {
				limit = { french_culture_trigger = yes }
				custom_tooltip = dg_reformation.009.france
			}
			if = {
				limit = { culture_group = british }
				custom_tooltip = dg_reformation.009.britain
			}
			if = {
				limit = { dutch_culture_country_trigger = yes }
				custom_tooltip = dg_reformation.009.netherlands
			}
			if = {
				limit = { culture_group = iberian }
				custom_tooltip = dg_reformation.009.spain
			}
			if = {
				limit = { scandinavian_culture_trigger = yes }
				custom_tooltip = dg_reformation.009.sweden
			}
			if = {
				limit = {
					NOT = {
						OR = {
							french_culture_trigger = yes
							culture_group = british
							dutch_culture_country_trigger = yes
							culture_group = iberian
							scandinavian_culture_trigger = yes
						}
					}
				}
				custom_tooltip = dg_reformation.009.generic
			}
		}
	}
	
	option = {
		name = dg_reformation.009.a #Summon the Estates
		ai_chance = { factor = 99 }
		hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
		set_country_flag = edict_of_worms
		add_adm_power = -25
		add_country_modifier = { name = religious_controversy duration = 500 }
		if = {
			limit = { NOT = { has_country_flag = humanism } }
			if = {
				limit = { piety = 0.60 }
				add_devotion = 8
				add_legitimacy = 4
				add_republican_tradition = 2
			}
			else_if = {
				limit = { piety = 0.20 }
				add_devotion = 6
				add_legitimacy = 3
				add_republican_tradition = 1.5
			}
			else_if = {
				limit = { piety = -0.20 }
				add_devotion = 4
				add_legitimacy = 2
				add_republican_tradition = 1
			}
			else_if = {
				limit = { piety = -0.60 }
				add_devotion = 2
				add_legitimacy = 1
				add_republican_tradition = 0.5
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
		FROM = { country_event = { id = dg_reformation.010 days = 30 } }
	}
	option = {
		name = dg_reformation.009.b #We have better things to do
		trigger = { papal_trigger = no }
		ai_chance = {
			factor = 1
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
				factor = 1.4
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 300 } } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = support_for_reform value = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { religion = catholic }
				factor = 4
			}
			modifier = {
				NOT = { has_global_modifier_value = { which = papal_influence value = 0.5 } }
				factor = 1.4
			}
			modifier = {
				is_excommunicated = yes
				factor = 4
			}
			modifier = {
				has_country_flag = enemy_of_pope
				factor = 2
			}
			modifier = {
				is_papal_controller = yes
				factor = 0
			}
			modifier = {
				has_global_modifier_value = { which = papal_influence value = 3 }
				factor = 0
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		set_global_flag = reformation_luther_protected
		set_country_flag = sheltered_luther
		hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = religious_scandal_fanatical } }
		}
		custom_tooltip = excommunication_chance
		add_papal_influence = -50
		add_prestige = -10
		if = {
			limit = { patriarch_authority = 0.80 }
			add_country_modifier = { name = unhappy_church_powerful duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.60 }
			add_country_modifier = { name = unhappy_church_strong duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.40 }
			add_country_modifier = { name = unhappy_church_moderate duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.20 }
			add_country_modifier = { name = unhappy_church_weak duration = 2000 }
		}
		else = {
			add_country_modifier = { name = unhappy_church_impotent duration = 2000 }
		}
	}
}

country_event = { #10 - The Summons (1521, Saxony)
	
	id = dg_reformation.010
	title = dg_reformation.010.t
	desc = dg_reformation.010.d
	picture = all_powerful_advisor #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_reformation.010.a #Demand a pledge of safe passage
		ai_chance = { factor = 90 }
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		add_prestige = 5
		FROM = { country_event = { id = dg_reformation.011 days = 30 } }
	}
	option = {
		name = dg_reformation.010.b #Please our liege by escorting the monk to his trial
		ai_chance = { factor = 1 }
		hidden_effect = { change_variable = { which = support_for_reform value = -1 } }
		FROM = {
			add_opinion = { who = ROOT modifier = opinion_improved_relations }
			set_country_flag = luther_on_trial
		}
		set_country_flag = sent_luther_to_trial
		add_prestige = -5
		if = {
			limit = { is_subject_other_than_tributary_trigger = yes }
			add_liberty_desire = -10
		}
		random_owned_province = {
			limit = { has_province_flag = reformation_origins }
			add_province_modifier = { name = religious_scandal_province duration = 500 }
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.010.c #Protect the monk from the emperor
		trigger = { NOT = { has_global_flag = reformation_luther_martyred } }
		ai_chance = { factor = 8 }
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		FROM = {
			add_opinion = { who = ROOT modifier = opinion_displeased }
			country_event = { id = dg_reformation.013 days = 30 }
		}
		if = {
			limit = { is_subject_other_than_tributary_trigger = yes }
			add_liberty_desire = 10
		}
		add_papal_influence = -50
		add_prestige = -10
		random_owned_province = {
			limit = { has_province_flag = reformation_origins }
			add_province_modifier = { name = religious_scandal_province duration = 500 }
		}
		if = {
			limit = { patriarch_authority = 0.80 }
			add_country_modifier = { name = unhappy_church_powerful duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.60 }
			add_country_modifier = { name = unhappy_church_strong duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.40 }
			add_country_modifier = { name = unhappy_church_moderate duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.20 }
			add_country_modifier = { name = unhappy_church_weak duration = 2000 }
		}
		else = {
			add_country_modifier = { name = unhappy_church_impotent duration = 2000 }
		}
	}
	option = {
		name = dg_reformation.010.e #This is no matter for the Prince
		ai_chance = { factor = 1 }
		add_prestige = -5
		random_owned_province = {
			limit = { has_province_flag = reformation_origins }
			add_province_modifier = { name = religious_scandal_province duration = 500 }
		}
		random_list = {
			50 = { FROM = { set_country_flag = luther_on_trial } }
			50 = { FROM = { country_event = { id = dg_reformation.013 days = 90 } } }
		}
	}
}

country_event = { #11 - Safe Passage (1251, Emperor)
	
	id = dg_reformation.011
	title = dg_reformation.011.t
	desc = dg_reformation.011.d
	picture = all_news
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				FROM = { capital_scope = { is_part_of_hre = yes  } }
				is_emperor = yes
			}
			custom_tooltip = dg_reformation.011.hre
		}
		if = {
			limit = {
				FROM = { is_subject_of = ROOT }
				OR = {
					is_emperor = no
					FROM = { capital_scope = { is_part_of_hre = no } }
				}
			}
			custom_tooltip = dg_reformation.011.overlord
		}
	}
	option = {
		name = dg_reformation.011.a #Promise safe passage
		ai_chance = {
			factor = 80
			modifier = {
				has_country_flag = humanism
				factor = 2
			}
		}
		set_country_flag = luther_safe_passage_promised
		random_known_country = {
			limit = { any_owned_province = { has_province_flag = reformation_origins } }
			country_event = { id = dg_reformation.012 days = 30 }
		}
	}
	option = {
		name = dg_reformation.011.b #Send our men to drag him home
		ai_chance = { factor = 20 }
		add_mil_power = -25
		FROM = {
			add_opinion = { who = ROOT modifier = opinion_displeased }
			if = {
				limit = { is_subject_of = ROOT }
				add_liberty_desire = 10
			}
			if = {
				limit = {
					capital_scope = { is_part_of_hre = yes }
					ROOT = { is_emperor = yes }
				}
				add_imperial_influence = -10
			}
		}
		FROM = { country_event = { id = dg_reformation.023 days = 30 } }
	}
}

country_event = { #12 - Safe Passage (news)
	
	id = dg_reformation.012
	title = dg_reformation.011.t
	desc = dg_reformation.012.d
	picture = all_news
	
	is_triggered_only = yes
	
	option = {
		name = dg_reformation.012.a #I see
		add_prestige = 5
		clr_global_flag = reformation_luther_in_hiding
		clr_global_flag = reformation_luther_wartburg
		event_target:imperial_edict_of_worms = { set_country_flag = luther_on_trial }
		every_province = {
			clr_province_flag = wartburg
		}
	}
}

country_event = { #13 - The Empty Seat (ahistorical)
	
	id = dg_reformation.013
	title = dg_reformation.013.t
	desc = dg_reformation.013.d
	picture = catholic_trial #TEMP
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = reformation_luther_in_hiding
		if = {
			limit = {
				OR = {
					event_target:reformation_origins = { owner = { is_subject_of = ROOT } }
					AND = {
						event_target:reformation_origins = { is_part_of_hre = yes }
						is_emperor = yes
					}
				}
			}
			custom_tooltip = dg_reformation.013.liege
		}
	}
	
	option = {
		name = dg_reformation.013.c #Offer safe passage
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = humanism
				factor = 1.4
			}
			modifier = {
				NOT = { num_of_cardinals = 1 }
				factor = 2
			}
		}
		add_prestige = -5
		set_country_flag = luther_safe_passage_promised
		random_known_country = {
			limit = { any_owned_province = { has_province_flag = reformation_origins } }
			country_event = { id = dg_reformation.012 days = 30 }
		}
	}
	option = {
		name = dg_reformation.013.a #Convict him in absentia
		ai_chance = { factor = 30 }
		add_prestige = -10
		set_country_flag = luther_on_trial
	}
	option = {
		name = dg_reformation.013.b #Threaten our recalitrant vassal
		ai_chance = {
			factor = 30
			modifier = {
				NOT = { num_of_cardinals = 1 }
				factor = 0.5
			}
		}
		trigger = {
			OR = {
				event_target:reformation_origins = { owner = { is_subject_of = ROOT } }
				AND = {
					event_target:reformation_origins = { is_part_of_hre = yes }
					is_emperor = yes
				}
			}
		}
		add_dip_power = -25
		random_known_country = {
			limit = { any_owned_province = { has_province_flag = reformation_origins } }
			country_event = { id = dg_reformation.014 days = 30 }
		}
	}
}

country_event = { #14 - The Emperor's displeasure (ahistorical)
	
	id = dg_reformation.014
	title = dg_reformation.014.t
	desc = dg_reformation.014.d
	picture = protestant_heretic_trial #TEMP
	
	is_triggered_only = yes
	
	option = {
		name = dg_reformation.014.a #Pay the fines
		ai_chance = {
			factor = 80
			modifier = {
				num_of_loans = 1
				factor = 0.7
			}
			modifier = {
				years_of_income = 0.50
				factor = 1.4
			}
			modifier = {
				years_of_income = 1
				factor = 1.4
			}
			modifier = {
				is_bankrupt = yes
				factor = 0
			}
		}
		add_years_of_income = -0.33
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
	}
	option = {
		name = dg_reformation.014.b #Produce the heretic
		ai_chance = { factor = 20 }
		add_prestige = -10
		clr_global_flag = reformation_luther_in_hiding
		event_target:imperial_edict_of_worms = { set_country_flag = luther_on_trial }
	}
}

country_event = { #15 - For God and the Pope (ahistorical)
	
	id = dg_reformation.015
	title = dg_reformation.015.t
	desc = dg_reformation.015.d
	picture = catholic_papal_envoy
	
	trigger = {
		religion = catholic
		has_global_flag = reformation_luther_protected
		event_target:imperial_edict_of_worms = {
			OR = {
				is_rival = ROOT
				is_enemy = ROOT
				war_with = ROOT
				truce_with = ROOT
				is_neighbor_of = ROOT
				is_subject_of = ROOT
				overlord_of = ROOT
				AND = {
					capital_scope = { is_part_of_hre = yes }
					OR = {
						is_elector = yes
						is_emperor = yes
					}
				}
			}
		}
		NOT = { event_target:imperial_edict_of_worms = { senior_union_with = ROOT } }
		NOT = { event_target:imperial_edict_of_worms = { junior_union_with = ROOT } }
		NOT = { has_country_flag = sheltered_luther }
		NOT = { has_country_flag = for_god_and_the_pope }
		NOT = { is_religion_enabled = protestant }
		NOT = { has_global_flag = reformation_luther_martyred }
		NOT = { has_global_flag = reformation_luther_returned }
	}
	
	mean_time_to_happen = {
		
		months = 12
		
		modifier = {
			event_target:imperial_edict_of_worms = { is_subject_of = ROOT }
			factor = 0.5
		}
		modifier = {
			event_target:imperial_edict_of_worms = { is_rival = ROOT }
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = { is_enemy = ROOT }
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = { NOT = { army_size = ROOT } }
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = { NOT = { num_of_cities = ROOT } }
			factor = 0.7
		}
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
		modifier = {
			is_emperor = yes
			factor = 0.7
		}
		modifier = {
			is_papal_controller = yes
			factor = 0.7
		}
		modifier = {
			government = theocracy
			factor = 0.7
		}
		modifier = {
			event_target:imperial_edict_of_worms = { alliance_with = ROOT }
			factor = 2
		}
		modifier = {
			event_target:imperial_edict_of_worms = { marriage_with = ROOT }
			factor = 2
		}
	}
	
	immediate = {
		set_country_flag = for_god_and_the_pope
		if = {
			limit = {
				papal_trigger = no
				is_papal_controller = no
			}
			custom_tooltip = dg_reformation.015.catholic
		}
		if = {
			limit = { has_country_flag = hiding_luther }
			custom_tooltip = dg_reformation.015.irony
		}
	}
	
	option = {
		name = dg_reformation.015.a #Put pressure on him
		ai_chance = {
			factor = 50
		}
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = obeyed_religious_leader } }
		}
		event_target:imperial_edict_of_worms = {
			set_country_flag = pressure_for_trial
			add_opinion = { who = ROOT modifier = religious_scandal_pious }
		}
		if = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				event_target:imperial_edict_of_worms = { is_emperor = yes }
			}
			if = {
				limit = { is_elector = yes }
				hidden_effect = { event_target:imperial_edict_of_worms = { change_variable = { which = catholic_pressure_hre value = 5 } } }
			}
			else = {
				hidden_effect = { event_target:imperial_edict_of_worms = { change_variable = { which = catholic_pressure_hre value = 1 } } }
			}
		}
		set_country_flag = demanding_heretic_trial
	}
	option = {
		name = dg_reformation.015.b #Threaten him
		trigger = {
			NOT = { event_target:imperial_edict_of_worms = { war_with = ROOT } }
			NOT = { event_target:imperial_edict_of_worms = { overlord_of = ROOT } }
			NOT = { event_target:imperial_edict_of_worms = { is_subject_of = ROOT } }
		}
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = humanism
				factor = 0
			}
			modifier = {
				event_target:imperial_edict_of_worms = { num_of_cities = ROOT }
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = { army_size = ROOT }
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = { is_rival = ROOT }
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = { is_enemy = ROOT }
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = { truce_with = ROOT }
				factor = 2
			}
		}
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = obeyed_religious_leader } }
		}
		add_dip_power = -10
		add_papal_influence = 5
		event_target:imperial_edict_of_worms = {
			set_country_flag = pressure_for_trial
			add_opinion = { who = ROOT modifier = religious_scandal_fanatical }
		}
		if = {
			limit = {
				is_vassal = yes
				event_target:imperial_edict_of_worms = { overlord_of = ROOT }
			}
			add_liberty_desire = 20
		}
		if = {
			limit = {
				capital_scope = { is_part_of_hre = yes }
				event_target:imperial_edict_of_worms = { is_emperor = yes }
			}
			if = {
				limit = { is_elector = yes }
				hidden_effect = { event_target:imperial_edict_of_worms = { change_variable = { which = catholic_pressure_hre value = 10 } } }
			}
			else = {
				hidden_effect = { event_target:imperial_edict_of_worms = { change_variable = { which = catholic_pressure_hre value = 2 } } }
			}
		}
		set_country_flag = threatening_heretic_trial
	}
	option = {
		name = dg_reformation.015.c #This is not our concern
		trigger = {
			papal_trigger = no
			is_papal_controller = no
		}
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = humanism
				factor = 4
			}
			modifier = {
				event_target:imperial_edict_of_worms = { NOT = { num_of_cities = ROOT } }
				factor = 2
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = disobeyed_religious_leader } }
		}
		add_papal_influence = -10
		add_prestige = -5
	}
}

country_event = { #16 - For God and the Pope (ahistorical)
	
	id = dg_reformation.016
	title = dg_reformation.015.t
	desc = dg_reformation.016.d
	picture = catholic_crusade
	
	trigger = {
		has_country_flag = sheltered_luther
		has_global_flag = reformation_luther_protected
		had_country_flag = { flag = sheltered_luther days = 400 }
		NOT = { has_country_flag = unrepentant_heretic }
		NOT = { has_global_flag = reformation_luther_martyred }
		NOT = { has_global_flag = reformation_luther_returned }
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				OR = {
					overlord = { has_country_flag = demanding_heretic_trial }
					AND = {
						capital_scope = { is_part_of_hre = yes }
						emperor = { has_country_flag = demanding_heretic_trial }
					}
				}
			}
			custom_tooltip = dg_reformation.016.vassal
		}
		if = {
			limit = { any_known_country = { has_country_flag = threatening_heretic_trial } }
			custom_tooltip = dg_reformation.016.crusade
		}
		if = {
			limit = { has_country_flag = edict_of_worms }
			custom_tooltip = dg_reformation.016.innocent
		}
		else = {
			custom_tooltip = dg_reformation.016.notrial
		}
		clr_country_flag = reformation_luther_protected
	}
	
	option = {
		name = dg_reformation.016.a #Set up a trial
		trigger = { NOT = { has_country_flag = edict_of_worms } }
		ai_chance = { factor = 30 }
		hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
		set_country_flag = edict_of_worms
		clr_country_flag = sheltered_luther
		clr_global_flag = reformation_luther_protected
		set_country_flag = luther_on_trial
		add_prestige = -10
		add_adm_power = -25
		if = {
			limit = { any_owned_province = { has_province_flag = reformation_origins } }
			if = {
				limit = { any_owned_province = { religion = protestant } }
				subtract_stability_1 = yes
			}
			if = {
				limit = { NOT = { has_country_flag = renaissance } }
				subtract_stability_1 = yes
			}
			random_owned_province = {
				limit = { has_province_flag = reformation_origins }
				add_province_modifier = { name = religious_scandal_province duration = 500 }
			}
		}
		hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
		add_country_modifier = { name = religious_controversy duration = 500 }
		if = {
			limit = { NOT = { has_country_flag = humanism } }
			if = {
				limit = { piety = 0.60 }
				add_devotion = 8
				add_legitimacy = 4
				add_republican_tradition = 2
			}
			else_if = {
				limit = { piety = 0.20 }
				add_devotion = 6
				add_legitimacy = 3
				add_republican_tradition = 1.5
			}
			else_if = {
				limit = { piety = -0.20 }
				add_devotion = 4
				add_legitimacy = 2
				add_republican_tradition = 1
			}
			else_if = {
				limit = { piety = -0.60 }
				add_devotion = 2
				add_legitimacy = 1
				add_republican_tradition = 0.5
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
		if = {
			limit = { NOT = { any_owned_province = { has_province_flag = reformation_origins } } }
			random_known_country = {
				limit = { any_owned_province = { has_province_flag = reformation_origins } }
				country_event = { id = dg_reformation.010 days = 30 }
			}
		}
	}
	option = {
		name = dg_reformation.016.b #Find him guilty after all
		trigger = { has_country_flag = edict_of_worms }
		ai_chance = { factor = 30 }
		hidden_effect = { change_variable = { which = support_for_reform value = -1 } }
		add_prestige = -10
		clr_global_flag = reformation_luther_protected
		clr_country_flag = sheltered_luther
		set_global_flag = reformation_luther_sentenced
	}
	option = {
		name = dg_reformation.016.c #Refuse to back down
		ai_chance = {
			factor = 40
			modifier = {
				OR = {
					overlord = { has_country_flag = demanding_heretic_trial }
					AND = {
						capital_scope = { is_part_of_hre = yes }
						emperor = { has_country_flag = demanding_heretic_trial }
					}
				}
				factor = 0.5
			}
			modifier = {
				any_known_country = { has_country_flag = threatening_heretic_trial }
				factor = 0.7
			}
			modifier = {
				any_known_country = {
					has_country_flag = threatening_heretic_trial
					OR = { army_size = ROOT num_of_cities = ROOT }
				}
				factor = 0.7
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
				factor = 1.4
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 300 } } }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = support_for_reform value = 3 }
				factor = 1.4
			}
			modifier = {
				NOT = { religion = catholic }
				factor = 4
			}
			modifier = {
				NOT = { has_global_modifier_value = { which = papal_influence value = 0.5 } }
				factor = 1.4
			}
			modifier = {
				is_excommunicated = yes
				factor = 4
			}
			modifier = {
				has_country_flag = enemy_of_pope
				factor = 2
			}
			modifier = {
				is_papal_controller = yes
				factor = 0.5
			}
			modifier = {
				has_global_modifier_value = { which = papal_influence value = 3 }
				factor = 0.5
			}
			modifier = {
				is_emperor = yes
				factor = 0.5
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		set_country_flag = unrepentant_heretic
		hidden_effect = {
			if = {
				limit = {
					any_owned_province = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
						is_city = yes
					}
				}
				random_owned_province = {
					limit = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
						is_city = yes
					}
					set_province_flag = wartburg
					change_variable = { which = protestant_supporters value = 4 }
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_province = {
							is_in_capital_area = yes
							religion = catholic
							controlled_by = owner
							is_city = yes
						}
					}
				}
				random_owned_province = {
					limit = { continent = europe is_city = yes }
					set_province_flag = wartburg
					change_variable = { which = protestant_supporters value = 4 }
				}
			}
		}
		if = {
			limit = { is_emperor = yes }
			if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 71 } }
				add_imperial_influence = -75
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 66 } }
				add_imperial_influence = -70
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 61 } }
				add_imperial_influence = -65
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 56 } }
				add_imperial_influence = -60
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 51 } }
				add_imperial_influence = -55
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 46 } }
				add_imperial_influence = -50
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 41 } }
				add_imperial_influence = -45
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 36 } }
				add_imperial_influence = -40
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 31 } }
				add_imperial_influence = -35
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 26 } }
				add_imperial_influence = -30
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 21 } }
				add_imperial_influence = -25
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 16 } }
				add_imperial_influence = -20
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 11 } }
				add_imperial_influence = -15
			}
			else_if = {
				limit = { check_variable = { which = catholic_pressure_hre value = 6 } }
				add_imperial_influence = -10
			}
			else = {
				add_imperial_influence = -5
			}
		}
		hidden_effect = { set_variable = { which = catholic_pressure_hre value = 0 } }
		every_country = {
			limit = { has_country_flag = threatening_heretic_trial }
			add_opinion = { who = ROOT modifier = religious_scandal_fanatical }
			if = {
				limit = { vassal_of = ROOT }
				add_liberty_desire = 20
			}
		}
		every_country = {
			limit = { has_country_flag = demanding_heretic_trial }
			add_opinion = { who = ROOT modifier = religious_scandal_pious }
			if = {
				limit = { vassal_of = ROOT }
				add_liberty_desire = 10
			}
		}
		country_event = { id = dg_catholic.066 }
		hidden_effect = {
			if = {
				limit = { PAP = { num_of_cities = 1 religion = catholic papal_trigger = yes } }
				set_global_flag = reformation_luther_in_hiding
				set_global_flag = reformation_luther_wartburg
				hidden_effect = {
					if = {
						limit = {
							any_owned_province = {
								is_in_capital_area = yes
								religion = catholic
								controlled_by = owner
								is_city = yes
							}
						}
						random_owned_province = {
							limit = {
								is_in_capital_area = yes
								religion = catholic
								controlled_by = owner
								is_city = yes
							}
							set_province_flag = wartburg
							change_variable = { which = protestant_supporters value = 4 }
						}
					}
					if = {
						limit = {
							NOT = {
								any_owned_province = {
									is_in_capital_area = yes
									religion = catholic
									controlled_by = owner
									is_city = yes
								}
							}
						}
						random_owned_province = {
							limit = { continent = europe is_city = yes }
							set_province_flag = wartburg
							change_variable = { which = protestant_supporters value = 4 }
						}
					}
				}
			}
			PAP = {
				set_country_flag = edict_of_worms
				save_global_event_target_as = imperial_edict_of_worms
				capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms }
			}
		}
	}
}

country_event = { #17 - Edict of [Worms] (April 1521, Emperor)
	
	id = dg_reformation.017
	title = dg_reformation.017.t
	desc = dg_reformation.017.d
	picture = catholic_excommunication
	
	trigger = {
		has_country_flag = edict_of_worms
		NOT = { has_country_flag = protestant_reaction }
		OR = {
			has_country_flag = luther_on_trial
			had_country_flag = { flag = edict_of_worms days = 200 }
		}
		NOT = { has_country_flag = diet_of_worms_over }
		NOT = { religion_years = { protestant = 30 } }
	}
	
	mean_time_to_happen = {
		
		months = 3
		
		modifier = {
			is_at_war = yes
			factor = 2
		}
	}
	
	immediate = {
		set_country_flag = protestant_reaction
		set_global_flag = reformation_diet_of_worms
		if = {
			limit = { has_global_flag = reformation_roman_trial }
			custom_tooltip = dg_reformation.017.pope
			if = {
				limit = { has_global_flag = reformation_luther_in_hiding }
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.papacy
			}
		}
		else = {
			if = {
				limit = { event_target:imperial_edict_of_worms = { is_emperor = yes } }
				custom_tooltip = dg_reformation.017.hre
			}
			if = {
				limit = { event_target:imperial_edict_of_worms = { is_emperor = no } }
				if = {
					limit = { event_target:imperial_edict_of_worms = { french_culture_trigger = yes } }
					custom_tooltip = dg_reformation.017.france
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { culture_group = british } }
					custom_tooltip = dg_reformation.017.britain
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { dutch_culture_country_trigger = yes } }
					custom_tooltip = dg_reformation.017.netherlands
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { culture_group = iberian } }
					custom_tooltip = dg_reformation.017.spain
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { scandinavian_culture_trigger = yes } }
					custom_tooltip = dg_reformation.017.scandinavia
				}
				if = {
					limit = {
						NOT = {
							event_target:imperial_edict_of_worms = {
								OR = {
									culture_group = british
									dutch_culture_country_trigger = yes
									culture_group = iberian
									scandinavian_culture_trigger = yes
								}
							}
						}
					}
					custom_tooltip = dg_reformation.017.generic
				}
			}
			if = {
				limit = { has_global_flag = reformation_luther_in_hiding }
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.luther
			}
		}
		custom_tooltip = dg_reformation.017.end
		if = {
			limit = { has_country_flag = edict_of_worms }
			if = {
				limit = { has_country_flag = luther_safe_passage_promised }
				custom_tooltip = dg_reformation.017.safe_passage
			}
			set_country_flag = diet_of_worms_over
		}
		hidden_effect = {
			if = {
				limit = { is_emperor = yes }
				if = {
					limit = {
						any_known_country = {
							government = republic
							free_city_trigger = yes
							capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
							NOT = { num_of_cities = 2 }
							is_emperor = no
							is_elector = no
						}
					}
					random_known_country = {
						limit = {
							government = republic
							free_city_trigger = yes
							capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
							NOT = { num_of_cities = 2 }
							is_emperor = no
							is_elector = no
						}
						capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms }
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								free_city_trigger = yes
								capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
								NOT = { num_of_cities = 2 }
								is_emperor = no
								is_elector = no
							}
						}
						any_owned_province = {
							is_in_capital_area = yes
							culture_group = owner
							is_part_of_hre = yes
						}
					}
					random_owned_province = {
						limit = { is_in_capital_area = yes culture_group = owner is_part_of_hre = yes }
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								free_city_trigger = yes
								capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
								NOT = { num_of_cities = 2 }
								is_emperor = no
								is_elector = no
							}
						}
						NOT = {
							any_owned_province = {
								is_in_capital_area = yes
								culture_group = owner
								is_part_of_hre = yes
							}
						}
					}
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
	}
	
	option = {
		name = dg_reformation.017.b #Let him leave
		trigger = {
			NOT = { has_global_flag = reformation_luther_in_hiding }
			NOT = { has_global_flag = reformation_roman_trial }
			OR = {
				has_country_flag = luther_safe_passage_promised
				NOT = { num_of_cardinals = 1 }
				ai = no
			}
		}
		ai_chance = { factor = 70 }
		set_global_flag = reformation_luther_sentenced
		set_country_flag = luther_verdict_guilty
		set_country_flag = luther_allowed_to_leave
	}
	option = {
		name = dg_reformation.017.a #Burn him
		trigger = { NOT = { has_global_flag = reformation_luther_in_hiding } }
		ai_chance = {
			factor = 15
			modifier = {
				NOT = { has_country_flag = luther_safe_passage_promised }
				factor = 5
			}
			modifier = {
				vassal = 2
				factor = 0.7
			}
			modifier = {
				vassal = 4
				factor = 0.7
			}
			modifier = {
				is_emperor = yes
				has_country_flag = luther_safe_passage_promised
				factor = 0.5
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				NOT = { stability = 0 }
				factor = 0.7
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				government = monarchy
				NOT = { legitimacy = 90 }
				factor = 0.7
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				government = republic
				NOT = { republican_tradition = 90 }
				factor = 0.7
			}
			modifier = {
				has_country_flag = luther_safe_passage_promised
				NOT = { prestige = 0 }
				factor = 0.7
			}
		}
		hidden_effect = { change_variable = { which = support_for_reform value = -2 } }
		set_global_flag = reformation_luther_sentenced
		set_global_flag = reformation_luther_martyred
		set_country_flag = luther_verdict_guilty
		add_papal_influence = 50
		if = {
			limit = { has_country_flag = luther_safe_passage_promised }
			subtract_stability_1 = yes
			add_legitimacy = -10
			add_devotion = -10
			add_republican_tradition = -10
			add_prestige = -10
			if = {
				limit = { is_emperor = yes }
				add_imperial_influence = -50
			}
		}
	}
	option = {
		name = dg_reformation.017.c #Declare him guilty in absentia
		trigger = { has_global_flag = reformation_luther_in_hiding }
		ai_chance = { factor = 10 }
		hidden_effect = { change_variable = { which = support_for_reform value = -1 } }
		set_global_flag = reformation_luther_sentenced
		set_country_flag = luther_verdict_guilty
		add_papal_influence = 25
	}
	option = {
		name = dg_reformation.017.e #Absolve him of his heresy
		trigger = {
			NOT = { has_global_flag = luther_in_rome }
			papal_trigger = no
		}
		ai_chance = {
			factor = 5
			modifier = {
				has_country_flag = humanism
				factor = 2
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
		}
		hidden_effect = { change_variable = { which = support_for_reform value = 2 } }
		if = {
			limit = { has_country_flag = humanism }
			subtract_stability_1 = yes
		}
		else = {
			subtract_stability_2 = yes
		}
		set_global_flag = reformation_luther_protected
		set_country_flag = sheltered_luther
		hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = religious_scandal_fanatical } }
		}
		custom_tooltip = excommunication_chance
		add_papal_influence = -50
		add_prestige = -10
		if = {
			limit = { patriarch_authority = 0.80 }
			add_country_modifier = { name = unhappy_church_powerful duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.60 }
			add_country_modifier = { name = unhappy_church_strong duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.40 }
			add_country_modifier = { name = unhappy_church_moderate duration = 2000 }
		}
		else_if = {
			limit = { patriarch_authority = 0.20 }
			add_country_modifier = { name = unhappy_church_weak duration = 2000 }
		}
		else = {
			add_country_modifier = { name = unhappy_church_impotent duration = 2000 }
		}
	}
}

country_event = { #18 - Edict of [Worms] (news)
	
	id = dg_reformation.018
	title = dg_reformation.017.t
	desc = dg_reformation.017.d
	picture = catholic_excommunication
	
	trigger = {
		religion = catholic
		NOT = { has_country_flag = protestant_reaction }
		NOT = { religion_years = { protestant = 60 } }
		OR = {
			any_neighbor_country = { has_country_flag = protestant_reaction }
			any_active_trade_node = {
				strongest_trade_power = {
					OR = {
						has_country_flag = protestant_reaction
						religion = protestant
						religion = reformed
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		
		months = 10
		
		modifier = {
			any_neighbor_country = { has_country_flag = edict_of_worms }
			factor = 0.5
		}
		modifier = {
			any_owned_province = { has_province_flag = reformation_origins }
			factor = 0.5
		}
		modifier = {
			any_known_country = {
				OR = {
					religion = hussite
					religion = gnostic
					religion = protestant
					religion = reformed
				}
			}
			factor = 0.7
		}
		modifier = {
			any_known_country = {
				has_country_flag = protestant_reaction
				OR = {
					alliance_with = ROOT
					marriage_with = ROOT
					senior_union_with = ROOT
					junior_union_with = ROOT
				}
			}
			factor = 0.7
		}
		modifier = { #Spreads more slowly across water
			NOT = {
				any_neighbor_country = {
					OR = {
						has_country_flag = protestant_reaction
						religion = protestant
						religion = reformed
					}
				}
			}
			factor = 3
		}
	}
	
	immediate = {
		set_country_flag = protestant_reaction
		if = {
			limit = { has_global_flag = reformation_roman_trial }
			custom_tooltip = dg_reformation.017.pope
			if = {
				limit = { has_global_flag = reformation_luther_in_hiding }
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.papacy
			}
		}
		else = {
			if = {
				limit = { event_target:imperial_edict_of_worms = { is_emperor = yes } }
				custom_tooltip = dg_reformation.017.hre
			}
			if = {
				limit = { event_target:imperial_edict_of_worms = { is_emperor = no } }
				if = {
					limit = { event_target:imperial_edict_of_worms = { french_culture_trigger = yes } }
					custom_tooltip = dg_reformation.017.france
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { culture_group = british } }
					custom_tooltip = dg_reformation.017.britain
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { dutch_culture_country_trigger = yes } }
					custom_tooltip = dg_reformation.017.netherlands
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { culture_group = iberian } }
					custom_tooltip = dg_reformation.017.spain
				}
				if = {
					limit = { event_target:imperial_edict_of_worms = { scandinavian_culture_trigger = yes } }
					custom_tooltip = dg_reformation.017.scandinavia
				}
				if = {
					limit = {
						NOT = {
							event_target:imperial_edict_of_worms = {
								OR = {
									culture_group = british
									dutch_culture_country_trigger = yes
									culture_group = iberian
									scandinavian_culture_trigger = yes
								}
							}
						}
					}
					custom_tooltip = dg_reformation.017.generic
				}
			}
			if = {
				limit = { has_global_flag = reformation_luther_in_hiding }
				custom_tooltip = dg_reformation.017.absentia
			}
			else = {
				custom_tooltip = dg_reformation.017.luther
				hidden_effect = {
					random_owned_province = {
						limit = {
							is_capital = yes
							NOT = { has_province_flag = renaissance_ideas }
							religion = catholic
							OR = {
								continent = europe
								is_in_capital_area = yes
							}
							is_city = yes
						}
						random = {
							chance = 30
							custom_tooltip = heretic_20
							hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
						}
					}
					random_owned_province = {
						limit = {
							is_capital = yes
							event_target:reformation_origins = { culture_group = PREV }
							religion = catholic
							OR = {
								continent = europe
								is_in_capital_area = yes
							}
							is_city = yes
						}
						random = {
							chance = 20
							custom_tooltip = heretic_20
							hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
						}
					}
				}
			}
		}
		custom_tooltip = dg_reformation.017.end
		if = {
			limit = {
				has_global_flag = reformation_luther_sentenced
				NOT = { has_global_flag = reformation_luther_martyred }
			}
			custom_tooltip = dg_reformation.017.edict
		}
		if = {
			limit = { has_global_flag = reformation_luther_martyred }
			custom_tooltip = dg_reformation.017.death
			if = {
				limit = {
					event_target:imperial_edict_of_worms = {
						has_country_flag = luther_verdict_guilty
						has_country_flag = luther_safe_passage_promised
					}
				}
				custom_tooltip = dg_reformation.017.broken_vow
				if = {
					limit = {
						OR = {
							event_target:imperial_edict_of_worms = { overlord_of = ROOT }
							AND = {
								capital_scope = { is_part_of_hre = yes }
								event_target:imperial_edict_of_worms = { is_emperor = yes }
							}
						}
					}
					event_target:imperial_edict_of_worms = { add_opinion = { who = ROOT modifier = religious_scandal_fanatical } }
					if = {
						limit = { event_target:imperial_edict_of_worms = { overlord_of = ROOT } }
						add_liberty_desire = 10
					}
				}
			}
		}
		if = {
			limit = {
				NOT = { has_global_flag = reformation_luther_sentenced }
				NOT = { has_global_flag = reformation_luther_martyred }
			}
			custom_tooltip = dg_reformation.017.life
		}
		hidden_effect = {
			if = {
				limit = { is_emperor = yes }
				if = {
					limit = {
						any_known_country = {
							government = republic
							free_city_trigger = yes
							capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
							NOT = { num_of_cities = 2 }
							is_emperor = no
							is_elector = no
						}
					}
					random_known_country = {
						limit = {
							government = republic
							free_city_trigger = yes
							capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
							NOT = { num_of_cities = 2 }
							is_emperor = no
							is_elector = no
						}
						capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms }
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								free_city_trigger = yes
								capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
								NOT = { num_of_cities = 2 }
								is_emperor = no
								is_elector = no
							}
						}
						any_owned_province = {
							is_in_capital_area = yes
							culture_group = owner
							is_part_of_hre = yes
						}
					}
					random_owned_province = {
						limit = { is_in_capital_area = yes culture_group = owner is_part_of_hre = yes }
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
				if = {
					limit = {
						NOT = {
							any_known_country = {
								government = republic
								free_city_trigger = yes
								capital_scope = { is_part_of_hre = yes NOT = { has_province_flag = diet_of_worms } }
								NOT = { num_of_cities = 2 }
								is_emperor = no
								is_elector = no
							}
						}
						NOT = {
							any_owned_province = {
								is_in_capital_area = yes
								culture_group = owner
								is_part_of_hre = yes
							}
						}
					}
					capital_scope = {
						save_global_event_target_as = imperial_diet_of_worms
						set_province_flag = diet_of_worms
					}
				}
			}
		}
	}
	
	option = {
		name = dg_reformation.017.f #Place him under our protection
		trigger = {
			has_global_flag = reformation_luther_sentenced
			NOT = { has_global_flag = reformation_luther_martyred }
			NOT = { has_global_flag = reformation_luther_returned }
			NOT = { has_global_flag = reformation_luther_in_hiding }
			NOT = { has_global_flag = reformation_luther_wartburg }
			NOT = { has_global_flag = reformation_roman_trial }
			NOT = { had_global_flag = { flag = reformation_luther_sentenced days = 300 } }
			any_owned_province = {
				controlled_by = owner
				has_siege = no
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				government = theocracy
				religion = catholic
				factor = 0
			}
			modifier = {
				NOT = { any_owned_province = { religion = catholic has_province_flag = humanist_ideas } }
				factor = 0
			}
			modifier = {
				has_country_flag = renaissance_leanings
				factor = 0.5
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
			modifier = {
				NOT = { religion = catholic }
				NOT = { religion = protestant }
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = { alliance_with = ROOT }
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = { marriage_with = ROOT }
				factor = 0.5
			}
			modifier = {
				event_target:imperial_edict_of_worms = { is_enemy = ROOT }
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = { is_rival = ROOT }
				factor = 2
			}
			modifier = {
				any_owned_province = { has_province_flag = reformation_origins has_owner_culture = yes }
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = { overlord_of = ROOT }
				liberty_desire = 50
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = { overlord_of = ROOT }
				liberty_desire = 100
				factor = 2
			}
			modifier = {
				event_target:imperial_edict_of_worms = { is_emperor = yes }
				is_elector = yes
				factor = 2
			}
		}
		add_mil_power = -25
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		if = {
			limit = { NOT = { has_global_flag = reformation_luther_martyred } } #Just in case
			set_country_flag = luther_protection
		}
		clr_country_flag = renaissance
		set_country_flag = humanism
		hidden_effect = {
			every_owned_province = {
				limit = { has_owner_culture = yes }
				clr_province_flag = renaissance_ideas
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					NOT = { culture_group = owner }
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					is_in_capital_area = no
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
		}
	}
	option = {
		name = dg_reformation.017.g #Debate his ideas
		trigger = {
			OR = {
				has_country_flag = same_culture_as_reformer
				has_country_flag = humanism
				ai = no
				capital_scope = {
					any_province = {
						culture = PREV
						NOT = { owned_by = ROOT }
						NOT = { culture_group = owner }
						owner = { has_country_flag = renaissance num_of_cities = 12 }
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				government = theocracy
				capital_scope = { is_part_of_hre = yes }
				factor = 0
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0.2
			}
			modifier = {
				has_country_flag = renaissance_leanings
				factor = 0.5
			}
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 0.7
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		custom_tooltip = reformation_convert_from_catholic
		clr_country_flag = renaissance
		set_country_flag = humanism
		hidden_effect = {
			every_owned_province = {
				limit = { has_owner_culture = yes }
				clr_province_flag = renaissance_ideas
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					NOT = { culture_group = owner }
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
			every_owned_province = {
				limit = {
					has_owner_religion = yes
					is_in_capital_area = no
				}
				random = {
					chance = 35
					clr_province_flag = humanist_ideas
					set_province_flag = renaissance_ideas
				}
			}
		}
	}
	option = {
		name = dg_reformation.017.h #Ban his writings from our lands
		trigger = {
			OR = {
				has_country_flag = renaissance
				ai = no
				AND = {
					OR = {
						is_elector = yes
						is_emperor = yes
					}
					calc_true_if = {
						all_elector = {
							NOT = { has_country_flag = renaissance }
						}
						amount = 6
					}
				}
				capital_scope = {
					any_province = {
						culture = PREV
						NOT = { owned_by = ROOT }
						NOT = { culture_group = owner }
						owner = { has_country_flag = humanism num_of_cities = 12 }
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				capital_scope = { check_variable = { which = hussite value = 10 } }
				factor = 0.7
			}
			modifier = {
				capital_scope = { check_variable = { which = hussite value = 25 } }
				factor = 0.7
			}
			modifier = {
				has_country_flag = was_hussite
				factor = 0.7
			}
			modifier = {
				has_country_flag = was_gnostic
				factor = 1.4
			}
			modifier = {
				has_country_flag = was_orthodox
				factor = 1.4
			}
			modifier = {
				has_country_flag = humanism
				factor = 0.2
			}
			modifier = {
				has_country_flag = humanist_leanings
				factor = 0.5
			}
			modifier = {
				has_country_flag = forbidden_index_banned
				factor = 2
			}
		}
		custom_tooltip = reformation_stay_catholic
		clr_country_flag = luther_protection
		clr_country_flag = let_luther_go
		clr_country_flag = electors_request
		clr_country_flag = humanism
		set_country_flag = renaissance
		hidden_effect = {
			every_owned_province = {
				limit = { has_owner_culture = yes }
				clr_province_flag = humanist_ideas
			}
			if = {
				limit = {
					has_saved_event_target = the_vatican
				}
				every_owned_province = {
					limit = {
						has_owner_religion = yes
						NOT = { culture_group = owner }
						NOT = { event_target:the_vatican = { superregion = PREV } }
					}
					random = {
						chance = 35
						clr_province_flag = renaissance_ideas
						set_province_flag = humanist_ideas
					}
				}
				every_owned_province = {
					limit = {
						has_owner_religion = yes
						is_in_capital_area = no
						NOT = { event_target:the_vatican = { superregion = PREV } }
					}
					random = {
						chance = 35
						clr_province_flag = renaissance_ideas
						set_province_flag = humanist_ideas
					}
				}
			}
		}
	}
}

country_event = { #19 - Martyrdom in [Worms] (ahistorical)
	
	id = dg_reformation.019
	title = dg_reformation.019.t
	desc = dg_reformation.019.d
	picture = catholic_heretic_execution
	
	trigger = {
		has_global_flag = reformation_luther_martyred
		has_country_flag = protestant_reaction
		NOT = { is_religion_enabled = protestant }
		any_owned_province = { has_province_flag = humanist_ideas }
		NOT = { has_country_flag = luther_martyred }
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		set_country_flag = luther_martyred
		hidden_effect = {
			regiongroup = {
				region = {
					clr_province_flag = wartburg
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = luther_verdict_guilty
					has_country_flag = sent_luther_to_rome
					has_country_flag = sent_luther_to_trial
				}
				NOT = { has_country_flag = luther_allowed_to_leave }
			}
			custom_tooltip = dg_reformation.019.blame
		}
		if = {
			limit = { is_religion_enabled = protestant }
			custom_tooltip = dg_reformation.019.reformation
		}
		if = {
			limit = {
				OR = {
					AND = {
						NOT = { has_country_flag = luther_verdict_guilty }
						NOT = { has_country_flag = sent_luther_to_rome }
						NOT = { has_country_flag = sent_luther_to_trial }
					}
					has_country_flag = luther_allowed_to_leave
				}
				NOT = { is_religion_enabled = protestant }
			}
			custom_tooltip = dg_reformation.019.next
		}
		if = {
			limit = { has_country_flag = humanism }
			subtract_stability_1 = yes
		}
	}
	
	option = {
		name = dg_reformation.019.a #Wait and see
		ai_chance = { factor = 60 }
		if = {
			limit = {
				OR = {
					NOT = {
						OR = {
							has_country_flag = luther_verdict_guilty
							has_country_flag = sent_luther_to_rome
							has_country_flag = sent_luther_to_trial
						}
					}
					has_country_flag = luther_allowed_to_leave
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 2 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_2
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 4 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_4
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 6 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_6
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 8 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_8
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_country_flag = luther_verdict_guilty
					has_country_flag = sent_luther_to_rome
					has_country_flag = sent_luther_to_trial
				}
				NOT = { has_country_flag = luther_allowed_to_leave }
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 4 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_4
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 8 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_8
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 12 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_12
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 16 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_16
					add_province_modifier = { name = religious_riots duration = 1000 }
				}
			}
		}
		custom_tooltip = protestant_10
		custom_tooltip = reformed_10
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
				}
				random = {
					chance = 50
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					OR = { religion = catholic religion = protestant }
				}
				random = {
					chance = 50
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
			every_owned_province = {
				limit = { event_target:reformation_origins = { culture_group = PREV } religion = catholic }
				random = {
					chance = 25
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
	option = {
		name = dg_reformation.019.b #Round up ringleaders
		trigger = {
			any_owned_province = {
				OR = {
					check_variable = { which = protestant_supporters value = 1 }
					check_variable = { which = protestant value = 1 }
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				OR = {
					has_country_flag = sent_luther_to_rome
					has_country_flag = luther_verdict_guilty
				}
				factor = 2
			}
			modifier = {
				government = theocracy
				religion = catholic
				factor = 2
			}
		}
		if = {
			limit = {
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = { which = protestant_supporters value = 1 }
							check_variable = { which = protestant value = 1 }
						}
						value = 2
					}
				}
			}
			add_mil_power = -10
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = { which = protestant_supporters value = 1 }
						check_variable = { which = protestant value = 1 }
					}
					value = 2
				}
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = { which = protestant_supporters value = 1 }
							check_variable = { which = protestant value = 1 }
						}
						value = 4
					}
				}
			}
			add_mil_power = -25
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = { which = protestant_supporters value = 1 }
						check_variable = { which = protestant value = 1 }
					}
					value = 4
				}
			}
			add_mil_power = -50
		}
		if = {
			limit = { NOT = { has_country_flag = luther_verdict_guilty has_country_flag = sent_luther_to_rome } }
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 2 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_2
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 4 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_4
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 6 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_6
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 8 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_8
				}
			}
		}
		if = {
			limit = { OR = { has_country_flag = luther_verdict_guilty has_country_flag = sent_luther_to_rome } }
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 1 }
								NOT = { check_variable = { which = protestant_supporters value = 4 } }
							}
							AND = {
								check_variable = { which = protestant value = 1 }
								NOT = { check_variable = { which = protestant value = 4 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 4 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_4
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 4 }
								NOT = { check_variable = { which = protestant_supporters value = 8 } }
							}
							AND = {
								check_variable = { which = protestant value = 4 }
								NOT = { check_variable = { which = protestant value = 8 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 8 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_8
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							AND = {
								check_variable = { which = protestant_supporters value = 8 }
								NOT = { check_variable = { which = protestant_supporters value = 12 } }
							}
							AND = {
								check_variable = { which = protestant value = 8 }
								NOT = { check_variable = { which = protestant value = 12 } }
							}
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 12 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_12
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
				}
				every_owned_province = {
					limit = {
						OR = {
							check_variable = { which = protestant_supporters value = 12 }
							check_variable = { which = protestant value = 12 }
						}
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 16 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_16
				}
			}
		}
		custom_tooltip = reformed_10
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					OR = { religion = catholic religion = protestant }
				}
				random = {
					chance = 50
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
	option = {
		name = dg_reformation.019.c #Blame the Church
		trigger = {
			has_country_flag = humanism
			NOT = {
				OR = {
					has_country_flag = sent_luther_to_rome
					has_country_flag = luther_verdict_guilty
				}
			}
			any_owned_province = {
				OR = {
					check_variable = { which = protestant_supporters value = 4 }
					check_variable = { which = protestant value = 4 }
				}
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 0.7
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
				factor = 1.4
			}
			modifier = {
				is_papal_controller = yes
				factor = 0
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 2
			}
			modifier = {
				check_variable = { which = protestant_population value = 25 }
				factor = 2
			}
			modifier = {
				check_variable = { which = protestant_population value = 50 }
				factor = 2
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		if = {
			limit = {
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = { which = protestant_supporters value = 1 }
							check_variable = { which = protestant value = 1 }
						}
						value = 2
					}
				}
			}
			add_dip_power = -10
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = { which = protestant_supporters value = 1 }
						check_variable = { which = protestant value = 1 }
					}
					value = 2
				}
				NOT = {
					num_of_owned_provinces_with = {
						OR = {
							check_variable = { which = protestant_supporters value = 1 }
							check_variable = { which = protestant value = 1 }
						}
						value = 4
					}
				}
			}
			add_dip_power = -25
		}
		if = {
			limit = {
				num_of_owned_provinces_with = {
					OR = {
						check_variable = { which = protestant_supporters value = 1 }
						check_variable = { which = protestant value = 1 }
					}
					value = 4
				}
			}
			add_dip_power = -50
		}
		custom_tooltip = protestant_20
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 1 }
						check_variable = { which = protestant value = 1 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 1 }
						check_variable = { which = protestant value = 1 }
					}
				}
				add_province_modifier = { name = religious_riots duration = 1000 }
			}
		}
		custom_tooltip = protestant_10
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
				}
				random = {
					chance = 50
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
			every_owned_province = {
				limit = { event_target:reformation_origins = { culture_group = PREV } religion = catholic }
				random = {
					chance = 25
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #20 - Mysterious Disappearance (May 1521, Saxony)
	
	id = dg_reformation.020
	title = dg_reformation.020.t
	desc = dg_reformation.020.d
	picture = protestant_submission
	
	trigger = {
		has_country_flag = luther_protection
		NOT = { has_global_flag = reformation_luther_wartburg }
		NOT = { has_global_flag = reformation_roman_trial }
		NOT = { religion_years = { protestant = 30 } }
		any_owned_province = { continent = europe }
	}
	
	mean_time_to_happen = {
		
		months = 6
		
		modifier = {
			event_target:reformation_origins = { culture_group = ROOT }
			factor = 0.5
		}
		modifier = {
			any_owned_province = { has_province_flag = reformation_origins }
			factor = 0.5
		}
		modifier = {
			any_neighbor_country = { NOT = { religion = catholic } }
			factor = 2
		}
		modifier = {
			check_variable = { which = protestant_population value = 10 }
			factor = 0.7
		}
		modifier = {
			check_variable = { which = protestant_population value = 25 }
			factor = 0.7
		}
		modifier = {
			check_variable = { which = protestant_population value = 50 }
			factor = 0.7
		}
	}
	
	immediate = {
		set_global_flag = reformation_luther_wartburg
		set_country_flag = notified_of_wartburg
		custom_tooltip = dg_reformation.020.abductor
		hidden_effect = {
			if = {
				limit = {
					any_owned_province = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
					}
				}
				random_owned_province = {
					limit = {
						is_in_capital_area = yes
						religion = catholic
						controlled_by = owner
						is_city = yes
					}
					set_province_flag = wartburg
					change_variable = { which = protestant_supporters value = 4 }
				}
			}
			if = {
				limit = {
					NOT = {
						any_owned_province = {
							is_in_capital_area = yes
							religion = catholic
							controlled_by = owner
							is_city = yes
						}
					}
				}
				random_owned_province = {
					limit = { continent = europe is_city = yes }
					set_province_flag = wartburg
					change_variable = { which = protestant_supporters value = 4 }
				}
			}
		}
		hidden_effect = { every_country = { clr_country_flag = luther_protection } }
		set_country_flag = hiding_luther
		clr_country_flag = luther_protection
	}
	
	option = {
		name = dg_reformation.020.a
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		define_advisor = {
			religion = protestant
			type = theologian
			skill = 3
			discount = yes
		}
	}
}

country_event = { #21 - Mysterious Disappearance (news)
	
	id = dg_reformation.021
	title = dg_reformation.020.t
	desc = dg_reformation.020.d
	picture = protestant_submission
	
	trigger = {
		has_global_flag = reformation_luther_wartburg
		NOT = { has_country_flag = notified_of_wartburg }
		OR = {
			has_country_flag = diet_of_worms
			has_country_flag = luther_protection
			any_owned_province = { has_province_flag = reformation_origins }
			AND = {
				religion = catholic
				has_country_flag = religious_news_trivial
			}
			AND = {
				religion_group = christian
				has_country_flag = religious_news_all
			}
		}
		NOT = { is_religion_enabled = protestant }
	}
	
	mean_time_to_happen = { months = 1 }
	
	immediate = {
		set_country_flag = notified_of_wartburg
		if = {
			limit = {
				has_country_flag = diet_of_worms
				NOT = { has_country_flag = electors_request }
			}
			custom_tooltip = dg_reformation.020.emperor
		}
		if = {
			limit = {
				NOT = { has_country_flag = diet_of_worms }
				NOT = { has_country_flag = electors_request }
			}
			custom_tooltip = dg_reformation.020.other
		}
	}
	
	option = {
		name = dg_reformation.020.a
		if = {
			limit = { has_country_flag = electors_request }
			define_advisor = {
				religion = protestant
				type = theologian
				skill = 3
				discount = yes
			}
		}
	}
}

province_event = { #22 - Debate Verdict (April 1521, Paris and Erfurt)
	
	id = dg_reformation.022
	title = dg_reformation.022.t
	desc = dg_reformation.022.d
	picture = protestant_disputation
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				owner = {
					NOT = { num_of_cardinals = 1 }
					has_country_flag = humanism
					is_papal_controller = no
					NOT = { government = theocracy }
				}
			}
			custom_tooltip = dg_reformation.022.reformer
		}
		if = {
			limit = {
				NOT = {
					owner = {
						NOT = { num_of_cardinals = 1 }
						has_country_flag = humanism
						is_papal_controller = no
						NOT = { government = theocracy }
					}
				}
			}
			custom_tooltip = dg_reformation.022.church
		}
	}
	
	option = {
		name = dg_reformation.022.a #Church wins
		ai_chance = {
			factor = 60
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 1.4
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
				factor = 0.7
			}
		}
		trigger = {
			NOT = {
				owner = {
					NOT = { num_of_cardinals = 1 }
					has_country_flag = humanism
					is_papal_controller = no
					NOT = { government = theocracy }
				}
			}
		}
		hidden_effect = { owner = { change_variable = { which = support_for_reform value = -1 } } }
		owner = {
			add_papal_influence = 10
			random_known_country = {
				limit = { any_owned_province = { has_province_flag = reformation_origins } }
				add_opinion = { who = ROOT modifier = religious_scandal_decadent }
			}
		}
	}
	option = {
		name = dg_reformation.022.b #Recuse ourselves
		ai_chance = { factor = 30 }
		owner = { add_prestige = -1 }
	}
	option = {
		name = dg_reformation.022.c #Luther wins
		ai_chance = { factor = 10 }
		trigger = {
			owner = {
				NOT = { num_of_cardinals = 1 }
				has_country_flag = humanism
				is_papal_controller = no
				NOT = { government = theocracy }
			}
		}
		owner = {
			hidden_effect = {
				change_variable = { which = support_for_reform value = 1 }
				set_country_flag = useful_protestant
				change_variable = { which = minority_usefulness value = 5 }
			}
			add_papal_influence = -50
			add_country_modifier = { name = religious_controversy duration = 500 }
			every_country = {
				limit = { OR = { is_papal_controller = yes papal_trigger = yes } }
				add_opinion = { who = ROOT modifier = religious_scandal_decadent }
			}
		}
	}
}

country_event = { #23 - The [Emperor]'s Response (ahistorical)
	
	id = dg_reformation.023
	title = dg_reformation.023.t
	desc = dg_reformation.023.d
	picture = all_bad_peace
	
	is_triggered_only = yes
	
	option = {
		name = dg_reformation.023.a #Let them take him
		ai_chance = { factor = 50 }
		add_prestige = -5
		event_target:imperial_edict_of_worms = { set_country_flag = luther_on_trial }
	}
	option = {
		name = dg_reformation.023.b #Hide him away from them
		ai_chance = { factor = 50 }
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		add_mil_power = -25
		if = {
			limit = { NOT = { has_global_flag = reformation_luther_in_hiding } }
			FROM = { country_event = { id = dg_reformation.013 days = 30 } }
		}
		set_country_flag = luther_protection
		reverse_add_opinion = { who = FROM modifier = opinion_displeased }
		if = {
			limit = { is_subject_of = FROM }
			add_liberty_desire = 10
		}
	}
}

country_event = { #24 - Fidei Defensor (1521, England)
	
	id = dg_reformation.024
	title = dg_reformation.024.t
	desc = dg_reformation.024.d
	picture = protestant_state_church
	
	trigger = {
		has_country_flag = rebuttal_of_ninety_five_theses
		religion = catholic
		NOT = { is_religion_enabled = protestant }
		OR = { has_regency = no has_consort_regency = yes }
	}
	
	mean_time_to_happen = {
		
		months = 50
		
		modifier = {
			NOT = { num_of_cities = 24 }
			factor = 1.4
		}
		modifier = {
			NOT = { num_of_cities = 12 }
			factor = 1.4
		}
		modifier = {
			NOT = { num_of_cities = 6 }
			factor = 1.4
		}
		modifier = {
			NOT = { num_of_cities = 3 }
			factor = 1.4
		}
		modifier = {
			NOT = { num_of_cities = 2 }
			factor = 1.4
		}
		modifier = {
			is_subject_other_than_tributary_trigger = yes
			factor = 2
		}
		modifier = {
			capital_scope = { is_part_of_hre = yes }
			factor = 1.4
		}
		modifier = {
			has_country_flag = humanism
			factor = 0.5
		}
	}
	
	immediate = {
		hidden_effect = { every_country = { clr_country_flag = rebuttal_of_ninety_five_theses } }
	}
	
	option = {
		name = dg_reformation.024.a #How nice
		set_country_flag = fidei_defensor
		if = {
			limit = { piety = 0.60 }
			add_prestige = 16
			add_devotion = 16
			add_legitimacy = 8
			add_republican_tradition = 4
		}
		else_if = {
			limit = { piety = 0.20 }
			add_prestige = 8
			add_devotion = 8
			add_legitimacy = 4
			add_republican_tradition = 2
		}
		else_if = {
			limit = { piety = -0.20 }
			add_prestige = 4
			add_devotion = 4
			add_legitimacy = 2
			add_republican_tradition = 1
		}
		else_if = {
			limit = { piety = -0.60 }
			add_prestige = 2
			add_devotion = 2
			add_legitimacy = 1
			add_republican_tradition = 0.5
		}
	}
}

province_event = { #25 - Driving the Devil Away With Ink (1521/2) - Luther writes more books to combat depression and mood swings
	
	id = dg_reformation.025
	title = dg_reformation.025.t
	desc = dg_reformation.025.d
	picture = all_publishing
	
	trigger = {
		has_global_flag = reformation_luther_sentenced
		has_province_flag = wartburg
		controlled_by = owner
		owner = {
			OR = {
				has_country_flag = luther_protection
				has_country_flag = sheltered_luther
				has_country_flag = hiding_luther
				has_country_flag = electors_request
				has_country_flag = let_luther_go
			}
		}
		NOT = { has_global_flag = reformation_september_testament }
		NOT = { religion_years = { protestant = 30 } }
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		set_global_flag = reformation_september_testament
	}
	
	option = {
		name = dg_reformation.025.a #Publish it
		ai_chance = {
			factor = 70
			modifier = {
				owner = { NOT = { religion = catholic } }
				factor = 2
			}
			modifier = {
				owner = { is_bankrupt = yes }
				factor = 0.5
			}
		}
		owner = {
			hidden_effect = {
				change_variable = { which = support_for_reform value = 1 }
				set_country_flag = useful_protestant
				change_variable = { which = minority_usefulness value = 5 }
			}
			add_years_of_income = -0.04
			if = {
				limit = { piety = 0.60 }
				add_prestige = 16
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 12
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 8
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 4
			}
		}
		custom_tooltip = protestant_20
		hidden_effect = {
			owner = {
				every_owned_province = {
					limit = {
						OR = {
							NOT = { has_province_flag = renaissance_ideas }
							AND = {
								is_in_capital_area = no
								owner = { has_country_flag = renaissance }
							}
						}
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 30
						hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
					}
				}
				every_owned_province = {
					limit = {
						event_target:reformation_origins = { culture_group = PREV }
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 20
						hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.025.b #Read it
		trigger = { owner = { OR = { religion = catholic ai = no } } }
		ai_chance = { factor = 30 }
		owner = {
			if = {
				limit = { piety = 0.60 }
				add_prestige = 4
			}
			else_if = {
				limit = { piety = 0.20 }
				add_prestige = 3
			}
			else_if = {
				limit = { piety = -0.20 }
				add_prestige = 2
			}
			else_if = {
				limit = { piety = -0.60 }
				add_prestige = 1
			}
		}
		custom_tooltip = protestant_20
		hidden_effect = {
			owner = {
				every_owned_province = {
					limit = {
						OR = {
							NOT = { has_province_flag = renaissance_ideas }
							AND = {
								is_in_capital_area = no
								owner = { has_country_flag = renaissance }
							}
						}
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 15
						hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
					}
				}
				every_owned_province = {
					limit = {
						event_target:reformation_origins = { culture_group = PREV }
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 10
						hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
					}
				}
			}
		}
	}
}

country_event = { #26 - Reformation Theology (1521)
	
	id = dg_reformation.026
	title = dg_reformation.026.t
	desc = dg_reformation.026.d
	picture = all_publishing
	
	trigger = {
		has_global_flag = reformation_september_testament
		NOT = { has_global_flag = reformation_lutheran_doctrines }
		OR = {
			has_country_flag = humanism
			has_country_flag = let_luther_go
			has_country_flag = luther_protection
			has_country_flag = sheltered_luther
			has_country_flag = hiding_luther
			has_country_flag = electors_request
			religion = protestant
		}
		NOT = { has_global_flag = reformation_luther_martyred }
		NOT = { is_religion_enabled = protestant }
		any_owned_province = { has_province_flag = wartburg }
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = { set_global_flag = reformation_lutheran_doctrines }
	
	option = {
		name = dg_reformation.026.a #Time to take sides!
		if = {
			limit = { has_country_flag = humanism }
			define_advisor = {
				type = theologian
				discount = yes
			}
		}
		hidden_effect = {
			regiongroup = {
				region = {
					limit = {
						OR = {
							NOT = { has_province_flag = renaissance_ideas }
							AND = {
								is_in_capital_area = no
								owner = { has_country_flag = renaissance }
							}
						}
						religion = catholic
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					random = {
						chance = 30
						custom_tooltip = heretic_20
						hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
					}
				}
			}
			every_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 20
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
	}
}

country_event = { #27 - Divided Reformation (1521-22 Karlstadt)
	
	id = dg_reformation.027
	title = dg_reformation.027.t
	desc = dg_reformation.027.d
	picture = protestant_division
	
	trigger = {
		has_country_flag = protestant_reaction
		has_country_flag = protestant_ideas
		has_global_flag = reformation_luther_sentenced
		NOT = { is_religion_enabled = reformed }
		NOT = { has_country_flag = divided_reformation }
		any_owned_province = { check_variable = { which = protestant value = 2 } }
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		set_country_flag = divided_reformation
		hidden_effect = {
			if = {
				limit = { NOT = { has_global_flag = reformation_zwickau_prophets } }
				random_province = {
					limit = {
						any_neighbor_province = { has_province_flag = reformation_origins }
						check_variable = { which = protestant value = 2 }
						owner = { has_country_flag = humanism }
					}
					set_global_flag = reformation_zwickau_prophets
					save_global_event_target_as = zwickau_prophets
					set_province_flag = zwickau
				}
				if = {
					limit = { NOT = { has_global_flag = reformation_zwickau_prophets } }
					random_province = {
						limit = {
							event_target:reformation_origins = { culture_group = PREV }
							check_variable = { which = protestant value = 2 }
							owner = { has_country_flag = humanism }
						}
						set_global_flag = reformation_zwickau_prophets
						save_global_event_target_as = zwickau_prophets
						set_province_flag = zwickau
					}
				}
				else = {
					random_province = {
						limit = {
							check_variable = { which = protestant value = 2 }
							owner = { has_country_flag = humanism }
						}
						set_global_flag = reformation_zwickau_prophets
						save_global_event_target_as = zwickau_prophets
						set_province_flag = zwickau
					}
				}
			}
		}
	}
	
	option = {
		name = dg_reformation.027.a #Encourage heretics to fight amongst themselves
		trigger = { NOT = { has_country_flag = humanism } }
		ai_chance = { factor = 35 }
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = { name = religious_controversy duration = 2000 }
		}
		custom_tooltip = protestant_to_reformed_large
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = protestant value = 2 } }
				random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
				if = {
					limit = { check_variable = { which = protestant value = 4 } }
					random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
					if = {
						limit = { check_variable = { which = protestant value = 6 } }
						random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
						if = {
							limit = { check_variable = { which = protestant value = 8 } }
							random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
							if = {
								limit = { check_variable = { which = protestant value = 10 } }
								random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
								if = {
									limit = { check_variable = { which = protestant value = 12 } }
									random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
									if = {
										limit = { check_variable = { which = protestant value = 14 } }
										random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
										if = {
											limit = { check_variable = { which = protestant value = 16 } }
											random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
											if = {
												limit = { check_variable = { which = protestant value = 18 } }
												random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												if = {
													limit = { check_variable = { which = protestant value = 20 } }
													random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.027.b #Try to keep order
		ai_chance = {
			factor = 30
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 0.5
			}
			modifier = {
				NOT = {
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
					}
				}
				factor = 0
			}
		}
		add_adm_power = -25
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = { name = religious_controversy duration = 500 }
		}
		custom_tooltip = protestant_to_reformed_small
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = protestant value = 2 } }
				random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
				if = {
					limit = { check_variable = { which = protestant value = 4 } }
					random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
					if = {
						limit = { check_variable = { which = protestant value = 6 } }
						random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
						if = {
							limit = { check_variable = { which = protestant value = 8 } }
							random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
							if = {
								limit = { check_variable = { which = protestant value = 10 } }
								random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
								if = {
									limit = { check_variable = { which = protestant value = 12 } }
									random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
									if = {
										limit = { check_variable = { which = protestant value = 14 } }
										random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
										if = {
											limit = { check_variable = { which = protestant value = 16 } }
											random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
											if = {
												limit = { check_variable = { which = protestant value = 18 } }
												random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												if = {
													limit = { check_variable = { which = protestant value = 20 } }
													random = { chance = 25 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.027.c #Encourage all voices to be heard
		trigger = { has_country_flag = humanism }
		ai_chance = { factor = 35 }
		add_stability_1 = yes
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
					religion = reformed
				}
			}
			add_country_modifier = { name = religious_controversy duration = 2000 }
		}
		custom_tooltip = protestant_to_reformed_large
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = protestant value = 2 } }
				random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
				if = {
					limit = { check_variable = { which = protestant value = 4 } }
					random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
					if = {
						limit = { check_variable = { which = protestant value = 6 } }
						random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
						if = {
							limit = { check_variable = { which = protestant value = 8 } }
							random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
							if = {
								limit = { check_variable = { which = protestant value = 10 } }
								random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
								if = {
									limit = { check_variable = { which = protestant value = 12 } }
									random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
									if = {
										limit = { check_variable = { which = protestant value = 14 } }
										random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
										if = {
											limit = { check_variable = { which = protestant value = 16 } }
											random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
											if = {
												limit = { check_variable = { which = protestant value = 18 } }
												random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												if = {
													limit = { check_variable = { which = protestant value = 20 } }
													random = { chance = 50 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

province_event = { #28 - The [Zwicau] Prophets (1522 Saxony)
	
	id = dg_reformation.028
	title = dg_reformation.028.t
	desc = dg_reformation.028.d
	picture = reformed_converts
	
	trigger = {
		has_global_flag = reformation_luther_sentenced
		NOT = { has_global_flag = reformation_luther_returned }
		NOT = { religion_years = { protestant = 10 } }
		OR = {
			has_province_flag = zwickau
			any_neighbor_province = { has_province_flag = zwickau_prophets }
		}
		event_target:reformation_origins = { OR = { superregion = ROOT culture_group = ROOT } }
		NOT = { has_province_flag = zwickau_prophets }
		NOT = { is_religion_enabled = reformed }
	}
	
	mean_time_to_happen = { months = 25 }
	
	immediate = {
		hidden_effect = {
			set_province_flag = zwickau_prophets
			set_province_flag = event_target
			if = {
				limit = {
					owner = { num_of_cities = 12 }
					NOT = { owner = { num_of_cities = 36 } }
				}
				every_neighbor_province = {
					limit = {
						owned_by = ROOT
						NOT = { has_province_flag = zwickau_prophets }
						OR = {
							religion = catholic
							religion = protestant
							religion = reformed
						}
					}
					set_province_flag = event_target
					set_province_flag = zwickau_prophets
				}
			}
			if = {
				limit = { owner = { num_of_cities = 36 } }
				every_neighbor_province = {
					every_neighbor_province = {
						limit = {
							owned_by = ROOT
							NOT = { has_province_flag = zwickau_prophets }
							OR = {
								religion = catholic
								religion = protestant
								religion = reformed
							}
						}
						set_province_flag = event_target
						set_province_flag = zwickau_prophets
					}
				}
			}
		}
	}
	
	option = {
		name = dg_reformation.028.a #Drive them out of town
		trigger = { NOT = { owner = { religion = reformed } } }
		ai_chance = {
			factor = 40
			modifier = {
				owner = { has_country_flag = humanism }
				has_global_flag = reformation_luther_martyred
				factor = 0.5
			}
		}
		owner = {
			if = {
				limit = { num_of_cities = 24 }
				add_mil_power = -90
			}
			else_if = {
				limit = { num_of_cities = 12 }
				add_mil_power = -30
			}
			else = {
				add_mil_power = -10
			}
			hidden_effect = {
				every_owned_province = {
					limit = { has_province_flag = event_target }
					hidden_effect = {
						set_variable = { which = added_unrest value = 2 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_2
					clr_province_flag = event_target
				}
			}
		}
	}
	option = {
		name = dg_reformation.028.b #Let them preach
		ai_chance = {
			factor = 40
			modifier = {
				owner = { has_country_flag = renaissance }
				factor = 0
			}
			modifier = {
				has_global_flag = reformation_luther_martyred
				NOT = { is_religion_enabled = protestant }
				factor = 0.5
			}
		}
		owner = {
			custom_tooltip = heretic_10
			hidden_effect = {
				every_owned_province = {
					limit = { has_province_flag = event_target }
					clr_province_flag = event_target
					random = {
						chance = 50
						if = {
							limit = { NOT = { check_variable = { which = protestant value = 4 } } }
							change_variable = { which = province_religion value = -4 }
						}
						if = {
							limit = { check_variable = { which = protestant value = 4 } }
							change_variable = { which = protestant value = -4 }
						}
						change_variable = { which = reformed value = 4 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.028.c #Look to them to lead us
		trigger = {
			has_global_flag = reformation_luther_martyred
			NOT = { is_religion_enabled = protestant }
			owner = {
				religion = catholic
				has_country_flag = humanism
				papal_trigger = no
				is_force_converted = no
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				NOT = { is_religion_enabled = protestant }
				factor = 3
			}
			modifier = {
				owner = { num_of_cities = 6 }
				factor = 0.5
			}
			modifier = {
				NOT = { owner = { num_of_cities = 3 } }
				factor = 2
			}
			modifier = {
				owner = { check_variable = { which = reformed_population value = 10 } }
				factor = 2
			}
			modifier = {
				owner = { check_variable = { which = reformed_population value = 25 } }
				factor = 2
			}
		}
		owner = {
			hidden_effect = {
				set_variable = { which = minority_usefulness value = 30 }
			}
			set_country_flag = useful_reformed
			set_country_flag = voluntary_conversion
			if = {
				limit = { NOT = { is_religion_enabled = reformed } }
				custom_tooltip = convert_dangerous_religion
				subtract_stability_1 = yes
			}
			if = {
				limit = { check_variable = { which = reformed_population value = 75 } }
				custom_tooltip = convert_population_75
				add_stability_1 = yes
			}
			else_if = {
				limit = { check_variable = { which = reformed_population value = 50 } }
				custom_tooltip = convert_population_50
			}
			else_if = {
				limit = { check_variable = { which = reformed_population value = 25 } }
				custom_tooltip = convert_population_25
				subtract_stability_1 = yes
			}
			else = {
				custom_tooltip = convert_population_0
				subtract_stability_2 = yes
			}
			if = {
				limit = { patriarch_authority = 0.75 }
				custom_tooltip = convert_church_strong
				subtract_stability_2 = yes
			}
			else_if = {
				limit = { patriarch_authority = 0.50 }
				custom_tooltip = convert_piety_moderate
				subtract_stability_1 = yes
			}
			else_if = {
				limit = { patriarch_authority = 0.25 }
				custom_tooltip = convert_church_weak
			}
			else = {
				custom_tooltip = convert_church_insignificant
			}
			if = {
				limit = { ADM = 5 }
				if = {
					limit = {
						capital_scope = { religion = reformed }
					}
					custom_tooltip = convert_ruler_strong
					add_stability_3 = yes
				}
				else = {
					custom_tooltip = convert_ruler_moderate
					add_stability_2 = yes
				}
			}
			else_if = {
				limit = { ADM = 3 }
				if = {
					limit = {
						capital_scope = { religion = reformed }
					}
					custom_tooltip = convert_ruler_moderate
					add_stability_2 = yes
				}
				else = {
					custom_tooltip = convert_ruler_weak
					add_stability_1 = yes
				}
			}
			else = {
				if = {
					limit = {
						capital_scope = { religion = reformed }
					}
					custom_tooltip = convert_ruler_weak
					add_stability_1 = yes
				}
				else = {
					custom_tooltip = convert_ruler_incompetent
				}
			}
			if = {
				limit = { advisor = theologian }
				custom_tooltip = convert_theologian
				add_stability_1 = yes
			}
			if = {
				limit = { has_country_flag = was_reformed }
				if = {
					limit = {
						check_variable = { which = sympathy_to_old_religion value = 1 }
					}
					custom_tooltip = convert_previous_recent
					add_stability_2 = yes
				}
				else = {
					custom_tooltip = convert_previous_old
					add_stability_1 = yes
				}
			}
			else = {
				if = {
					limit = {
						check_variable = { which = sympathy_to_old_religion value = 1 }
					}
					custom_tooltip = convert_recent
					add_stability_1 = yes
				}
			}
			change_religion = reformed
			force_converted = yes
			define_advisor = { religion = reformed type = theologian discount = yes }
			every_owned_province = {
				limit = { culture_group = owner }
				custom_tooltip = reformed_20
				hidden_effect = {
					change_variable = { which = province_religion value = -4 }
					change_variable = { which = reformed value = 4 }
				}
			}
			hidden_effect = {
				random_owned_province = {
					limit = { has_province_flag = reformed_heresy }
					clr_province_flag = reformed_heresy
				}
			}
			capital_scope = {
				custom_tooltip = reformed_50
				hidden_effect = {
					change_variable = { which = reformed value = 12 }
					change_variable = { which = province_religion value = -12 }
				}
				add_province_modifier = { name = conversion_tensions duration = 2000 }
				every_neighbor_province = {
					limit = { owned_by = ROOT culture_group = ROOT }
					custom_tooltip = reformed_20
					hidden_effect = {
						change_variable = { which = reformed value = 6 }
						change_variable = { which = province_religion value = -6 }
					}
					add_province_modifier = { name = conversion_tensions duration = 1000 }
				}
			}
			if = {
				limit = { government = republic }
				theocratification_effect = yes
			}
		}
	}
}

country_event = { #29 - Reformer's Return (1522)
	
	id = dg_reformation.029
	title = dg_reformation.029.t
	desc = dg_reformation.029.d
	picture = protestant_preacher
	
	trigger = {
		has_global_flag = reformation_lutheran_doctrines
		NOT = { has_global_flag = reformation_luther_returned }
		has_country_flag = divided_reformation
		any_owned_province = { has_province_flag = wartburg }
		NOT = { religion_years = { protestant = 30 } }
	}
	
	mean_time_to_happen = {
		
		months = 10
		
		modifier = {
			event_target:zwickau_prophets = { owned_by = ROOT }
			factor = 0.25
		}
	}
	
	immediate = {
		set_global_flag = reformation_luther_returned
		set_country_flag = luther_advisor
		hidden_effect = {
			random_owned_province = {
				limit = { has_province_flag = reformation_origins }
				change_variable = { which = protestant_supporters value = 4 }
			}
		}
		hidden_effect = {
			define_advisor = {
				religion = protestant
				type = theologian
				skill = 3
				discount = yes
			}
		}
	}
	
	option = {
		name = dg_reformation.029.a #Ask him to set up a [Saxon] Church
		trigger = { religion = catholic NOT = { has_country_flag = renaissance } }
		ai_chance = {
			factor = 25
			modifier = {
				has_country_flag = refused_reformation
				factor = 0.5
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 2
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 3
			}
			modifier = {
				capital_scope = { religion = protestant }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				dominant_religion = protestant
				factor = 1.4
			}
		}
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		hidden_effect = {
			set_variable = { which = minority_usefulness value = 30 }
			set_country_flag = useful_protestant
			random_owned_province = { #Solves the problem of non-contiguous countries 'flipping' religion
				limit = {
					is_capital = yes
					NOT = { any_neighbor_province = { owned_by = ROOT } }
					owner = { num_of_cities = 2 }
				}
				change_variable = { which = converted_heretics value = 8 }
			}
		}
		capital_scope = {
			custom_tooltip = protestant_50
			hidden_effect = { change_variable = { which = converted_heretics value = 12 } }
			add_province_modifier = { name = conversion_tensions duration = 1825 }
		}
		set_country_flag = voluntary_conversion
		if = {
			limit = { NOT = { is_religion_enabled = protestant } }
			custom_tooltip = convert_dangerous_religion
			subtract_stability_1 = yes
		}
		if = {
			limit = { check_variable = { which = protestant_population value = 75 } }
			custom_tooltip = convert_population_75
			add_stability_1 = yes
		}
		else_if = {
			limit = { check_variable = { which = protestant_population value = 50 } }
			custom_tooltip = convert_population_50
		}
		else_if = {
			limit = { check_variable = { which = protestant_population value = 25 } }
			custom_tooltip = convert_population_25
			subtract_stability_1 = yes
		}
		else = {
			custom_tooltip = convert_population_0
			subtract_stability_2 = yes
		}
		if = {
			limit = { patriarch_authority = 0.75 }
			custom_tooltip = convert_church_strong
			subtract_stability_2 = yes
		}
		else_if = {
			limit = { patriarch_authority = 0.50 }
			custom_tooltip = convert_piety_moderate
			subtract_stability_1 = yes
		}
		else_if = {
			limit = { patriarch_authority = 0.25 }
			custom_tooltip = convert_church_weak
		}
		else = {
			custom_tooltip = convert_church_insignificant
		}
		if = {
			limit = { ADM = 5 }
			if = {
				limit = {
					capital_scope = { religion = protestant }
				}
				custom_tooltip = convert_ruler_strong
				add_stability_3 = yes
			}
			else = {
				custom_tooltip = convert_ruler_moderate
				add_stability_2 = yes
			}
		}
		else_if = {
			limit = { ADM = 3 }
			if = {
				limit = {
					capital_scope = { religion = protestant }
				}
				custom_tooltip = convert_ruler_moderate
				add_stability_2 = yes
			}
			else = {
				custom_tooltip = convert_ruler_weak
				add_stability_1 = yes
			}
		}
		else = {
			if = {
				limit = {
					capital_scope = { religion = protestant }
				}
				custom_tooltip = convert_ruler_weak
				add_stability_1 = yes
			}
			else = {
				custom_tooltip = convert_ruler_incompetent
			}
		}
		custom_tooltip = convert_theologian #Special - he counts as a theologian for the purpose of this code
		add_stability_1 = yes
		if = {
			limit = { has_country_flag = was_protestant }
			if = {
				limit = {
					check_variable = { which = sympathy_to_old_religion value = 1 }
				}
				custom_tooltip = convert_previous_recent
				add_stability_2 = yes
			}
			else = {
				custom_tooltip = convert_previous_old
				add_stability_1 = yes
			}
		}
		else = {
			if = {
				limit = {
					check_variable = { which = sympathy_to_old_religion value = 1 }
				}
				custom_tooltip = convert_recent
				add_stability_1 = yes
			}
		}
		change_religion = protestant
		force_converted = yes
		hidden_effect = {
			set_country_flag = introduce_reformation
			set_country_flag = jesuits_suppressed
			set_country_flag = monasticism_declines
		}
		if = {
			limit = { check_variable = { which = jesuit_support value = 1 } }
			custom_tooltip = jesuit_suppression_explained
		}
		custom_tooltip = monastic_decline_explained
		capital_scope = {
			custom_tooltip = protestant_50
			hidden_effect = {
				change_variable = { which = protestant value = 12 }
				change_variable = { which = converts value = -12 }
			}
		}
		every_owned_province = {
			limit = {
				has_owner_culture = yes
				is_core = owner
				check_variable = { which = catholic value = 4 }
				is_capital = no
			}
			custom_tooltip = protestant_10
			hidden_effect = {
				change_variable = { which = catholic value = -2 }
				change_variable = { which = protestant value = 2 }
			}
		}
	}
	option = {
		name = dg_reformation.029.b #Ask him to preach against heresy
		trigger = { NOT = { has_country_flag = renaissance } }
		ai_chance = { factor = 25 }
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = heretics value = 2 }
					event_target:reformation_origins = { culture_group = PREV }
				}
			}
			every_owned_province = {
				limit = {
					check_variable = { which = heretics value = 2 }
					event_target:reformation_origins = { culture_group = PREV }
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					change_variable = { which = heretics value = -2 }
					change_variable = { which = protestant value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = reformed value = 2 }
					event_target:reformation_origins = { culture_group = PREV }
				}
			}
			every_owned_province = {
				limit = {
					check_variable = { which = reformed value = 2 }
					event_target:reformation_origins = { culture_group = PREV }
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					change_variable = { which = reformed value = -2 }
					change_variable = { which = protestant value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = hussite value = 2 }
					event_target:reformation_origins = { culture_group = PREV }
				}
			}
			every_owned_province = {
				limit = {
					check_variable = { which = hussite value = 2 }
					event_target:reformation_origins = { culture_group = PREV }
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					change_variable = { which = hussite value = -2 }
					change_variable = { which = protestant value = 2 }
				}
			}
		}
	}
	option = {
		name = dg_reformation.029.c #Begin searching for him
		trigger = { has_country_flag = renaissance }
		ai_chance = { factor = 25 }
		#Needs to be added
	}
	option = {
		name = dg_reformation.029.e #He can do no more harm
		trigger = { has_country_flag = renaissance }
		ai_chance = { factor = 25 }
		add_papal_influence = -10
		add_prestige = -5
		add_stability_1 = yes
	}
}

province_event = { #30 - Capture of the Heretic (ahistorical)
	
	id = dg_reformation.030
	title = dg_reformation.030.t
	desc = dg_reformation.030.d
	picture = protestant_heretic_trial
	
	hidden = yes
	
	trigger = {
		has_province_flag = wartburg
		controller = {
			religion = catholic
			NOT = { has_country_flag = luther_protection }
			NOT = { has_country_flag = hiding_luther }
			NOT = { has_country_flag = sheltered_luther }
			NOT = { has_country_flag = electors_request }
			NOT = { has_country_flag = let_luther_go }
			NOT = { has_country_flag = unrepentant_heretic }
		}
		has_global_flag = reformation_luther_sentenced
		NOT = { has_global_flag = reformation_luther_martyred }
		NOT = { had_global_flag = { flag = reformation_ninety_five_theses days = 11000 } }
		NOT = { religion_years = { protestant = 30 } }
	}
	
	mean_time_to_happen = { months = 6 }
	
	option = {
		name = ai_only.a
		controller = { country_event = { id = dg_reformation.038 } }
	}
}

country_event = { #31 - Knights Revolt (1522)
	
	id = dg_reformation.031
	title = dg_reformation.031.t
	desc = dg_reformation.031.d
	picture = reformed_rebellion
	
	trigger = {
		has_global_flag = reformation_zwickau_prophets
		NOT = { has_global_flag = reformation_knights_revolt }
		government = theocracy
		religion = catholic
		any_neighbor_country = {
			OR = {
				has_country_flag = humanism
				religion = protestant
			}
		}
		NOT = { is_religion_enabled = protestant }
	}
	
	mean_time_to_happen = {
		
		months = 6
		
		modifier = {
			num_of_cities = 2
			factor = 1.4
		}
		modifier = {
			num_of_cities = 4
			factor = 1.4
		}
		modifier = {
			num_of_cities = 8
			factor = 1.4
		}
		modifier = {
			num_of_cities = 16
			factor = 1.4
		}
		modifier = {
			capital_scope = { is_part_of_hre = yes }
			factor = 0.5
		}
		modifier = {
			has_country_flag = humanism
			factor = 2
		}
	}
	
	immediate = {
		set_global_flag = reformation_knights_revolt
		capital_scope = {
			spawn_rebels = { type = noble_rebels size = 0 }
			#set_province_flag = knights_revolt
		}
	}
	
	option = {
		name = dg_reformation.031.a #He is mistaken
		hidden_effect = { change_variable = { which = support_for_reform value = -1 } }
	}
}

country_event = { #32 - Peasants War (Harvest 1524)
	
	id = dg_reformation.032
	title = dg_reformation.032.t
	desc = dg_reformation.032.d
	picture = protestant_massacre
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = reformation_peasants_war
		set_country_flag = reformation_peasants_war
		subtract_stability_2 = yes
		hidden_effect = {
			capital_scope = { set_province_flag = event_target }
			every_owned_province = {
				limit = {
					OR = {
						religion = protestant
						event_target:reformation_origins = { culture = PREV }
					}
				}
				random = { chance = 75 set_province_flag = event_target }
			}
			every_owned_province = {
				limit = {
					continent = europe
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						event_target:reformation_origins = { culture_group = PREV }
					}
					OR = {
						religion = catholic
						religion = protestant
						religion = reformed
						check_variable = { which = protestant value = 2 }
						check_variable = { which = protestant_supporters value = 2 }
					}
				}
				random = { chance = 25 set_province_flag = event_target }
			}
		}
		hidden_effect = { change_variable = { which = support_for_reform value = -1 } }
	}
	
	option = {
		name = dg_reformation.032.a #Cut them down
		ai_chance = { factor = 70 }
		capital_scope = {
			clr_province_flag = event_target
			if = {
				limit = { has_global_flag = reformation_luther_martyred }
				spawn_rebels = { type = protestant_rebels size = 1 }
			}
			else = {
				spawn_rebels = { type = anti_tax_rebels size = 1 }
			}
		}
		every_owned_province = {
			limit = { has_province_flag = event_target is_capital = no }
			clr_province_flag = event_target
			if = {
				limit = { has_global_flag = reformation_luther_martyred }
				random = {
					chance = 70
					add_province_modifier = {
						name = "fanatics_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 5 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_5
				}
			}
			else = {
				random = {
					chance = 70
					add_province_modifier = {
						name = "peasants_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 5 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_5
				}
			}
		}
	}
	option = {
		name = dg_reformation.032.b #Negotiate
		ai_chance = {
			factor = 30
			modifier = {
				is_at_war = yes
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 1.4
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 1.4
			}
			modifier = {
				num_of_rebel_controlled_provinces = 1
				factor = 1.4
			}
			modifier = {
				capital_scope = { has_siege = yes }
				factor = 1.4
			}
		}
		add_prestige = -50
		every_owned_province = {
			limit = { has_province_flag = event_target }
			clr_province_flag = event_target
			add_local_autonomy = 10
			random = {
				chance = 40
				if = {
					limit = { NOT = { has_global_flag = reformation_luther_martyred } }
					add_province_modifier = {
						name = "peasants_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 5 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_5
				}
				if = {
					limit = { has_global_flag = reformation_luther_martyred }
					add_province_modifier = {
						name = "fanatics_organizing"
						duration = 1825
					}
					hidden_effect = {
						set_variable = { which = added_unrest value = 5 }
						add_base_unrest = yes
					}
					custom_tooltip = added_unrest_5
				}
			}
		}
	}
}

country_event = { #33 - Admonition to Peace (May 1525)
	
	id = dg_reformation.033
	title = dg_reformation.033.t
	desc = dg_reformation.033.d
	picture = catholic_monks_preaching
	
	trigger = {
		has_global_flag = reformation_peasants_war
		has_global_flag = reformation_luther_returned
		had_global_flag = { flag = reformation_peasants_war days = 120 }
		NOT = { is_religion_enabled = protestant }
		OR = {
			has_country_flag = luther_advisor
			any_owned_province = { has_province_flag = reformation_origins }
		}
	}
	
	mean_time_to_happen = { months = 3 }
	
	immediate = {
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		enable_religion = protestant
		if = {
			limit = { has_country_flag = reformation_peasants_war }
			clr_country_flag = reformation_peasants_war
			if = {
				limit = { has_disaster = peasant_war }
				end_disaster = peasant_war
			}
			disband_rebels = anti_tax_rebels
			add_war_exhaustion = -2
			add_stability_1 = yes
		}
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						has_country_flag = reformation_peasants_war
						has_country_flag = religious_news_all
						any_owned_province = { has_province_flag = humanist_ideas }
						is_papal_controller = yes
						papal_trigger = yes
						AND = {
							OR = {
								religion = catholic
								religion = protestant
							}
							has_country_flag = religious_news_major
						}
					}
					NOT = { tag = ROOT }
				}
				country_event = { id = dg_reformation.034 }
			}
		}
	}
	
	option = {
		name = dg_reformation.033.a
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
	}
}

country_event = { #34 - Admonition to Peace (news)
	
	id = dg_reformation.034
	title = dg_reformation.033.t
	desc = dg_reformation.033.d
	picture = catholic_monks_preaching
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_disaster = peasant_war }
			end_disaster = peasant_war
		}
		disband_rebels = anti_tax_rebels
		if = {
			limit = { has_country_flag = reformation_peasants_war }
			add_war_exhaustion = -2
			add_stability_1 = yes
		}
		tooltip = { enable_religion = protestant }
	}
	
	option = {
		name = dg_reformation.033.a
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
	}
}

country_event = { #35 - Admonition to Revolution (ahistorical)
	
	id = dg_reformation.035
	title = dg_reformation.035.t
	desc = dg_reformation.035.d
	picture = catholic_crusade
	
	trigger = {
		has_global_flag = reformation_luther_martyred
		has_global_flag = reformation_peasants_war
		OR = {
			religion = protestant
			AND = {
				dominant_religion = protestant
				religion_years = { reformed = 10 }
			}
		}
		NOT = { is_religion_enabled = protestant }
	}
	
	mean_time_to_happen = {
		
		months = 12
		
		modifier = {
			piety = 0.60
			factor = 0.7
		}
		modifier = {
			piety = 0.20
			factor = 0.7
		}
		modifier = {
			NOT = { piety = -0.20 }
			factor = 1.4
		}
		modifier = {
			NOT = { piety = -0.60 }
			factor = 1.4
		}
	}
	
	immediate = {
		enable_religion = protestant
		every_country = {
			limit = {
				OR = {
					has_country_flag = religious_news_all
					is_papal_controller = yes
					papal_trigger = yes
					any_owned_province = { check_variable = { which = protestant value = 4 } }
					AND = {
						OR = {
							religion = catholic
							religion = protestant
						}
						has_country_flag = religious_news_major
					}
				}
				NOT = { tag = ROOT }
			}
			country_event = { id = dg_reformation.036 }
		}
	}
	
	option = {
		name = dg_reformation.035.a
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						NOT = { has_province_flag = renaissance_ideas }
						AND = {
							is_in_capital_area = no
							owner = { has_country_flag = renaissance }
						}
					}
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 70
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
			every_owned_province = {
				limit = {
					event_target:reformation_origins = { culture_group = PREV }
					religion = catholic
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				random = {
					chance = 40
					custom_tooltip = heretic_20
					hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
				}
			}
		}
		every_neighbor_country = {
			limit = { religion = catholic }
			reverse_add_casus_belli = { target = ROOT months = 60 type = cb_holy_war_vengeance }
		}
	}
}

country_event = { #35 - Admonition to Revolution (news)
	
	id = dg_reformation.036
	title = dg_reformation.035.t
	desc = dg_reformation.036.d
	picture = catholic_crusade
	
	is_triggered_only = yes
	
	immediate = {
		tooltip = { enable_religion = protestant }
	}
	
	option = {
		name = dg_reformation.036.a #A new era of history
		custom_tooltip = protestant_to_reformed_large
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = protestant value = 4 } }
				random = { chance = 60 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
				if = {
					limit = { check_variable = { which = protestant value = 8 } }
					random = { chance = 60 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
					if = {
						limit = { check_variable = { which = protestant value = 12 } }
						random = { chance = 60 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
						if = {
							limit = { check_variable = { which = protestant value = 16 } }
							random = { chance = 60 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
							if = {
								limit = { check_variable = { which = protestant value = 20 } }
								random = { chance = 60 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
							}
						}
					}
				}
			}
		}
	}
}

country_event = { #38 - Capture of the Heretic (ahistorical)
	
	id = dg_reformation.038
	title = dg_reformation.030.t
	desc = dg_reformation.030.d
	picture = protestant_heretic_trial
	
	is_triggered_only = yes
	
	option = {
		name = dg_reformation.030.a #Send him to Rome
		trigger = { OR = { ai = no NOT = { has_country_flag = humanism } } }
		ai_chance = {
			factor = 20
			modifier = {
				PAP = { check_variable = { which = papal_authority value = 500 } }
				factor = 1.4
			}
			modifier = {
				NOT = { PAP = { check_variable = { which = papal_authority value = 400 } } }
				factor = 0.7
			}
		}
		FROM = { clr_province_flag = wartburg }
		clr_global_flag = reformation_luther_in_hiding
		clr_global_flag = reformation_luther_protected
		clr_global_flag = reformation_luther_wartburg
		add_papal_influence = 50
		if = {
			limit = { NOT = { tag = PAP } }
			PAP = { add_opinion = { who = ROOT modifier = obeyed_religious_leader } }
		}
		set_global_flag = reformation_roman_trial
		set_country_flag = sent_luther_to_rome
		if = {
			limit = { exists = PAP }
			PAP = {
				hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
				set_country_flag = edict_of_worms
				hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
			}
		}
		if = {
			limit = { NOT = { exists = PAP } }
			random_known_country = {
				limit = { is_papal_controller = yes }
				hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
				set_country_flag = edict_of_worms
				hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
			}
		}
		add_legitimacy = -10
		add_republican_tradition = -5
		add_devotion = 20
		random_owned_province = {
			limit = { has_province_flag = reformation_origins }
			add_province_modifier = { name = religious_scandal_province duration = 500 }
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.030.b #Put him on trial
		ai_chance = { factor = 30 }
		FROM = { clr_province_flag = wartburg }
		clr_global_flag = reformation_luther_in_hiding
		clr_global_flag = reformation_luther_protected
		clr_global_flag = reformation_luther_wartburg
		add_papal_influence = 25
		hidden_effect = { save_global_event_target_as = imperial_edict_of_worms }
		set_country_flag = edict_of_worms
		add_adm_power = -25
		if = {
			limit = { any_owned_province = { religion = protestant } }
			subtract_stability_1 = yes
		}
		if = {
			limit = { NOT = { has_country_flag = renaissance } }
			subtract_stability_1 = yes
		}
		hidden_effect = { capital_scope = { save_global_event_target_as = imperial_diet_of_worms set_province_flag = diet_of_worms } }
		random_owned_province = {
			limit = { has_province_flag = reformation_origins }
			add_province_modifier = { name = religious_scandal_province duration = 500 }
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 1 }
							NOT = { check_variable = { which = protestant_supporters value = 4 } }
						}
						AND = {
							check_variable = { which = protestant value = 1 }
							NOT = { check_variable = { which = protestant value = 4 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 4 }
							NOT = { check_variable = { which = protestant_supporters value = 8 } }
						}
						AND = {
							check_variable = { which = protestant value = 4 }
							NOT = { check_variable = { which = protestant value = 8 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						AND = {
							check_variable = { which = protestant_supporters value = 8 }
							NOT = { check_variable = { which = protestant_supporters value = 12 } }
						}
						AND = {
							check_variable = { which = protestant value = 8 }
							NOT = { check_variable = { which = protestant value = 12 } }
						}
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
			}
			every_owned_province = {
				limit = {
					OR = {
						check_variable = { which = protestant_supporters value = 12 }
						check_variable = { which = protestant value = 12 }
					}
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
	}
	option = {
		name = dg_reformation.030.c #Look the other way
		trigger = { OR = { ai = no NOT = { has_country_flag = renaissance } } }
		ai_chance = { factor = 50 }
		set_country_flag = let_luther_go
		hidden_effect = {
			change_variable = { which = support_for_reform value = 1 }
			set_country_flag = useful_protestant
			change_variable = { which = minority_usefulness value = 5 }
		}
	}
}

#############################
# Spread of the Reformation # 40s and 50s
#############################

country_event = { #Populist Reformation
	
	id = dg_reformation.041
	title = dg_reformation.041.t
	desc = dg_reformation.041.d
	picture = protestant_preacher
	
	trigger = {
		NOT = { has_country_flag = populist_reformation }
		NOT = { has_country_flag = radical_reformation }
		religion_group = christian
		OR = {
			has_global_flag = reformation_lutheran_doctrines
			is_religion_enabled = protestant
		}
		NOT = { religion_years = { protestant = 60 } }
		PAP = { NOT = { has_country_flag = catholic_reformation } }
		any_owned_province = {
			religion = catholic
			NOT = { has_province_flag = renaissance_ideas }
		}
		OR = {
			capital_scope = { continent = europe }
			is_former_colonial_nation = yes
		}
		OR = {
			is_colonial_nation = no
			overlord = { has_country_flag = humanism }
		}
	}
	
	mean_time_to_happen = {
		
		years = 8
		
		modifier = {
			has_global_flag = reformation_luther_martyred
			factor = 2
		}
		modifier = {
			event_target:reformation_origins = { culture_group = ROOT }
			factor = 0.7
		}
	}
	
	immediate = {
		set_country_flag = populist_reformation
		if = {
			limit = {
				OR = {
					religion = hussite
					religion = gnostic
					religion = reformed
				}
			}
			custom_tooltip = poaching_believers
		}
		if = {
			limit = {
				NOT = {
					OR = {
						religion = catholic
						religion = protestant
						religion = hussite
						religion = gnostic
						religion = reformed
					}
				}
			}
			custom_tooltip = dg_reformation.041.easterners
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					religion = catholic
					NOT = { has_province_flag = renaissance_ideas }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = { has_owner_culture = yes }
					owner = { change_variable = { which = affected_home_provinces value = 1 } }
				}
				owner = { change_variable = { which = affected_provinces value = 1 } }
			}
		}
	}
	
	option = {
		name = dg_reformation.041.b #Ban the tracts
		ai_chance = {
			factor = 20
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0
			}
			modifier = {
				religion = protestant
				factor = 0
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0.5
			}
		}
		add_papal_influence = 10
		custom_tooltip = protestant_20
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = { has_province_flag = renaissance_ideas }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = { which = protestant_supporters value = 4 }
			}
		}
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = gnostic value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = gnostic value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = gnostic value = -2 }
					change_variable = { which = protestant value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = hussite value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = hussite value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = hussite value = -2 }
					change_variable = { which = protestant value = 2 }
				}
			}
		}
	}
	option = {
		name = dg_reformation.041.a #Burn the missionaries
		trigger = { NOT = { religion = protestant } }
		ai_chance = {
			factor = 40
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 2
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 0
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 0
			}
			modifier = { #Uninvolved
				OR = {
					religion = orthodox
					religion = chaldean
					religion = coptic
				}
				factor = 0
			}
			modifier = { #Being poached from
				OR = {
					religion = hussite
					religion = gnostic
					religion = reformed
				}
				factor = 1.4
			}
			modifier = {
				overlord = {
					OR = {
						has_country_flag = introduce_reformation
						has_country_flag = spread_reformation
						religion = protestant
					}
				}
				factor = 0.25
			}
		}
		add_mil_power = -50
		add_papal_influence = 25
		custom_tooltip = reformed_10
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = { has_province_flag = renaissance_ideas }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			add_province_modifier = { name = religious_nationalism duration = 5000 }
			hidden_effect = { change_variable = { which = reformed value = 2 } }
		}
	}
	option = {
		name = dg_reformation.041.c #Encourage their work
		trigger = {
			OR = {
				NOT = { religion = catholic }
				has_country_flag = humanism
			}
			NOT = { religion = reformed }
			OR = {
				NOT = { has_global_flag = reformation_luther_martyred }
				is_religion_enabled = protestant
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 0.25
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
			modifier = {
				has_country_flag = refused_reformation
				factor = 0
			}
			modifier = {
				religion = protestant
				factor = 4
			}
			modifier = {
				OR = {
					has_country_flag = introduce_reformation
					has_country_flag = spread_reformation
				}
				factor = 2
			}
			modifier = {
				overlord = {
					has_country_flag = renaissance
					religion = catholic
				}
				factor = 0.25
			}
		}
		if = {
			limit = { religion = catholic }
			add_papal_influence = -100
		}
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = protestant
				}
			}
			add_adm_power = -50
		}
		if = {
			limit = {
				NOT = {
					OR = {
						religion = catholic
						religion = protestant
					}
				}
			}
			add_years_of_income = -0.08
		}
		custom_tooltip = protestant_30
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = { has_province_flag = renaissance_ideas }
				culture_group = owner
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = { change_variable = { which = protestant_supporters value = 2 } }
		}
		every_owned_province = {
			limit = {
				religion = catholic
				NOT = { has_province_flag = renaissance_ideas }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = { change_variable = { which = protestant_supporters value = 4 } }
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = gnostic value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = gnostic value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = gnostic value = -2 }
					change_variable = { which = protestant value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = hussite value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = hussite value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = hussite value = -2 }
					change_variable = { which = protestant value = 2 }
				}
			}
		}
	}
}

country_event = { #42 - Magisterial Reformation
	
	id = dg_reformation.042
	title = dg_protestant.015.t
	desc = dg_protestant.015.d
	picture = protestant_preacher #TEMP
	
	trigger = {
		NOT = { has_country_flag = magisterial_reformation }
		OR = {
			religion = protestant
			AND = {
				religion = catholic
				OR = {
					has_country_flag = introduce_reformation
					has_country_flag = spread_reformation
				}
			}
		}
		OR = {
			has_country_flag = populist_reformation
			has_country_flag = radical_reformation
		}
		is_at_war = no
		NOT = { religion_years = { protestant = 60 } }
		PAP = { NOT = { has_country_flag = catholic_reformation } }
	}
	
	mean_time_to_happen = {
		
		years = 8
		
		modifier = {
			OR = {
				advisor = inquisitor
				advisor = theologian
			}
			factor = 0.5
		}
		modifier = {
			has_country_flag = patriarch_zealous
			factor = 0.7
		}
		modifier = {
			ADM = 5
			factor = 0.7
		}
		modifier = {
			NOT = { ADM = 3 }
			factor = 1.4
		}
		modifier = {
			has_regency = yes
			factor = 1.4
		}
		modifier = {
			religion = protestant
			factor = 0.7
		}
	}
	
	immediate = {
		set_country_flag = magisterial_reformation
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = { culture_group = owner is_capital = yes }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = { has_owner_culture = yes }
					owner = { change_variable = { which = affected_home_provinces value = 1 } }
				}
				owner = { change_variable = { which = affected_provinces value = 1 } }
			}
		}
	}
	
	option = {
		name = dg_protestant.015.a #
		ai_chance = {
			factor = 99
			modifier = {
				is_force_converted = yes
				religion = catholic
				factor = 0
			}
		}
		add_papal_influence = -50
		add_adm_power = -50
		if = {
			limit = {
				OR = {
					advisor = theologian
					advisor = inquisitor
				}
				ADM = 5
			}
			custom_tooltip = protestant_50
		}
		if = {
			limit = {
				OR = {
					advisor = theologian
					advisor = inquisitor
					ADM = 5
				}
				NOT = {
					ADM = 5
					OR = {
						advisor = theologian
						advisor = inquisitor
					}
				}
			}
			custom_tooltip = protestant_40
		}
		if = {
			limit = {
				NOT = {
					OR = {
						advisor = theologian
						advisor = inquisitor
						ADM = 5
					}
				}
			}
			custom_tooltip = protestant_30
		}
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = { culture_group = owner is_capital = yes }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = { check_variable = { which = catholic value = 2 } }
					set_province_flag = religious_change
					random = {
						chance = 50
						change_variable = { which = catholic value = -2 }
						change_variable = { which = protestant value = 2 }
					}
				}
				if = {
					limit = { check_variable = { which = catholic value = 2 } }
					random = {
						chance = 50
						change_variable = { which = catholic value = -2 }
						change_variable = { which = protestant value = 2 }
					}
				}
				if = {
					limit = { check_variable = { which = catholic value = 2 } }
					random = {
						chance = 50
						change_variable = { which = catholic value = -2 }
						change_variable = { which = protestant value = 2 }
					}
				}
				if = {
					limit = {
						owner = { ADM = 5 }
						check_variable = { which = catholic value = 2 }
					}
					random = {
						chance = 50
						change_variable = { which = catholic value = -2 }
						change_variable = { which = protestant value = 2 }
					}
				}
				if = {
					limit = {
						owner = { OR = { advisor = theologian advisor = inquisitor } }
						check_variable = { which = catholic value = 2 }
					}
					random = {
						chance = 50
						change_variable = { which = catholic value = -2 }
						change_variable = { which = protestant value = 2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_protestant.015.b #Withdraw state support for the Reformation
		trigger = { NOT = { religion = protestant } }
		ai_chance = {
			factor = 1
			modifier = {
				check_variable = { which = protestant_population value = 50 }
				factor = 0
			}
			modifier = {
				check_variable = { which = protestant_population value = 25 }
				factor = 0.5
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 0.5
			}
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		add_papal_influence = 25
		add_prestige = -10
		clr_country_flag = introduce_reformation
		clr_country_flag = spread_reformation
		clr_country_flag = reaction_to_reformation
	}
}

country_event = { #43 - Radical Reformation
	
	id = dg_reformation.043
	title = dg_reformed.004.t
	desc = dg_reformed.004.d
	picture = reformed_converts
	
	trigger = {
		NOT = { has_country_flag = radical_reformation }
		OR = {
			has_global_flag = reformation_lutheran_martyred
			is_religion_enabled = reformed
		}
		NOT = { religion_years = { reformed = 60 } }
		religion_group = christian
		NOT = { religion = protestant }
		any_owned_province = {
			OR = {
				religion = catholic
				religion = protestant
			}
			NOT = { has_province_flag = renaissance_ideas }
		}
		OR = {
			capital_scope = { continent = europe }
			is_former_colonial_nation = yes
		}
	}
	
	mean_time_to_happen = {
		
		years = 16
		
		modifier = {
			has_global_flag = reformation_luther_martyred
			factor = 0.5
		}
	}
	
	immediate = {
		set_country_flag = radical_reformation
		if = {
			limit = {
				OR = {
					religion = gnostic
					religion = protestant
					religion = hussite
				}
			}
			custom_tooltip = poaching_believers
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = { religion = catholic religion = protestant }
					NOT = { has_province_flag = renaissance_ideas }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
				if = {
					limit = { has_owner_culture = yes }
					owner = { change_variable = { which = affected_home_provinces value = 1 } }
				}
				owner = { change_variable = { which = affected_provinces value = 1 } }
			}
		}
	}
	
	option = {
		name = dg_reformation.041.b #Ban the tracts
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = introduce_reformation
				factor = 2
			}
			modifier = {
				religion = protestant
				factor = 2
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 1.4
			}
		}
		add_papal_influence = 10
		custom_tooltip = reformed_20
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		every_owned_province = {
			limit = {
				OR = { religion = catholic religion = protestant }
				NOT = { has_province_flag = renaissance_ideas }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = { which = reformed value = 4 }
				change_variable = { which = province_religion value = -4 }
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = gnostic value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = gnostic value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = gnostic value = -2 }
					change_variable = { which = reformed value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = hussite value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = hussite value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = hussite value = -2 }
					change_variable = { which = reformed value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = protestant value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_protestant
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = protestant value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = protestant value = -2 }
					change_variable = { which = reformed value = 2 }
				}
			}
		}
	}
	option = {
		name = dg_reformation.041.a #Burn the missionaries
		trigger = { NOT = { religion = reformed } }
		ai_chance = {
			factor = 40
			modifier = {
				has_country_flag = introduce_reformation
				factor = 2
			}
			modifier = {
				has_country_flag = spread_reformation
				factor = 2
			}
			modifier = { #Uninvolved
				OR = {
					religion = orthodox
					religion = chaldean
					religion = coptic
				}
				factor = 0
			}
			modifier = { #Being poached from
				OR = {
					religion = hussite
					religion = gnostic
					religion = protestant
				}
				factor = 1.4
			}
			modifier = {
				overlord = { religion = reformed }
				factor = 0.25
			}
		}
		add_papal_influence = 25
		add_mil_power = -50
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		every_owned_province = {
			limit = {
				OR = { religion = catholic religion = protestant }
				NOT = { has_province_flag = renaissance_ideas }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			add_province_modifier = { name = religious_nationalism duration = 5000 }
		}
	}
	option = {
		name = dg_reformation.041.c #Encourage their work
		trigger = {
			OR = { religion = reformed ai = no }
			OR = {
				has_global_flag = reformation_luther_martyred
				is_religion_enabled = reformed
			}
		}
		ai_chance = {
			factor = 40
			modifier = {
				has_global_flag = reformation_luther_martyred
				factor = 2
			}
			modifier = {
				has_country_flag = renaissance
				factor = 0
			}
			modifier = {
				has_country_flag = refused_reformation
				factor = 2
			}
			modifier = {
				religion = protestant
				factor = 0
			}
			modifier = {
				OR = {
					has_country_flag = introduce_reformation
					has_country_flag = spread_reformation
				}
				factor = 0.25
			}
			modifier = {
				overlord = {
					has_country_flag = renaissance
					religion = catholic
				}
				factor = 0.25
			}
		}
		if = {
			limit = { religion = catholic }
			add_papal_influence = -100
		}
		if = {
			limit = {
				OR = {
					religion = catholic
					religion = reformed
				}
			}
			add_adm_power = -50
		}
		if = {
			limit = {
				NOT = {
					OR = {
						religion = catholic
						religion = reformed
					}
				}
			}
			add_years_of_income = -0.08
		}
		custom_tooltip = reformed_30
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		every_owned_province = {
			limit = {
				OR = { religion = catholic religion = protestant }
				NOT = { has_province_flag = renaissance_ideas }
				culture_group = owner
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = { which = reformed value = 2 }
				change_variable = { which = province_religion value = -2 }
			}
		}
		every_owned_province = {
			limit = {
				OR = { religion = catholic religion = protestant }
				NOT = { has_province_flag = renaissance_ideas }
				OR = {
					continent = europe
					is_in_capital_area = yes
				}
				is_city = yes
			}
			hidden_effect = {
				change_variable = { which = reformed value = 4 }
				change_variable = { which = province_religion value = -4 }
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = gnostic value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_gnostic
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = gnostic value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = gnostic value = -2 }
					change_variable = { which = reformed value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = hussite value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_hussite
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = hussite value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = hussite value = -2 }
					change_variable = { which = reformed value = 2 }
				}
			}
		}
		if = {
			limit = {
				any_owned_province = {
					check_variable = { which = protestant value = 2 }
					OR = { religion = catholic religion = protestant religion = reformed }
					OR = {
						continent = europe
						is_in_capital_area = yes
					}
					is_city = yes
				}
			}
			custom_tooltip = poaching_protestant
			hidden_effect = {
				every_owned_province = {
					limit = {
						check_variable = { which = protestant value = 2 }
						OR = { religion = catholic religion = protestant religion = reformed }
						OR = {
							continent = europe
							is_in_capital_area = yes
						}
						is_city = yes
					}
					change_variable = { which = protestant value = -2 }
					change_variable = { which = reformed value = 2 }
				}
			}
		}
	}
}

country_event = { #44 - Frustrated Reformation
	
	id = dg_reformation.044
	title = dg_reformation.044.t
	desc = dg_reformation.044.d
	picture = reformed_converts
	
	trigger = {
		religion = catholic
		OR = {
			religion_years = { protestant = 20 }
			religion_years = { reformed = 20 }
		}
		NOT = { has_country_flag = reformation_frustrated }
		OR = {
			had_country_flag = { flag = reaction_to_reformation days = 4000 }
			is_force_converted = yes
		}
		has_regency = no
		OR = {
			capital_scope = { continent = europe }
			check_variable = { which = protestant_population value = 1 }
			check_variable = { which = reformed_population value = 1 }
		}
	}
	
	mean_time_to_happen = {
		
		months = 50
		
		modifier = {
			has_country_flag = refused_reformation
			factor = 0.5
		}
		modifier = {
			has_country_flag = spread_reformation
			factor = 1.4
		}
		modifier = {
			has_country_flag = introduce_reformation
			factor = 2
		}
	}
	
	immediate = {
		set_country_flag = reformation_frustrated
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = protestant value = 2 } }
				if = {
					limit = { has_owner_culture = yes }
					owner = { change_variable = { which = affected_home_provinces value = 1 } }
				}
				owner = { change_variable = { which = affected_provinces value = 1 } }
			}
		}
	}
	
	option = {
		name = dg_reformation.044.a #Let them return to the fold
		ai_chance = { factor = 70 }
		custom_tooltip = 20_return_60_radical
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = protestant value = 2 } }
				random_list = {
					20 = {
						change_variable = { which = protestant value = -2 }
						change_variable = { which = converts value = 2 }
					}
					60 = {
						change_variable = { which = reformed value = 2 }
						change_variable = { which = protestant value = -2 }
					}
					20 = { }
				}
				if = {
					limit = { check_variable = { which = protestant value = 4 } }
					random_list = {
						20 = {
							change_variable = { which = protestant value = -2 }
							change_variable = { which = converts value = 2 }
						}
						60 = {
							change_variable = { which = reformed value = 2 }
							change_variable = { which = protestant value = -2 }
						}
						20 = { }
					}
					if = {
						limit = { check_variable = { which = protestant value = 6 } }
						random_list = {
							20 = {
								change_variable = { which = protestant value = -2 }
								change_variable = { which = converts value = 2 }
							}
							60 = {
								change_variable = { which = reformed value = 2 }
								change_variable = { which = protestant value = -2 }
							}
							20 = { }
						}
						if = {
							limit = { check_variable = { which = protestant value = 8 } }
							random_list = {
								20 = {
									change_variable = { which = protestant value = -2 }
									change_variable = { which = converts value = 2 }
								}
								60 = {
									change_variable = { which = reformed value = 2 }
									change_variable = { which = protestant value = -2 }
								}
								20 = { }
							}
							if = {
								limit = { check_variable = { which = protestant value = 10 } }
								random_list = {
									20 = {
										change_variable = { which = protestant value = -2 }
										change_variable = { which = converts value = 2 }
									}
									60 = {
										change_variable = { which = reformed value = 2 }
										change_variable = { which = protestant value = -2 }
									}
									20 = { }
								}
								if = {
									limit = { check_variable = { which = protestant value = 12 } }
									random_list = {
										20 = {
											change_variable = { which = protestant value = -2 }
											change_variable = { which = converts value = 2 }
										}
										60 = {
											change_variable = { which = reformed value = 2 }
											change_variable = { which = protestant value = -2 }
										}
										20 = { }
									}
									if = {
										limit = { check_variable = { which = protestant value = 14 } }
										random_list = {
											20 = {
												change_variable = { which = protestant value = -2 }
												change_variable = { which = converts value = 2 }
											}
											60 = {
												change_variable = { which = reformed value = 2 }
												change_variable = { which = protestant value = -2 }
											}
											20 = { }
										}
										if = {
											limit = { check_variable = { which = protestant value = 16 } }
											random_list = {
												20 = {
													change_variable = { which = protestant value = -2 }
													change_variable = { which = converts value = 2 }
												}
												60 = {
													change_variable = { which = reformed value = 2 }
													change_variable = { which = protestant value = -2 }
												}
												20 = { }
											}
											if = {
												limit = { check_variable = { which = protestant value = 18 } }
												random_list = {
													20 = {
														change_variable = { which = protestant value = -2 }
														change_variable = { which = converts value = 2 }
													}
													60 = {
														change_variable = { which = reformed value = 2 }
														change_variable = { which = protestant value = -2 }
													}
													20 = { }
												}
												if = {
													limit = { check_variable = { which = protestant value = 20 } }
													random_list = {
														20 = {
															change_variable = { which = protestant value = -2 }
															change_variable = { which = converts value = 2 }
														}
														60 = {
															change_variable = { which = reformed value = 2 }
															change_variable = { which = protestant value = -2 }
														}
														20 = { }
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.044.b #Encourage them to stay true to their beliefs
		ai_chance = {
			factor = 30
			modifier = {
				has_country_flag = spread_reformation
				factor = 1.4
			}
			modifier = {
				has_country_flag = introduce_reformation
				factor = 2
			}
			modifier = {
				dominant_religion = protestant
				factor = 2
			}
		}
		add_papal_influence = -50
		custom_tooltip = reformed_20
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = protestant value = 2 } }
				random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
				if = {
					limit = { check_variable = { which = protestant value = 4 } }
					random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
					if = {
						limit = { check_variable = { which = protestant value = 6 } }
						random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
						if = {
							limit = { check_variable = { which = protestant value = 8 } }
							random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
							if = {
								limit = { check_variable = { which = protestant value = 10 } }
								random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
								if = {
									limit = { check_variable = { which = protestant value = 12 } }
									random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
									if = {
										limit = { check_variable = { which = protestant value = 14 } }
										random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
										if = {
											limit = { check_variable = { which = protestant value = 16 } }
											random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
											if = {
												limit = { check_variable = { which = protestant value = 18 } }
												random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												if = {
													limit = { check_variable = { which = protestant value = 20 } }
													random = { chance = 20 change_variable = { which = protestant value = -2 } change_variable = { which = reformed value = 2 } }
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

country_event = { #Religious Nationalism
	
	id = dg_reformation.045
	title = dg_reformed.003.t
	desc = dg_reformed.003.d
	picture = reformed_converts
	
	trigger = {
		has_country_flag = reaction_to_reformation
		NOT = { has_country_flag = nationalist_reformation }
		OR = {
			religion = catholic
			religion = protestant
		}
		OR = {
			is_religion_enabled = reformed
			has_global_flag = reformation_luther_martyred
		}
		NOT = { religion_years = { protestant = 70 } }
		NOT = { check_variable = { which = inquisition value = 2 } }
		any_owned_province = {
			has_province_flag = humanist_ideas
			OR = {
				NOT = { culture_group = owner }
				NOT = { is_core = owner }
				has_owner_religion = no
				is_in_capital_area = no
				has_province_modifier = religious_nationalism
			}
		}
		OR = {
			capital_scope = { continent = europe }
			is_former_colonial_nation = yes
		}
	}
	
	mean_time_to_happen = {
		
		years = 8
		
		modifier = {
			religion = protestant
			factor = 2
		}
	}
	
	immediate = {
		set_country_flag = nationalist_reformation
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_flag = humanist_ideas
					OR = {
						religion = protestant
						religion = catholic
					}
				}
				hidden_effect = {
					if = {
						limit = { has_owner_religion = no }
						change_variable = { which = reformed_chance value = 1 }
						set_province_flag = affected_province
					}
					if = {
						limit = { NOT = { is_core = owner } }
						change_variable = { which = reformed_chance value = 1 }
						set_province_flag = affected_province
					}
					if = {
						limit = { NOT = { culture_group = owner } }
						change_variable = { which = reformed_chance value = 1 }
						set_province_flag = affected_province
					}
					if = {
						limit = { is_in_capital_area = no }
						change_variable = { which = reformed_chance value = 1 }
						set_province_flag = affected_province
					}
					if = {
						limit = { has_province_modifier = religious_nationalism }
						change_variable = { which = reformed_chance value = 2 }
						set_province_flag = affected_province
					}
					if = {
						limit = { has_province_flag = affected_province }
						clr_province_flag = affected_province
						if = {
							limit = { has_owner_culture = yes }
							owner = { change_variable = { which = affected_home_provinces value = 1 } }
						}
						owner = { change_variable = { which = affected_provinces value = 1 } }
					}
				}
			}
		}
	}
	
	option = {
		name = dg_reformed.003.b #Burn them at the stake
		ai_chance = {
			factor = 70
			modifier = {
				NOT = { stability = 1 }
				factor = 0.7
			}
			modifier = {
				NOT = { stability = -1 }
				factor = 0.7
			}
			modifier = {
				has_real_disaster_trigger = yes
				factor = 0
			}
			modifier = {
				is_at_war = yes
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 4
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 8
				factor = 0.7
			}
			modifier = {
				war_exhaustion = 12
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.50 }
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.25 }
				factor = 0.7
			}
			modifier = {
				NOT = { manpower_percentage = 0.10 }
				factor = 0.7
			}
			modifier = {
				num_of_revolts = 1
				factor = 0.7
			}
			modifier = {
				num_of_revolts = 2
				factor = 0.7
			}
		}
		subtract_stability_1 = yes
		custom_tooltip = reformed_20
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		if = {
			limit = { any_owned_province = { check_variable = { which = reformed_chance value = 6 } } }
			every_owned_province = {
				limit = { check_variable = { which = reformed_chance value = 6 } }
				hidden_effect = {
					set_variable = { which = added_unrest value = 12 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_12
			}
		}
		if = {
			limit = {
				any_owned_province = { check_variable = { which = reformed_chance value = 5 } NOT = { check_variable = { which = reformed_chance value = 6 } } }
			}
			every_owned_province = {
				limit = {
					check_variable = { which = reformed_chance value = 5 }
					NOT = { check_variable = { which = reformed_chance value = 6 } }
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 10 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_10
			}
		}
		if = {
			limit = {
				any_owned_province = { check_variable = { which = reformed_chance value = 4 } NOT = { check_variable = { which = reformed_chance value = 5 } } }
			}
			every_owned_province = {
				limit = {
					check_variable = { which = reformed_chance value = 4 }
					NOT = { check_variable = { which = reformed_chance value = 5 } }
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 8 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_8
			}
		}
		if = {
			limit = {
				any_owned_province = { check_variable = { which = reformed_chance value = 3 } NOT = { check_variable = { which = reformed_chance value = 4 } } }
			}
			every_owned_province = {
				limit = {
					check_variable = { which = reformed_chance value = 3 }
					NOT = { check_variable = { which = reformed_chance value = 4 } }
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 6 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_6
			}
		}
		if = {
			limit = {
				any_owned_province = { check_variable = { which = reformed_chance value = 2 } NOT = { check_variable = { which = reformed_chance value = 3 } } }
			}
			every_owned_province = {
				limit = {
					check_variable = { which = reformed_chance value = 2 }
					NOT = { check_variable = { which = reformed_chance value = 3 } }
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 4 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_4
			}
		}
		if = {
			limit = {
				any_owned_province = { check_variable = { which = reformed_chance value = 1 } NOT = { check_variable = { which = reformed_chance value = 2 } } }
			}
			every_owned_province = {
				limit = {
					check_variable = { which = reformed_chance value = 1 }
					NOT = { check_variable = { which = reformed_chance value = 2 } }
				}
				hidden_effect = {
					set_variable = { which = added_unrest value = 2 }
					add_base_unrest = yes
				}
				custom_tooltip = added_unrest_2
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = { check_variable = { which = reformed_chance value = 2 } }
				random = {
					chance = 50
					change_variable = { which = province_religion value = -4 }
					change_variable = { which = reformed value = 4 }
				}
			}
			every_owned_province = {
				limit = { check_variable = { which = reformed_chance value = 4 } }
				random = {
					chance = 50
					change_variable = { which = province_religion value = -4 }
					change_variable = { which = reformed value = 4 }
				}
			}
			every_owned_province = {
				limit = { check_variable = { which = reformed_chance value = 6 } }
				random = {
					chance = 50
					change_variable = { which = province_religion value = -4 }
					change_variable = { which = reformed value = 4 }
				}
			}
			set_variable = { which = reformed_chance value = 0 }
		}
	}
	option = {
		name = dg_reformed.003.a #Fight this faith with words
		ai_chance = { factor = 30 }
		custom_tooltip = reformed_40
		if = {
			limit = { NOT = { check_variable = { which = affected_home_provinces value = 1 } } }
			custom_tooltip = affected_province_count_none
		}
		if = {
			limit = { check_variable = { which = affected_home_provinces value = 1 } }
			custom_tooltip = affected_province_count
		}
		hidden_effect = { set_variable = { which = affected_provinces value = 0 } set_variable = { which = affected_home_provinces value = 0 } }
		every_owned_province = {
			limit = {
				has_province_flag = humanist_ideas
				OR = {
					religion = protestant
					religion = catholic
				}
			}
			hidden_effect = {
				set_variable = { which = reformed_chance value = 0 }
				if = {
					limit = { has_owner_religion = no }
					random = {
						chance = 50
						change_variable = { which = province_religion value = -4 }
						change_variable = { which = reformed value = 4 }
					}
				}
				if = {
					limit = { NOT = { is_core = owner } }
					random = {
						chance = 50
						change_variable = { which = province_religion value = -4 }
						change_variable = { which = reformed value = 4 }
					}
				}
				if = {
					limit = { NOT = { culture_group = owner } }
					random = {
						chance = 50
						change_variable = { which = province_religion value = -4 }
						change_variable = { which = reformed value = 4 }
					}
				}
				if = {
					limit = { is_in_capital_area = no }
					random = {
						chance = 50
						change_variable = { which = province_religion value = -4 }
						change_variable = { which = reformed value = 4 }
					}
				}
				if = {
					limit = { has_province_modifier = religious_nationalism }
					change_variable = { which = province_religion value = -4 }
					change_variable = { which = reformed value = 4 }
				}
			}
		}
	}
}



##################
# Church Aspects # 60s and 70s
##################

country_event = { #61 - Debate over Clerical Marriage
	
	id = dg_reformation.061
	title = dg_reformation.061.t
	desc = dg_reformation.061.d
	picture = protestant_reformers
	
	trigger = {
		#church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = { religion_years = { protestant = 100 } }
			}
			AND = {
				religion = reformed
				NOT = { religion_years = { reformed = 100 } }
				check_variable = { which = church_aspects value = 3 }
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = { religion_years = { hussite = 100 } }
			}
		}
		NOT = { has_country_modifier = married_pastors_aspect }
		NOT = { has_country_modifier = celibate_priests_aspect }
		NOT = { has_country_modifier = religious_controversy }
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = reformed
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_clerical_marriage
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_clerical_celibacy
		}
		hidden_effect = {
			#add_church_power = -100
			change_variable = { which = church_aspects value = 1 }
		}
	}
	
	option = {
		name = dg_reformation.061.a #Married pastors allowed (Protestant, Reformed, Calixtine)
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = protestant
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = married_pastors_aspect
		#	custom_tooltip = desc_married_pastors_aspect
		add_country_modifier = { name = married_pastors_aspect duration = -1 }
		every_known_country = {
			limit = { has_country_modifier = married_pastors_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = celibate_priests_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = hussite religion = protestant religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = hussite religion = protestant religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_hussite }
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_protestant }
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_reformed }
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_hussite }
					is_religion_enabled = protestant #Not reformed on purpose
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = protestant } #Not reformed on purpose
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.061.b #Celibate priests required (Gnostic, Catholic)
		ai_chance = {
			factor = 50
			modifier = {
				religion = gnostic
				factor = 3
			}
			modifier = {
				check_variable = { which = gnostic_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = catholic_population value = 30 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = catholic_population value = 10 }
				factor = 1.2
			}
		}
		set_country_flag = celibate_priests_aspect
		#	custom_tooltip = desc_celibate_priests_aspect
		add_country_modifier = { name = celibate_priests_aspect duration = -1 }
		every_known_country = {
			limit = { has_country_modifier = celibate_priests_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = married_pastors_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { religion = gnostic }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_catholic }
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			else = {
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
}

country_event = { #62 - Debate over Divorce
	
	id = dg_reformation.062
	title = dg_reformation.062.t
	desc = dg_reformation.062.d
	picture = protestant_disputation
	
	trigger = {
		#church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = { religion_years = { protestant = 100 } }
			}
			AND = {
				religion = reformed
				NOT = { religion_years = { reformed = 100 } }
				check_variable = { which = church_aspects value = 3 }
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = { religion_years = { hussite = 100 } }
			}
		}
		NOT = { has_country_modifier = legal_divorce_aspect }
		NOT = { has_country_modifier = limited_divorce_aspect }
		NOT = { has_country_modifier = civil_unions_aspect }
		NOT = { has_country_modifier = religious_controversy }
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = preferred_aspect_legal_divorce
		}
		if = {
			limit = {
				OR = {
					religion = reformed
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_limited_divorce
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_civil_unions
		}
		hidden_effect = {
			#add_church_power = -100
			change_variable = { which = church_aspects value = 1 }
		}
	}
	
	option = {
		name = dg_reformation.062.a #Divorce is legal (Protestant)
		trigger = { OR = { religion = protestant is_religion_enabled = protestant } }
		ai_chance = {
			factor = 35
			modifier = {
				religion = protestant
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = legal_divorce_aspect
		add_country_modifier = { name = legal_divorce_aspect duration = -1 }
		#	custom_tooltip = desc_legal_divorce_aspect
		every_known_country = {
			limit = { has_country_modifier = legal_divorce_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = civil_unions_aspect has_country_modifier = limited_divorce_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { religion = protestant }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 2000 }
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
						religion_group = christian
					}
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
	option = {
		name = dg_reformation.062.b #Divorce in extreme cases (Reformed, Calixtine, Catholic)
		ai_chance = {
			factor = 35
			modifier = {
				OR = {
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = catholic_population value = 30 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = catholic_population value = 10 }
				factor = 1.2
			}
		}
		set_country_flag = limited_divorce_aspect
		#	custom_tooltip = desc_limited_divorce_aspect
		add_country_modifier = { name = limited_divorce_aspect duration = -1 }
		every_known_country = {
			limit = { has_country_modifier = limited_divorce_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = civil_unions_aspect has_country_modifier = legal_divorce_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = hussite religion = catholic religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = hussite religion = catholic religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_hussite }
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_catholic }
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_reformed }
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_hussite }
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.062.c #Marriage is irrelevant (Gnostic)
		ai_chance = {
			factor = 30
			modifier = {
				religion = gnostic
				factor = 3
			}
			modifier = {
				check_variable = { which = gnostic_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = civil_unions_aspect
		#	custom_tooltip = desc_civil_unions_aspect
		add_country_modifier = { name = civil_unions_aspect duration = -1 }
		add_patriarch_authority = -0.10
		every_known_country = {
			limit = { has_country_modifier = civil_unions_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = legal_divorce_aspect has_country_modifier = limited_divorce_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { religion = gnostic }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 2000 }
			custom_tooltip = gnostic_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = gnostic value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #63 - Debate over Scripture
	
	id = dg_reformation.063
	title = dg_reformation.063.t
	desc = dg_reformation.063.d
	picture = protestant_bible
	
	trigger = {
		#church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = { religion_years = { protestant = 100 } }
			}
			AND = {
				religion = reformed
				NOT = { religion_years = { reformed = 100 } }
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = { religion_years = { hussite = 100 } }
			}
		}
		NOT = { has_country_modifier = biblical_inerrancy_aspect }
		NOT = { has_country_modifier = individual_interpretation_aspect }
		NOT = { has_country_modifier = guided_interpretation_aspect }
		NOT = { has_country_modifier = religious_controversy }
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				OR = {
					religion = reformed
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_biblical_inerrancy
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_individual_interpretation
		}
		hidden_effect = {
			#add_church_power = -100
			change_variable = { which = church_aspects value = 1 }
		}
	}
	
	option = {
		name = dg_reformation.063.a #Biblical Inerrancy (Reformed, Calixtine)
		ai_chance = {
			factor = 35
			modifier = {
				OR = {
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = biblical_inerrancy_aspect
		#	custom_tooltip = desc_biblical_inerrancy_aspect
		add_country_modifier = { name = biblical_inerrancy_aspect duration = -1 }
		every_known_country = {
			limit = { has_country_modifier = biblical_inerrancy_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = individual_interpretation_aspect has_country_modifier = guided_interpretation_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = reformed religion = hussite } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = reformed religion = hussite } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_reformed }
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_hussite }
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_hussite }
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.063.b #Individual Interpretation (Protestant*, Gnostic)
		trigger = { OR = { religion = gnostic is_religion_enabled = protestant } }
		ai_chance = {
			factor = 35
			modifier = {
				OR = {
					religion = gnostic
					religion = protestant
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = gnostic_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = individual_interpretation_aspect
		#	custom_tooltip = desc_individual_interpretation_aspect
		add_country_modifier = { name = individual_interpretation_aspect duration = -1 }
		every_known_country = {
			limit = { has_country_modifier = guided_interpretation_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = biblical_inerrancy_aspect has_country_modifier = guided_interpretation_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = protestant religion = gnostic } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = protestant religion = gnostic } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_protestant }
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_gnostic }
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_gnostic }
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_gnostic }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.063.c #Guided Interpretation (Protestant*, Catholic)
		ai_chance = {
			factor = 30
			modifier = {
				religion = protestant
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = catholic_population value = 30 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = catholic_population value = 10 }
				factor = 1.2
			}
		}
		set_country_flag = guided_interpretation_aspect
		#	custom_tooltip = desc_guided_interpretation_aspect
		add_country_modifier = { name = guided_interpretation_aspect duration = -1 }
		add_patriarch_authority = 0.05
		every_known_country = {
			limit = { has_country_modifier = guided_interpretation_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = biblical_inerrancy_aspect has_country_modifier = individual_interpretation_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { religion = protestant }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_catholic }
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_protestant }
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
}

country_event = { #64 - Debate over Baptism
	
	id = dg_reformation.064
	title = dg_reformation.064.t
	desc = dg_reformation.064.d
	picture = protestant_reformers
	
	trigger = {
		check_variable = { which = church_aspects value = 3 }
		#church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = { religion_years = { protestant = 100 } }
			}
			AND = {
				religion = reformed
				NOT = { religion_years = { reformed = 100 } }
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = { religion_years = { hussite = 100 } }
			}
		}
		NOT = { has_country_modifier = adult_baptism_aspect }
		NOT = { has_country_modifier = infant_baptism_aspect }
		NOT = { has_country_modifier = religious_controversy }
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_infant_baptism
		}
		if = {
			limit = {
				religion = gnostic
			}
			custom_tooltip = preferred_aspect_adult_baptism
		}
		hidden_effect = {
			#add_church_power = -100
			change_variable = { which = church_aspects value = 1 }
		}
	}
	
	option = {
		name = dg_reformation.064.a #Infant Baptism (Protestant, Reformed*, Hussite, Catholic)
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = protestant
					religion = hussite
					religion = reformed
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = catholic_population value = 30 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = catholic_population value = 10 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = infant_baptism_aspect
		add_country_modifier = { name = infant_baptism_aspect duration = -1 }
		#	custom_tooltip = desc_infant_baptism_aspect
		every_known_country = {
			limit = { has_country_modifier = infant_baptism_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = adult_baptism_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = reformed
					religion = hussite
				}
			}
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = protestant religion = reformed religion = hussite } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_catholic }
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_protestant }
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_reformed }
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_hussite }
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_hussite }
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							is_in_capital_area = yes
							culture_group = owner
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.064.b #Adult Baptism (Gnostic, Reformed*)
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = gnostic
					religion = reformed
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = gnostic_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = adult_baptism_aspect
		#	custom_tooltip = desc_adult_baptism_aspect
		add_country_modifier = { name = adult_baptism_aspect duration = -1 }
		add_piety = 0.05
		every_known_country = {
			limit = { has_country_modifier = adult_baptism_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = infant_baptism_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = gnostic religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = gnostic religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_gnostic }
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_reformed }
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_gnostic }
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_gnostic }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
}

country_event = { #65 - Debate over Salvation
	
	id = dg_reformation.065
	title = dg_reformation.065.t
	desc = dg_reformation.065.d
	picture = reformed_confession
	
	trigger = {
		#church_power = 50
		OR = {
			check_variable = { which = church_aspects value = 3 }
			religion = reformed
		}
		OR = {
			AND = {
				religion = protestant
				NOT = { religion_years = { protestant = 100 } }
			}
			AND = {
				religion = reformed
				NOT = { religion_years = { reformed = 100 } }
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = { religion_years = { hussite = 100 } }
			}
		}
		NOT = { has_country_modifier = free_will_aspect }
		NOT = { has_country_modifier = predestination_aspect }
		NOT = { has_country_modifier = religious_controversy }
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
				}
			}
			custom_tooltip = preferred_aspect_free_will
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = preferred_aspect_predestination
		}
		hidden_effect = {
			#add_church_power = -100
			change_variable = { which = church_aspects value = 1 }
		}
	}
	
	option = {
		name = dg_reformation.065.a #Free Will (Protestant, Hussite*, Catholic, Gnostic)
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = catholic_population value = 30 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = catholic_population value = 10 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = free_will_aspect
		add_country_modifier = { name = free_will_aspect duration = -1 }
		#	custom_tooltip = desc_free_will_aspect
		every_known_country = {
			limit = { has_country_modifier = free_will_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = predestination_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
				}
			}
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = protestant religion = gnostic religion = hussite } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_catholic }
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_protestant }
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_gnostic }
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_hussite }
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_gnostic }
					NOT = { has_country_flag = was_hussite }
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_gnostic }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = protestant }
					is_religion_enabled = hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					NOT = { has_country_flag = was_gnostic }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = protestant }
					NOT = { is_religion_enabled = hussite }
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.065.b #Predestination (Reformed, Hussite*)
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = reformed
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = predestination_aspect
		#	custom_tooltip = desc_predestination_aspect
		add_country_modifier = { name = predestination_aspect duration = -1 }
		every_known_country = {
			limit = { has_country_modifier = predestination_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = free_will_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = hussite religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = hussite religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_hussite }
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_reformed }
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_hussite }
					is_religion_enabled = protestant
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
}

country_event = { #66 - Debate over Ordination
	
	id = dg_reformation.066
	title = dg_reformation.066.t
	desc = dg_reformation.066.d
	picture = reformed_converts
	
	trigger = {
		OR = {
			check_variable = { which = church_aspects value = 5 }
			religion = reformed
		}
		#church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = { religion_years = { protestant = 100 } }
			}
			AND = {
				religion = reformed
				NOT = { religion_years = { reformed = 100 } }
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = { religion_years = { hussite = 100 } }
			}
		}
		NOT = { has_country_modifier = appointed_bishops_aspect }
		NOT = { has_country_modifier = elected_ministers_aspect }
		NOT = { has_country_modifier = lay_priesthood_aspect }
		NOT = { has_country_modifier = religious_controversy }
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				religion = protestant
			}
			custom_tooltip = preferred_aspect_appointed_bishops
		}
		if = {
			limit = {
				religion = reformed
			}
			custom_tooltip = preferred_aspect_elected_ministers
		}
		if = {
			limit = {
				OR = {
					religion = hussite
					religion = gnostic
				}
			}
			custom_tooltip = preferred_aspect_lay_priesthood
		}
		hidden_effect = {
			#add_church_power = -100
			change_variable = { which = church_aspects value = 1 }
		}
	}
	
	option = {
		name = dg_reformation.066.a #Appointed Bishops (Protestant, Catholic)
		ai_chance = {
			factor = 35
			modifier = {
				religion = protestant
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = catholic_population value = 30 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = catholic_population value = 10 }
				factor = 1.2
			}
		}
		set_country_flag = appointed_bishops_aspect
		add_country_modifier = { name = appointed_bishops_aspect duration = -1 }
		#	custom_tooltip = desc_appointed_bishops_aspect
		add_patriarch_authority = -0.10
		every_known_country = {
			limit = { has_country_modifier = appointed_bishops_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = elected_ministers_aspect has_country_modifier = lay_priesthood_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { religion = protestant }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_protestant }
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_catholic }
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					is_religion_enabled = protestant
				}
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_catholic }
					NOT = { has_country_flag = was_protestant }
					NOT = { is_religion_enabled = protestant }
				}
				custom_tooltip = catholic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = catholic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
	option = {
		name = dg_reformation.066.b #Elected Ministers (Reformed)
		trigger = { OR = { religion = reformed is_religion_enabled = protestant } }
		ai_chance = {
			factor = 35
			modifier = {
				religion = reformed
				factor = 3
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = elected_ministers_aspect
		#	custom_tooltip = desc_elected_ministers_aspect
		add_country_modifier = { name = elected_ministers_aspect duration = -1 }
		every_known_country = {
			limit = { has_country_modifier = elected_ministers_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = lay_priesthood_aspect has_country_modifier = appointed_bishops_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { religion = reformed }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 2000 }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
	option = {
		name = dg_reformation.066.c #Lay Priesthood (Gnostic, Hussite)
		ai_chance = {
			factor = 30
			modifier = {
				OR = {
					religion = gnostic
					religion = hussite
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = gnostic_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = lay_priesthood_aspect
		#	custom_tooltip = desc_lay_priesthood_aspect
		add_country_modifier = { name = lay_priesthood_aspect duration = -1 }
		add_piety = 0.05
		every_known_country = {
			limit = { has_country_modifier = lay_priesthood_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { OR = { has_country_modifier = appointed_bishops_aspect has_country_modifier = elected_ministers_aspect } }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = gnostic religion = hussite } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = gnostic religion = hussite } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_gnostic }
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_hussite }
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_gnostic }
					NOT = { has_country_flag = was_hussite }
					is_religion_enabled = hussite
				}
				custom_tooltip = hussite_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = hussite value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_gnostic }
					NOT = { has_country_flag = was_hussite }
					NOT = { is_religion_enabled = hussite }
				}
				custom_tooltip = gnostic_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = gnostic value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
}

country_event = { #67 - Debate over Church Membership
	
	id = dg_reformation.067
	title = dg_reformation.067.t
	desc = dg_reformation.067.d
	picture = protestant_disputation
	
	trigger = {
		check_variable = { which = church_aspects value = 5 }
		#church_power = 50
		OR = {
			AND = {
				religion = protestant
				NOT = { religion_years = { protestant = 100 } }
			}
			AND = {
				religion = reformed
				NOT = { religion_years = { reformed = 100 } }
			}
			AND = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				NOT = { religion_years = { hussite = 100 } }
			}
		}
		NOT = { has_country_modifier = free_membership_aspect }
		NOT = { has_country_modifier = enforced_membership_aspect }
		NOT = { has_country_modifier = religious_controversy }
		piety = -0.60
		OR = {
			ai = yes
			has_country_flag = religious_news_major
		}
	}
	
	mean_time_to_happen = { months = 6 }
	
	immediate = {
		if = {
			limit = {
				OR = {
					religion = protestant
					religion = gnostic
					religion = hussite
					religion = reformed
				}
			}
			custom_tooltip = preferred_aspect_enforced_membership
		}
		hidden_effect = {
			#add_church_power = -100
			change_variable = { which = church_aspects value = 1 }
		}
	}
	
	option = {
		name = dg_reformation.067.a #Enforced Membership (Protestant*, Reformed*, Hussite, Catholic, Gnostic)
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = hussite
					religion = gnostic
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = hussite_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = catholic_population value = 30 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = catholic_population value = 10 }
				factor = 1.2
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = gnostic_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = enforced_membership_aspect
		add_country_modifier = { name = enforced_membership_aspect duration = -1 }
		#	custom_tooltip = desc_enforced_membership_aspect
		every_known_country = {
			limit = { has_country_modifier = enforced_membership_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = free_membership_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		add_country_modifier = { name = religious_controversy duration = 500 }
		custom_tooltip = convert_10
		hidden_effect = {
			every_owned_province = {
				limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
					religion_group = christian
				}
				change_variable = { which = converts value = 2 }
				change_variable = { which = province_religion value = -2 }
			}
		}
	}
	option = {
		name = dg_reformation.067.b #Free Membership (Reformed*, Protestant*)
		trigger = { OR = { religion = protestant religion = reformed is_religion_enabled = protestant } }
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					religion = reformed
					religion = protestant
				}
				factor = 3
			}
			modifier = {
				check_variable = { which = protestant_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = protestant_population value = 10 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 30 }
				factor = 1.4
			}
			modifier = {
				check_variable = { which = reformed_population value = 10 }
				factor = 1.4
			}
		}
		set_country_flag = free_membership_aspect
		#	custom_tooltip = desc_free_membership_aspect
		add_country_modifier = { name = free_membership_aspect duration = -1 }
		add_piety = 0.05
		add_patriarch_authority = -0.10
		every_known_country = {
			limit = { has_country_modifier = free_membership_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = same_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = same_aspect_observant }
			}
		}
		every_known_country = {
			limit = { has_country_modifier = enforced_membership_aspect }
			if = {
				limit = { piety = 0.60 }
				add_opinion = { who = ROOT modifier = different_aspect_fanatical }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_pious }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_opinion = { who = ROOT modifier = different_aspect_observant }
			}
		}
		if = {
			limit = { OR = { religion = protestant religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 500 }
			custom_tooltip = convert_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converts value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = { NOT = { religion = protestant religion = reformed } }
			add_country_modifier = { name = religious_controversy duration = 2000 }
			if = {
				limit = { has_country_flag = was_protestant }
				custom_tooltip = protestant_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = protestant value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = { has_country_flag = was_reformed }
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = was_reformed }
					NOT = { has_country_flag = was_gnostic }
				}
				custom_tooltip = reformed_10
				hidden_effect = {
					every_owned_province = {
						limit = {
							OR = {
								is_in_capital_area = yes
								owner = { government_rank = 4 }
							}
							OR = {
								culture_group = owner
								has_owner_accepted_culture = yes
							}
							religion_group = christian
						}
						change_variable = { which = reformed value = 2 }
						change_variable = { which = province_religion value = -2 }
					}
				}
			}
		}
	}
}

############
# Churches # 70s and 80s
############

country_event = { #71 - The Protestant Church (1517)
	
	id = dg_reformation.071
	title = dg_reformation.071.t
	desc = dg_reformation.071.d
	picture = protestant_reformation
	
	trigger = {
		religion = protestant
		OR = {
			check_variable = { which = church_aspects value = 3 }
			is_year = 1540
		}
		NOT = { has_country_flag = denomination_protestant_church }
		NOT = { has_country_flag = denomination_episcopalian_church }
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
		#Episcopal
		NOT = { has_country_modifier = guided_interpretation_aspect }
		NOT = { has_country_modifier = celibate_priests_aspect } #Ahistorical
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_protestant_church }
	
	option = {
		name = dg_reformation.071.a #Give it our support
		ai_chance = {
			factor = 70
			modifier = {
				NOT = { religion = protestant }
				factor = 0
			}
		}
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_protestant_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = protestant }
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = {
				NOT = { has_country_modifier = biblical_inerrancy_aspect }
				NOT = { has_country_modifier = individual_interpretation_aspect }
				NOT = { has_country_modifier = guided_interpretation_aspect }
			}
			add_country_modifier = { name = individual_interpretation_aspect duration = -1 }
		}
		if = {
			limit = {
				NOT = { has_country_modifier = married_pastors_aspect }
				NOT = { has_country_modifier = celibate_priests_aspect }
			}
			add_country_modifier = { name = married_pastors_aspect duration = -1 }
		}
		#if after 1600...add more...if after 1700 add even more
	}
	option = {
		name = dg_reformation.071.a #Reject it
		trigger = {
			OR = {
				NOT = { has_country_modifier = individual_interpretation_aspect }
				NOT = { has_country_modifier = married_pastors_aspect }
			}
		}
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_protestant_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = protestant }
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #72 - The Episcopalian Church (1534)
	
	id = dg_reformation.072
	title = dg_reformation.072.t
	desc = dg_reformation.072.d
	picture = protestant_state_church
	
	trigger = {
		religion = protestant
		OR = {
			check_variable = { which = church_aspects value = 4 }
			is_year = 1560
		}
		NOT = { has_country_flag = denomination_episcopalian_church }
		NOT = { has_country_flag = denomination_protestant_church }
		NOT = { is_year = 1680 }
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
		OR = {
			has_country_modifier = guided_interpretation_aspect
			has_country_modifier = celibate_priests_aspect
		}
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_episcopalian_church }
	
	option = {
		name = dg_reformation.071.a #Support it
		ai_chance = {
			factor = 70
			modifier = {
				NOT = { religion = protestant }
				factor = 0
			}
		}
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_episcopalian_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = protestant }
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = {
				NOT = { has_country_modifier = biblical_inerrancy_aspect }
				NOT = { has_country_modifier = individual_interpretation_aspect }
				NOT = { has_country_modifier = guided_interpretation_aspect }
			}
			add_country_modifier = { name = guided_interpretation_aspect duration = -1 }
		}
		if = {
			limit = {
				NOT = { has_country_modifier = married_pastors_aspect }
				NOT = { has_country_modifier = celibate_priests_aspect }
			}
			add_country_modifier = { name = celibate_priests_aspect duration = -1 }
		}
	}
	option = {
		name = dg_reformation.071.b #Reject it
		trigger = {
			OR = {
				NOT = { has_country_modifier = celibate_priests_aspect }
				NOT = { has_country_modifier = guided_interpretation_aspect }
			}
		}
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_episcopalian_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = protestant }
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #73 - The Reformed Church (1536)
	
	id = dg_reformation.073
	title = dg_reformation.073.t
	desc = dg_reformation.073.d
	picture = reformed_confession
	
	trigger = {
		religion = reformed
		OR = {
			check_variable = { which = church_aspects value = 3 }
			is_year = 1540
		}
		NOT = { has_country_flag = denomination_reformed_church }
		NOT = { has_country_flag = denomination_presbyterian_church }
		NOT = { is_year = 1640 }
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
		NOT = { has_country_modifier = free_will_aspect }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_reformed_church }
	
	option = {
		name = dg_reformation.071.a #Support it
		ai_chance = {
			factor = 70
			modifier = {
				NOT = { religion = reformed }
				factor = 0
			}
		}
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_reformed_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = reformed }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
		if = {
			limit = {
				NOT = { has_country_modifier = predestination_aspect }
				NOT = { has_country_modifier = free_will_aspect }
			}
			add_country_modifier = { name = predestination_aspect duration = -1 }
		}
	}
	option = {
		name = dg_reformation.071.b #Reject it
		ai_chance = { factor = 30 }
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_reformed_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = reformed }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #74 - The Puritan Church (1558)
	
	id = dg_reformation.074
	title = dg_reformation.074.t
	desc = dg_reformation.074.d
	picture = reformed_rebellion
	
	trigger = {
		religion = protestant
		has_country_flag = denomination
		is_year = 1560
		NOT = { is_year = 1660 }
		NOT = { has_country_flag = denomination_puritan_church }
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
		OR = {
			has_country_modifier = biblical_inerrancy_aspect
			has_country_modifier = predestination_aspect
		}
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_puritan_church }
	
	option = {
		name = dg_reformation.071.a #May God be pleased with His Church
		if = {
			limit = { advisor = theologian }
			add_country_modifier = { name = religious_controversy duration = 1000 }
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 3000 }
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = new_denomination duration = 6000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = new_denomination duration = 4000 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = new_denomination duration = 2000 }
		}
		if = {
			limit = { religion = reformed }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #75 - The Presbyterian Church (1560)
	
	id = dg_reformation.075
	title = dg_reformation.075.t
	desc = dg_reformation.075.d
	picture = reformed_confession
	
	trigger = {
		religion = reformed
		OR = {
			check_variable = { which = church_aspects value = 3 }
			is_year = 1560
		}
		NOT = { has_country_flag = denomination_presbyterian_church }
		NOT = { is_year = 1660 }
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
		OR = {
			has_country_modifier = elected_ministers_aspect
			has_country_modifier = free_will_aspect
		}
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_presbyterian_church }
	
	option = {
		name = dg_reformation.071.a #May God be pleased with His Church
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_presbyterian_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = reformed }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #76 - The Congregationalist Church (1582)
	
	id = dg_reformation.076
	title = dg_reformation.076.t
	desc = dg_reformation.076.d
	picture = reformed_converts
	
	trigger = {
		OR = {
			religion = protestant
			religion = reformed
		}
		is_year = 1560
		NOT = { is_year = 1660 }
		has_country_flag = denomination
		NOT = { has_country_flag = denomination_congregational_church }
		NOT = { has_country_modifier = predestination_aspect }
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
		OR = { #Congregational aspects
			has_country_modifier = limited_divorce_aspect
			has_country_modifier = biblical_inerrancy_aspect
			has_country_modifier = adult_baptism_aspect
			has_country_modifier = elected_ministers_aspect
		}
		OR = {
			religion = protestant
			has_country_modifier = free_will_aspect
		}
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_congregational_church }
	
	option = {
		name = dg_reformation.071.a #May God be pleased with His Church
		if = {
			limit = { advisor = theologian }
			add_country_modifier = { name = religious_controversy duration = 1000 }
		}
		else = {
			add_country_modifier = { name = religious_controversy duration = 3000 }
		}
		if = {
			limit = { piety = 0.60 }
			add_country_modifier = { name = new_denomination duration = 6000 }
		}
		else_if = {
			limit = { piety = 0.20 }
			add_country_modifier = { name = new_denomination duration = 4000 }
		}
		else_if = {
			limit = { piety = -0.20 }
			add_country_modifier = { name = new_denomination duration = 2000 }
		}
		if = {
			limit = { religion = reformed }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #77 - The Baptist Church (1607/9)
	
	id = dg_reformation.077
	title = dg_reformation.077.t
	desc = dg_reformation.077.d
	picture = reformed_converts
	
	trigger = {
		OR = {
			religion = protestant
			religion = reformed
		}
		is_year = 1560
		NOT = { is_year = 1660 }
		NOT = { has_country_flag = denomination_baptist_church }
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
		OR = {
			has_country_modifier = adult_baptism_aspect
			has_country_modifier = free_will_aspect
			has_country_modifier = free_membership_aspect
		}
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_baptist_church }
	
	option = {
		name = dg_reformation.071.a #May God be pleased with His Church
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_baptist_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = reformed }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #78 - The Quaker Church (1648)
	
	id = dg_reformation.078
	title = dg_reformation.078.t
	desc = dg_reformation.078.d
	picture = reformed_converts
	
	trigger = {
		OR = {
			religion = protestant
			religion = reformed
		}
		is_year = 1600
		NOT = { is_year = 1700 }
		NOT = { has_country_flag = denomination_quaker_church }
		has_country_modifier = individual_interpretation_aspect
		OR = {
			has_country_modifier = free_membership_aspect
			has_country_modifier = lay_priesthood_aspect
		}
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_quaker_church }
	
	option = {
		name = dg_reformation.071.a #May God be pleased with His Church
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_quaker_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = reformed }
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = reformed_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = reformed value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

country_event = { #79 - The Methodist Church (1738)
	
	id = dg_reformation.079
	title = dg_reformation.079.t
	desc = dg_reformation.079.d
	picture = protestant_reformers
	
	trigger = {
		religion = protestant
		is_year = 1700
		NOT = { is_year = 1800 }
		NOT = { has_country_flag = denomination_methodist_church }
		OR = {
			has_country_modifier = individual_interpretation_aspect
			has_country_modifier = free_membership_aspect
		}
		NOT = { has_country_modifier = first_denomination }
		NOT = { has_country_modifier = new_denomination }
	}
	
	mean_time_to_happen = {
		
		years = 20
		
		modifier = {
			advisor = theologian
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 4 }
			factor = 0.5
		}
		modifier = {
			check_variable = { which = church_aspects value = 7 }
			factor = 0.5
		}
	}
	
	immediate = { set_country_flag = denomination_methodist_church }
	
	option = {
		name = dg_reformation.071.a #May God be pleased with His Church
		if = {
			limit = { has_country_flag = denomination }
			if = {
				limit = { advisor = theologian }
				add_country_modifier = { name = religious_controversy duration = 1000 }
			}
			else = {
				add_country_modifier = { name = religious_controversy duration = 3000 }
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = new_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = new_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = new_denomination duration = 2000 }
			}
		}
		else = {
			set_country_flag = denomination
			every_known_country = {
				limit = { has_country_flag = denomination_methodist_church }
				if = {
					limit = { piety = 0.60 }
					add_opinion = { who = ROOT modifier = same_aspect_fanatical }
				}
				else_if = {
					limit = { piety = 0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_pious }
				}
				else_if = {
					limit = { piety = -0.20 }
					add_opinion = { who = ROOT modifier = same_aspect_observant }
				}
			}
			if = {
				limit = { piety = 0.60 }
				add_country_modifier = { name = first_denomination duration = 6000 }
			}
			else_if = {
				limit = { piety = 0.20 }
				add_country_modifier = { name = first_denomination duration = 4000 }
			}
			else_if = {
				limit = { piety = -0.20 }
				add_country_modifier = { name = first_denomination duration = 2000 }
			}
		}
		if = {
			limit = { religion = protestant }
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = converted_heretics value = 2 }
				}
			}
		}
		else = {
			custom_tooltip = protestant_10
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							is_in_capital_area = yes
							owner = { government_rank = 4 }
						}
						OR = {
							culture_group = owner
							has_owner_accepted_culture = yes
						}
						religion_group = christian
					}
					change_variable = { which = protestant value = 2 }
					change_variable = { which = province_religion value = -2 }
				}
			}
		}
	}
}

